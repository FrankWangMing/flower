(function(Ht,Ln){typeof exports=="object"&&typeof module<"u"?Ln(exports):typeof define=="function"&&define.amd?define(["exports"],Ln):(Ht=typeof globalThis<"u"?globalThis:Ht||self,Ln(Ht.flower={}))})(this,(function(Ht){"use strict";var Ln=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},_e={exports:{}};var Qa=_e.exports,ls;function Ja(){return ls||(ls=1,(function(C,t){(function(){var e,s="4.17.21",c=200,h="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",f="Expected a function",p="Invalid `variable` option passed into `_.template`",d="__lodash_hash_undefined__",m=500,x="__lodash_placeholder__",M=1,E=2,T=4,w=1,b=2,S=1,P=2,q=4,N=8,F=16,z=32,B=64,D=128,it=256,et=512,lt=30,K="...",vt=800,mt=16,dt=1,V=2,Jt=3,Yt=1/0,Ft=9007199254740991,Xe=17976931348623157e292,Hn=NaN,mn=4294967295,Ch=mn-1,Rh=mn>>>1,Lh=[["ary",D],["bind",S],["bindKey",P],["curry",N],["curryRight",F],["flip",et],["partial",z],["partialRight",B],["rearg",it]],re="[object Arguments]",$e="[object Array]",Ih="[object AsyncFunction]",Te="[object Boolean]",Ae="[object Date]",Oh="[object DOMException]",Ve="[object Error]",Qe="[object Function]",Ms="[object GeneratorFunction]",hn="[object Map]",Ee="[object Number]",Ph="[object Null]",Mn="[object Object]",ys="[object Promise]",zh="[object Proxy]",Se="[object RegExp]",on="[object Set]",be="[object String]",Je="[object Symbol]",Uh="[object Undefined]",Ce="[object WeakMap]",Dh="[object WeakSet]",Re="[object ArrayBuffer]",ie="[object DataView]",Kr="[object Float32Array]",Yr="[object Float64Array]",Gr="[object Int8Array]",Zr="[object Int16Array]",Xr="[object Int32Array]",$r="[object Uint8Array]",Vr="[object Uint8ClampedArray]",Qr="[object Uint16Array]",Jr="[object Uint32Array]",qh=/\b__p \+= '';/g,Fh=/\b(__p \+=) '' \+/g,Bh=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ws=/&(?:amp|lt|gt|quot|#39);/g,Ts=/[&<>"']/g,Wh=RegExp(ws.source),Nh=RegExp(Ts.source),kh=/<%-([\s\S]+?)%>/g,Hh=/<%([\s\S]+?)%>/g,As=/<%=([\s\S]+?)%>/g,Kh=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Yh=/^\w*$/,Gh=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,jr=/[\\^$.*+?()[\]{}|]/g,Zh=RegExp(jr.source),ti=/^\s+/,Xh=/\s/,$h=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Vh=/\{\n\/\* \[wrapped with (.+)\] \*/,Qh=/,? & /,Jh=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,jh=/[()=,{}\[\]\/\s]/,to=/\\(\\)?/g,no=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Es=/\w*$/,eo=/^[-+]0x[0-9a-f]+$/i,ro=/^0b[01]+$/i,io=/^\[object .+?Constructor\]$/,so=/^0o[0-7]+$/i,co=/^(?:0|[1-9]\d*)$/,ao=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,je=/($^)/,ho=/['\n\r\u2028\u2029\\]/g,tr="\\ud800-\\udfff",oo="\\u0300-\\u036f",fo="\\ufe20-\\ufe2f",lo="\\u20d0-\\u20ff",Ss=oo+fo+lo,bs="\\u2700-\\u27bf",Cs="a-z\\xdf-\\xf6\\xf8-\\xff",uo="\\xac\\xb1\\xd7\\xf7",po="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",go="\\u2000-\\u206f",mo=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Rs="A-Z\\xc0-\\xd6\\xd8-\\xde",Ls="\\ufe0e\\ufe0f",Is=uo+po+go+mo,ni="['’]",xo="["+tr+"]",Os="["+Is+"]",nr="["+Ss+"]",Ps="\\d+",vo="["+bs+"]",zs="["+Cs+"]",Us="[^"+tr+Is+Ps+bs+Cs+Rs+"]",ei="\\ud83c[\\udffb-\\udfff]",_o="(?:"+nr+"|"+ei+")",Ds="[^"+tr+"]",ri="(?:\\ud83c[\\udde6-\\uddff]){2}",ii="[\\ud800-\\udbff][\\udc00-\\udfff]",se="["+Rs+"]",qs="\\u200d",Fs="(?:"+zs+"|"+Us+")",Mo="(?:"+se+"|"+Us+")",Bs="(?:"+ni+"(?:d|ll|m|re|s|t|ve))?",Ws="(?:"+ni+"(?:D|LL|M|RE|S|T|VE))?",Ns=_o+"?",ks="["+Ls+"]?",yo="(?:"+qs+"(?:"+[Ds,ri,ii].join("|")+")"+ks+Ns+")*",wo="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",To="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Hs=ks+Ns+yo,Ao="(?:"+[vo,ri,ii].join("|")+")"+Hs,Eo="(?:"+[Ds+nr+"?",nr,ri,ii,xo].join("|")+")",So=RegExp(ni,"g"),bo=RegExp(nr,"g"),si=RegExp(ei+"(?="+ei+")|"+Eo+Hs,"g"),Co=RegExp([se+"?"+zs+"+"+Bs+"(?="+[Os,se,"$"].join("|")+")",Mo+"+"+Ws+"(?="+[Os,se+Fs,"$"].join("|")+")",se+"?"+Fs+"+"+Bs,se+"+"+Ws,To,wo,Ps,Ao].join("|"),"g"),Ro=RegExp("["+qs+tr+Ss+Ls+"]"),Lo=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Io=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Oo=-1,yt={};yt[Kr]=yt[Yr]=yt[Gr]=yt[Zr]=yt[Xr]=yt[$r]=yt[Vr]=yt[Qr]=yt[Jr]=!0,yt[re]=yt[$e]=yt[Re]=yt[Te]=yt[ie]=yt[Ae]=yt[Ve]=yt[Qe]=yt[hn]=yt[Ee]=yt[Mn]=yt[Se]=yt[on]=yt[be]=yt[Ce]=!1;var Mt={};Mt[re]=Mt[$e]=Mt[Re]=Mt[ie]=Mt[Te]=Mt[Ae]=Mt[Kr]=Mt[Yr]=Mt[Gr]=Mt[Zr]=Mt[Xr]=Mt[hn]=Mt[Ee]=Mt[Mn]=Mt[Se]=Mt[on]=Mt[be]=Mt[Je]=Mt[$r]=Mt[Vr]=Mt[Qr]=Mt[Jr]=!0,Mt[Ve]=Mt[Qe]=Mt[Ce]=!1;var Po={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},zo={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Uo={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Do={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},qo=parseFloat,Fo=parseInt,Ks=typeof Ln=="object"&&Ln&&Ln.Object===Object&&Ln,Bo=typeof self=="object"&&self&&self.Object===Object&&self,It=Ks||Bo||Function("return this")(),ci=t&&!t.nodeType&&t,Kn=ci&&!0&&C&&!C.nodeType&&C,Ys=Kn&&Kn.exports===ci,ai=Ys&&Ks.process,jt=(function(){try{var _=Kn&&Kn.require&&Kn.require("util").types;return _||ai&&ai.binding&&ai.binding("util")}catch{}})(),Gs=jt&&jt.isArrayBuffer,Zs=jt&&jt.isDate,Xs=jt&&jt.isMap,$s=jt&&jt.isRegExp,Vs=jt&&jt.isSet,Qs=jt&&jt.isTypedArray;function Gt(_,R,A){switch(A.length){case 0:return _.call(R);case 1:return _.call(R,A[0]);case 2:return _.call(R,A[0],A[1]);case 3:return _.call(R,A[0],A[1],A[2])}return _.apply(R,A)}function Wo(_,R,A,W){for(var J=-1,pt=_==null?0:_.length;++J<pt;){var Ct=_[J];R(W,Ct,A(Ct),_)}return W}function tn(_,R){for(var A=-1,W=_==null?0:_.length;++A<W&&R(_[A],A,_)!==!1;);return _}function No(_,R){for(var A=_==null?0:_.length;A--&&R(_[A],A,_)!==!1;);return _}function Js(_,R){for(var A=-1,W=_==null?0:_.length;++A<W;)if(!R(_[A],A,_))return!1;return!0}function zn(_,R){for(var A=-1,W=_==null?0:_.length,J=0,pt=[];++A<W;){var Ct=_[A];R(Ct,A,_)&&(pt[J++]=Ct)}return pt}function er(_,R){var A=_==null?0:_.length;return!!A&&ce(_,R,0)>-1}function hi(_,R,A){for(var W=-1,J=_==null?0:_.length;++W<J;)if(A(R,_[W]))return!0;return!1}function wt(_,R){for(var A=-1,W=_==null?0:_.length,J=Array(W);++A<W;)J[A]=R(_[A],A,_);return J}function Un(_,R){for(var A=-1,W=R.length,J=_.length;++A<W;)_[J+A]=R[A];return _}function oi(_,R,A,W){var J=-1,pt=_==null?0:_.length;for(W&&pt&&(A=_[++J]);++J<pt;)A=R(A,_[J],J,_);return A}function ko(_,R,A,W){var J=_==null?0:_.length;for(W&&J&&(A=_[--J]);J--;)A=R(A,_[J],J,_);return A}function fi(_,R){for(var A=-1,W=_==null?0:_.length;++A<W;)if(R(_[A],A,_))return!0;return!1}var Ho=li("length");function Ko(_){return _.split("")}function Yo(_){return _.match(Jh)||[]}function js(_,R,A){var W;return A(_,function(J,pt,Ct){if(R(J,pt,Ct))return W=pt,!1}),W}function rr(_,R,A,W){for(var J=_.length,pt=A+(W?1:-1);W?pt--:++pt<J;)if(R(_[pt],pt,_))return pt;return-1}function ce(_,R,A){return R===R?rf(_,R,A):rr(_,tc,A)}function Go(_,R,A,W){for(var J=A-1,pt=_.length;++J<pt;)if(W(_[J],R))return J;return-1}function tc(_){return _!==_}function nc(_,R){var A=_==null?0:_.length;return A?pi(_,R)/A:Hn}function li(_){return function(R){return R==null?e:R[_]}}function ui(_){return function(R){return _==null?e:_[R]}}function ec(_,R,A,W,J){return J(_,function(pt,Ct,_t){A=W?(W=!1,pt):R(A,pt,Ct,_t)}),A}function Zo(_,R){var A=_.length;for(_.sort(R);A--;)_[A]=_[A].value;return _}function pi(_,R){for(var A,W=-1,J=_.length;++W<J;){var pt=R(_[W]);pt!==e&&(A=A===e?pt:A+pt)}return A}function di(_,R){for(var A=-1,W=Array(_);++A<_;)W[A]=R(A);return W}function Xo(_,R){return wt(R,function(A){return[A,_[A]]})}function rc(_){return _&&_.slice(0,ac(_)+1).replace(ti,"")}function Zt(_){return function(R){return _(R)}}function gi(_,R){return wt(R,function(A){return _[A]})}function Le(_,R){return _.has(R)}function ic(_,R){for(var A=-1,W=_.length;++A<W&&ce(R,_[A],0)>-1;);return A}function sc(_,R){for(var A=_.length;A--&&ce(R,_[A],0)>-1;);return A}function $o(_,R){for(var A=_.length,W=0;A--;)_[A]===R&&++W;return W}var Vo=ui(Po),Qo=ui(zo);function Jo(_){return"\\"+Do[_]}function jo(_,R){return _==null?e:_[R]}function ae(_){return Ro.test(_)}function tf(_){return Lo.test(_)}function nf(_){for(var R,A=[];!(R=_.next()).done;)A.push(R.value);return A}function mi(_){var R=-1,A=Array(_.size);return _.forEach(function(W,J){A[++R]=[J,W]}),A}function cc(_,R){return function(A){return _(R(A))}}function Dn(_,R){for(var A=-1,W=_.length,J=0,pt=[];++A<W;){var Ct=_[A];(Ct===R||Ct===x)&&(_[A]=x,pt[J++]=A)}return pt}function ir(_){var R=-1,A=Array(_.size);return _.forEach(function(W){A[++R]=W}),A}function ef(_){var R=-1,A=Array(_.size);return _.forEach(function(W){A[++R]=[W,W]}),A}function rf(_,R,A){for(var W=A-1,J=_.length;++W<J;)if(_[W]===R)return W;return-1}function sf(_,R,A){for(var W=A+1;W--;)if(_[W]===R)return W;return W}function he(_){return ae(_)?af(_):Ho(_)}function fn(_){return ae(_)?hf(_):Ko(_)}function ac(_){for(var R=_.length;R--&&Xh.test(_.charAt(R)););return R}var cf=ui(Uo);function af(_){for(var R=si.lastIndex=0;si.test(_);)++R;return R}function hf(_){return _.match(si)||[]}function of(_){return _.match(Co)||[]}var ff=(function _(R){R=R==null?It:oe.defaults(It.Object(),R,oe.pick(It,Io));var A=R.Array,W=R.Date,J=R.Error,pt=R.Function,Ct=R.Math,_t=R.Object,xi=R.RegExp,lf=R.String,nn=R.TypeError,sr=A.prototype,uf=pt.prototype,fe=_t.prototype,cr=R["__core-js_shared__"],ar=uf.toString,xt=fe.hasOwnProperty,pf=0,hc=(function(){var n=/[^.]+$/.exec(cr&&cr.keys&&cr.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})(),hr=fe.toString,df=ar.call(_t),gf=It._,mf=xi("^"+ar.call(xt).replace(jr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),or=Ys?R.Buffer:e,qn=R.Symbol,fr=R.Uint8Array,oc=or?or.allocUnsafe:e,lr=cc(_t.getPrototypeOf,_t),fc=_t.create,lc=fe.propertyIsEnumerable,ur=sr.splice,uc=qn?qn.isConcatSpreadable:e,Ie=qn?qn.iterator:e,Yn=qn?qn.toStringTag:e,pr=(function(){try{var n=Vn(_t,"defineProperty");return n({},"",{}),n}catch{}})(),xf=R.clearTimeout!==It.clearTimeout&&R.clearTimeout,vf=W&&W.now!==It.Date.now&&W.now,_f=R.setTimeout!==It.setTimeout&&R.setTimeout,dr=Ct.ceil,gr=Ct.floor,vi=_t.getOwnPropertySymbols,Mf=or?or.isBuffer:e,pc=R.isFinite,yf=sr.join,wf=cc(_t.keys,_t),Rt=Ct.max,Pt=Ct.min,Tf=W.now,Af=R.parseInt,dc=Ct.random,Ef=sr.reverse,_i=Vn(R,"DataView"),Oe=Vn(R,"Map"),Mi=Vn(R,"Promise"),le=Vn(R,"Set"),Pe=Vn(R,"WeakMap"),ze=Vn(_t,"create"),mr=Pe&&new Pe,ue={},Sf=Qn(_i),bf=Qn(Oe),Cf=Qn(Mi),Rf=Qn(le),Lf=Qn(Pe),xr=qn?qn.prototype:e,Ue=xr?xr.valueOf:e,gc=xr?xr.toString:e;function l(n){if(At(n)&&!j(n)&&!(n instanceof ot)){if(n instanceof en)return n;if(xt.call(n,"__wrapped__"))return ma(n)}return new en(n)}var pe=(function(){function n(){}return function(r){if(!Tt(r))return{};if(fc)return fc(r);n.prototype=r;var i=new n;return n.prototype=e,i}})();function vr(){}function en(n,r){this.__wrapped__=n,this.__actions__=[],this.__chain__=!!r,this.__index__=0,this.__values__=e}l.templateSettings={escape:kh,evaluate:Hh,interpolate:As,variable:"",imports:{_:l}},l.prototype=vr.prototype,l.prototype.constructor=l,en.prototype=pe(vr.prototype),en.prototype.constructor=en;function ot(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=mn,this.__views__=[]}function If(){var n=new ot(this.__wrapped__);return n.__actions__=Bt(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=Bt(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=Bt(this.__views__),n}function Of(){if(this.__filtered__){var n=new ot(this);n.__dir__=-1,n.__filtered__=!0}else n=this.clone(),n.__dir__*=-1;return n}function Pf(){var n=this.__wrapped__.value(),r=this.__dir__,i=j(n),a=r<0,o=i?n.length:0,u=Yl(0,o,this.__views__),g=u.start,v=u.end,y=v-g,L=a?v:g-1,I=this.__iteratees__,O=I.length,U=0,H=Pt(y,this.__takeCount__);if(!i||!a&&o==y&&H==y)return Bc(n,this.__actions__);var Z=[];t:for(;y--&&U<H;){L+=r;for(var rt=-1,X=n[L];++rt<O;){var ht=I[rt],ft=ht.iteratee,Vt=ht.type,qt=ft(X);if(Vt==V)X=qt;else if(!qt){if(Vt==dt)continue t;break t}}Z[U++]=X}return Z}ot.prototype=pe(vr.prototype),ot.prototype.constructor=ot;function Gn(n){var r=-1,i=n==null?0:n.length;for(this.clear();++r<i;){var a=n[r];this.set(a[0],a[1])}}function zf(){this.__data__=ze?ze(null):{},this.size=0}function Uf(n){var r=this.has(n)&&delete this.__data__[n];return this.size-=r?1:0,r}function Df(n){var r=this.__data__;if(ze){var i=r[n];return i===d?e:i}return xt.call(r,n)?r[n]:e}function qf(n){var r=this.__data__;return ze?r[n]!==e:xt.call(r,n)}function Ff(n,r){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=ze&&r===e?d:r,this}Gn.prototype.clear=zf,Gn.prototype.delete=Uf,Gn.prototype.get=Df,Gn.prototype.has=qf,Gn.prototype.set=Ff;function yn(n){var r=-1,i=n==null?0:n.length;for(this.clear();++r<i;){var a=n[r];this.set(a[0],a[1])}}function Bf(){this.__data__=[],this.size=0}function Wf(n){var r=this.__data__,i=_r(r,n);if(i<0)return!1;var a=r.length-1;return i==a?r.pop():ur.call(r,i,1),--this.size,!0}function Nf(n){var r=this.__data__,i=_r(r,n);return i<0?e:r[i][1]}function kf(n){return _r(this.__data__,n)>-1}function Hf(n,r){var i=this.__data__,a=_r(i,n);return a<0?(++this.size,i.push([n,r])):i[a][1]=r,this}yn.prototype.clear=Bf,yn.prototype.delete=Wf,yn.prototype.get=Nf,yn.prototype.has=kf,yn.prototype.set=Hf;function wn(n){var r=-1,i=n==null?0:n.length;for(this.clear();++r<i;){var a=n[r];this.set(a[0],a[1])}}function Kf(){this.size=0,this.__data__={hash:new Gn,map:new(Oe||yn),string:new Gn}}function Yf(n){var r=Ir(this,n).delete(n);return this.size-=r?1:0,r}function Gf(n){return Ir(this,n).get(n)}function Zf(n){return Ir(this,n).has(n)}function Xf(n,r){var i=Ir(this,n),a=i.size;return i.set(n,r),this.size+=i.size==a?0:1,this}wn.prototype.clear=Kf,wn.prototype.delete=Yf,wn.prototype.get=Gf,wn.prototype.has=Zf,wn.prototype.set=Xf;function Zn(n){var r=-1,i=n==null?0:n.length;for(this.__data__=new wn;++r<i;)this.add(n[r])}function $f(n){return this.__data__.set(n,d),this}function Vf(n){return this.__data__.has(n)}Zn.prototype.add=Zn.prototype.push=$f,Zn.prototype.has=Vf;function ln(n){var r=this.__data__=new yn(n);this.size=r.size}function Qf(){this.__data__=new yn,this.size=0}function Jf(n){var r=this.__data__,i=r.delete(n);return this.size=r.size,i}function jf(n){return this.__data__.get(n)}function tl(n){return this.__data__.has(n)}function nl(n,r){var i=this.__data__;if(i instanceof yn){var a=i.__data__;if(!Oe||a.length<c-1)return a.push([n,r]),this.size=++i.size,this;i=this.__data__=new wn(a)}return i.set(n,r),this.size=i.size,this}ln.prototype.clear=Qf,ln.prototype.delete=Jf,ln.prototype.get=jf,ln.prototype.has=tl,ln.prototype.set=nl;function mc(n,r){var i=j(n),a=!i&&Jn(n),o=!i&&!a&&kn(n),u=!i&&!a&&!o&&xe(n),g=i||a||o||u,v=g?di(n.length,lf):[],y=v.length;for(var L in n)(r||xt.call(n,L))&&!(g&&(L=="length"||o&&(L=="offset"||L=="parent")||u&&(L=="buffer"||L=="byteLength"||L=="byteOffset")||Sn(L,y)))&&v.push(L);return v}function xc(n){var r=n.length;return r?n[Ii(0,r-1)]:e}function el(n,r){return Or(Bt(n),Xn(r,0,n.length))}function rl(n){return Or(Bt(n))}function yi(n,r,i){(i!==e&&!un(n[r],i)||i===e&&!(r in n))&&Tn(n,r,i)}function De(n,r,i){var a=n[r];(!(xt.call(n,r)&&un(a,i))||i===e&&!(r in n))&&Tn(n,r,i)}function _r(n,r){for(var i=n.length;i--;)if(un(n[i][0],r))return i;return-1}function il(n,r,i,a){return Fn(n,function(o,u,g){r(a,o,i(o),g)}),a}function vc(n,r){return n&&vn(r,Lt(r),n)}function sl(n,r){return n&&vn(r,Nt(r),n)}function Tn(n,r,i){r=="__proto__"&&pr?pr(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}function wi(n,r){for(var i=-1,a=r.length,o=A(a),u=n==null;++i<a;)o[i]=u?e:es(n,r[i]);return o}function Xn(n,r,i){return n===n&&(i!==e&&(n=n<=i?n:i),r!==e&&(n=n>=r?n:r)),n}function rn(n,r,i,a,o,u){var g,v=r&M,y=r&E,L=r&T;if(i&&(g=o?i(n,a,o,u):i(n)),g!==e)return g;if(!Tt(n))return n;var I=j(n);if(I){if(g=Zl(n),!v)return Bt(n,g)}else{var O=zt(n),U=O==Qe||O==Ms;if(kn(n))return kc(n,v);if(O==Mn||O==re||U&&!o){if(g=y||U?{}:aa(n),!v)return y?Dl(n,sl(g,n)):Ul(n,vc(g,n))}else{if(!Mt[O])return o?n:{};g=Xl(n,O,v)}}u||(u=new ln);var H=u.get(n);if(H)return H;u.set(n,g),Da(n)?n.forEach(function(X){g.add(rn(X,r,i,X,n,u))}):za(n)&&n.forEach(function(X,ht){g.set(ht,rn(X,r,i,ht,n,u))});var Z=L?y?ki:Ni:y?Nt:Lt,rt=I?e:Z(n);return tn(rt||n,function(X,ht){rt&&(ht=X,X=n[ht]),De(g,ht,rn(X,r,i,ht,n,u))}),g}function cl(n){var r=Lt(n);return function(i){return _c(i,n,r)}}function _c(n,r,i){var a=i.length;if(n==null)return!a;for(n=_t(n);a--;){var o=i[a],u=r[o],g=n[o];if(g===e&&!(o in n)||!u(g))return!1}return!0}function Mc(n,r,i){if(typeof n!="function")throw new nn(f);return He(function(){n.apply(e,i)},r)}function qe(n,r,i,a){var o=-1,u=er,g=!0,v=n.length,y=[],L=r.length;if(!v)return y;i&&(r=wt(r,Zt(i))),a?(u=hi,g=!1):r.length>=c&&(u=Le,g=!1,r=new Zn(r));t:for(;++o<v;){var I=n[o],O=i==null?I:i(I);if(I=a||I!==0?I:0,g&&O===O){for(var U=L;U--;)if(r[U]===O)continue t;y.push(I)}else u(r,O,a)||y.push(I)}return y}var Fn=Zc(xn),yc=Zc(Ai,!0);function al(n,r){var i=!0;return Fn(n,function(a,o,u){return i=!!r(a,o,u),i}),i}function Mr(n,r,i){for(var a=-1,o=n.length;++a<o;){var u=n[a],g=r(u);if(g!=null&&(v===e?g===g&&!$t(g):i(g,v)))var v=g,y=u}return y}function hl(n,r,i,a){var o=n.length;for(i=nt(i),i<0&&(i=-i>o?0:o+i),a=a===e||a>o?o:nt(a),a<0&&(a+=o),a=i>a?0:Fa(a);i<a;)n[i++]=r;return n}function wc(n,r){var i=[];return Fn(n,function(a,o,u){r(a,o,u)&&i.push(a)}),i}function Ot(n,r,i,a,o){var u=-1,g=n.length;for(i||(i=Vl),o||(o=[]);++u<g;){var v=n[u];r>0&&i(v)?r>1?Ot(v,r-1,i,a,o):Un(o,v):a||(o[o.length]=v)}return o}var Ti=Xc(),Tc=Xc(!0);function xn(n,r){return n&&Ti(n,r,Lt)}function Ai(n,r){return n&&Tc(n,r,Lt)}function yr(n,r){return zn(r,function(i){return bn(n[i])})}function $n(n,r){r=Wn(r,n);for(var i=0,a=r.length;n!=null&&i<a;)n=n[_n(r[i++])];return i&&i==a?n:e}function Ac(n,r,i){var a=r(n);return j(n)?a:Un(a,i(n))}function Ut(n){return n==null?n===e?Uh:Ph:Yn&&Yn in _t(n)?Kl(n):r1(n)}function Ei(n,r){return n>r}function ol(n,r){return n!=null&&xt.call(n,r)}function fl(n,r){return n!=null&&r in _t(n)}function ll(n,r,i){return n>=Pt(r,i)&&n<Rt(r,i)}function Si(n,r,i){for(var a=i?hi:er,o=n[0].length,u=n.length,g=u,v=A(u),y=1/0,L=[];g--;){var I=n[g];g&&r&&(I=wt(I,Zt(r))),y=Pt(I.length,y),v[g]=!i&&(r||o>=120&&I.length>=120)?new Zn(g&&I):e}I=n[0];var O=-1,U=v[0];t:for(;++O<o&&L.length<y;){var H=I[O],Z=r?r(H):H;if(H=i||H!==0?H:0,!(U?Le(U,Z):a(L,Z,i))){for(g=u;--g;){var rt=v[g];if(!(rt?Le(rt,Z):a(n[g],Z,i)))continue t}U&&U.push(Z),L.push(H)}}return L}function ul(n,r,i,a){return xn(n,function(o,u,g){r(a,i(o),u,g)}),a}function Fe(n,r,i){r=Wn(r,n),n=la(n,r);var a=n==null?n:n[_n(cn(r))];return a==null?e:Gt(a,n,i)}function Ec(n){return At(n)&&Ut(n)==re}function pl(n){return At(n)&&Ut(n)==Re}function dl(n){return At(n)&&Ut(n)==Ae}function Be(n,r,i,a,o){return n===r?!0:n==null||r==null||!At(n)&&!At(r)?n!==n&&r!==r:gl(n,r,i,a,Be,o)}function gl(n,r,i,a,o,u){var g=j(n),v=j(r),y=g?$e:zt(n),L=v?$e:zt(r);y=y==re?Mn:y,L=L==re?Mn:L;var I=y==Mn,O=L==Mn,U=y==L;if(U&&kn(n)){if(!kn(r))return!1;g=!0,I=!1}if(U&&!I)return u||(u=new ln),g||xe(n)?ia(n,r,i,a,o,u):kl(n,r,y,i,a,o,u);if(!(i&w)){var H=I&&xt.call(n,"__wrapped__"),Z=O&&xt.call(r,"__wrapped__");if(H||Z){var rt=H?n.value():n,X=Z?r.value():r;return u||(u=new ln),o(rt,X,i,a,u)}}return U?(u||(u=new ln),Hl(n,r,i,a,o,u)):!1}function ml(n){return At(n)&&zt(n)==hn}function bi(n,r,i,a){var o=i.length,u=o,g=!a;if(n==null)return!u;for(n=_t(n);o--;){var v=i[o];if(g&&v[2]?v[1]!==n[v[0]]:!(v[0]in n))return!1}for(;++o<u;){v=i[o];var y=v[0],L=n[y],I=v[1];if(g&&v[2]){if(L===e&&!(y in n))return!1}else{var O=new ln;if(a)var U=a(L,I,y,n,r,O);if(!(U===e?Be(I,L,w|b,a,O):U))return!1}}return!0}function Sc(n){if(!Tt(n)||Jl(n))return!1;var r=bn(n)?mf:io;return r.test(Qn(n))}function xl(n){return At(n)&&Ut(n)==Se}function vl(n){return At(n)&&zt(n)==on}function _l(n){return At(n)&&Fr(n.length)&&!!yt[Ut(n)]}function bc(n){return typeof n=="function"?n:n==null?kt:typeof n=="object"?j(n)?Lc(n[0],n[1]):Rc(n):$a(n)}function Ci(n){if(!ke(n))return wf(n);var r=[];for(var i in _t(n))xt.call(n,i)&&i!="constructor"&&r.push(i);return r}function Ml(n){if(!Tt(n))return e1(n);var r=ke(n),i=[];for(var a in n)a=="constructor"&&(r||!xt.call(n,a))||i.push(a);return i}function Ri(n,r){return n<r}function Cc(n,r){var i=-1,a=Wt(n)?A(n.length):[];return Fn(n,function(o,u,g){a[++i]=r(o,u,g)}),a}function Rc(n){var r=Ki(n);return r.length==1&&r[0][2]?oa(r[0][0],r[0][1]):function(i){return i===n||bi(i,n,r)}}function Lc(n,r){return Gi(n)&&ha(r)?oa(_n(n),r):function(i){var a=es(i,n);return a===e&&a===r?rs(i,n):Be(r,a,w|b)}}function wr(n,r,i,a,o){n!==r&&Ti(r,function(u,g){if(o||(o=new ln),Tt(u))yl(n,r,g,i,wr,a,o);else{var v=a?a(Xi(n,g),u,g+"",n,r,o):e;v===e&&(v=u),yi(n,g,v)}},Nt)}function yl(n,r,i,a,o,u,g){var v=Xi(n,i),y=Xi(r,i),L=g.get(y);if(L){yi(n,i,L);return}var I=u?u(v,y,i+"",n,r,g):e,O=I===e;if(O){var U=j(y),H=!U&&kn(y),Z=!U&&!H&&xe(y);I=y,U||H||Z?j(v)?I=v:Et(v)?I=Bt(v):H?(O=!1,I=kc(y,!0)):Z?(O=!1,I=Hc(y,!0)):I=[]:Ke(y)||Jn(y)?(I=v,Jn(v)?I=Ba(v):(!Tt(v)||bn(v))&&(I=aa(y))):O=!1}O&&(g.set(y,I),o(I,y,a,u,g),g.delete(y)),yi(n,i,I)}function Ic(n,r){var i=n.length;if(i)return r+=r<0?i:0,Sn(r,i)?n[r]:e}function Oc(n,r,i){r.length?r=wt(r,function(u){return j(u)?function(g){return $n(g,u.length===1?u[0]:u)}:u}):r=[kt];var a=-1;r=wt(r,Zt(Y()));var o=Cc(n,function(u,g,v){var y=wt(r,function(L){return L(u)});return{criteria:y,index:++a,value:u}});return Zo(o,function(u,g){return zl(u,g,i)})}function wl(n,r){return Pc(n,r,function(i,a){return rs(n,a)})}function Pc(n,r,i){for(var a=-1,o=r.length,u={};++a<o;){var g=r[a],v=$n(n,g);i(v,g)&&We(u,Wn(g,n),v)}return u}function Tl(n){return function(r){return $n(r,n)}}function Li(n,r,i,a){var o=a?Go:ce,u=-1,g=r.length,v=n;for(n===r&&(r=Bt(r)),i&&(v=wt(n,Zt(i)));++u<g;)for(var y=0,L=r[u],I=i?i(L):L;(y=o(v,I,y,a))>-1;)v!==n&&ur.call(v,y,1),ur.call(n,y,1);return n}function zc(n,r){for(var i=n?r.length:0,a=i-1;i--;){var o=r[i];if(i==a||o!==u){var u=o;Sn(o)?ur.call(n,o,1):zi(n,o)}}return n}function Ii(n,r){return n+gr(dc()*(r-n+1))}function Al(n,r,i,a){for(var o=-1,u=Rt(dr((r-n)/(i||1)),0),g=A(u);u--;)g[a?u:++o]=n,n+=i;return g}function Oi(n,r){var i="";if(!n||r<1||r>Ft)return i;do r%2&&(i+=n),r=gr(r/2),r&&(n+=n);while(r);return i}function st(n,r){return $i(fa(n,r,kt),n+"")}function El(n){return xc(ve(n))}function Sl(n,r){var i=ve(n);return Or(i,Xn(r,0,i.length))}function We(n,r,i,a){if(!Tt(n))return n;r=Wn(r,n);for(var o=-1,u=r.length,g=u-1,v=n;v!=null&&++o<u;){var y=_n(r[o]),L=i;if(y==="__proto__"||y==="constructor"||y==="prototype")return n;if(o!=g){var I=v[y];L=a?a(I,y,v):e,L===e&&(L=Tt(I)?I:Sn(r[o+1])?[]:{})}De(v,y,L),v=v[y]}return n}var Uc=mr?function(n,r){return mr.set(n,r),n}:kt,bl=pr?function(n,r){return pr(n,"toString",{configurable:!0,enumerable:!1,value:ss(r),writable:!0})}:kt;function Cl(n){return Or(ve(n))}function sn(n,r,i){var a=-1,o=n.length;r<0&&(r=-r>o?0:o+r),i=i>o?o:i,i<0&&(i+=o),o=r>i?0:i-r>>>0,r>>>=0;for(var u=A(o);++a<o;)u[a]=n[a+r];return u}function Rl(n,r){var i;return Fn(n,function(a,o,u){return i=r(a,o,u),!i}),!!i}function Tr(n,r,i){var a=0,o=n==null?a:n.length;if(typeof r=="number"&&r===r&&o<=Rh){for(;a<o;){var u=a+o>>>1,g=n[u];g!==null&&!$t(g)&&(i?g<=r:g<r)?a=u+1:o=u}return o}return Pi(n,r,kt,i)}function Pi(n,r,i,a){var o=0,u=n==null?0:n.length;if(u===0)return 0;r=i(r);for(var g=r!==r,v=r===null,y=$t(r),L=r===e;o<u;){var I=gr((o+u)/2),O=i(n[I]),U=O!==e,H=O===null,Z=O===O,rt=$t(O);if(g)var X=a||Z;else L?X=Z&&(a||U):v?X=Z&&U&&(a||!H):y?X=Z&&U&&!H&&(a||!rt):H||rt?X=!1:X=a?O<=r:O<r;X?o=I+1:u=I}return Pt(u,Ch)}function Dc(n,r){for(var i=-1,a=n.length,o=0,u=[];++i<a;){var g=n[i],v=r?r(g):g;if(!i||!un(v,y)){var y=v;u[o++]=g===0?0:g}}return u}function qc(n){return typeof n=="number"?n:$t(n)?Hn:+n}function Xt(n){if(typeof n=="string")return n;if(j(n))return wt(n,Xt)+"";if($t(n))return gc?gc.call(n):"";var r=n+"";return r=="0"&&1/n==-Yt?"-0":r}function Bn(n,r,i){var a=-1,o=er,u=n.length,g=!0,v=[],y=v;if(i)g=!1,o=hi;else if(u>=c){var L=r?null:Wl(n);if(L)return ir(L);g=!1,o=Le,y=new Zn}else y=r?[]:v;t:for(;++a<u;){var I=n[a],O=r?r(I):I;if(I=i||I!==0?I:0,g&&O===O){for(var U=y.length;U--;)if(y[U]===O)continue t;r&&y.push(O),v.push(I)}else o(y,O,i)||(y!==v&&y.push(O),v.push(I))}return v}function zi(n,r){return r=Wn(r,n),n=la(n,r),n==null||delete n[_n(cn(r))]}function Fc(n,r,i,a){return We(n,r,i($n(n,r)),a)}function Ar(n,r,i,a){for(var o=n.length,u=a?o:-1;(a?u--:++u<o)&&r(n[u],u,n););return i?sn(n,a?0:u,a?u+1:o):sn(n,a?u+1:0,a?o:u)}function Bc(n,r){var i=n;return i instanceof ot&&(i=i.value()),oi(r,function(a,o){return o.func.apply(o.thisArg,Un([a],o.args))},i)}function Ui(n,r,i){var a=n.length;if(a<2)return a?Bn(n[0]):[];for(var o=-1,u=A(a);++o<a;)for(var g=n[o],v=-1;++v<a;)v!=o&&(u[o]=qe(u[o]||g,n[v],r,i));return Bn(Ot(u,1),r,i)}function Wc(n,r,i){for(var a=-1,o=n.length,u=r.length,g={};++a<o;){var v=a<u?r[a]:e;i(g,n[a],v)}return g}function Di(n){return Et(n)?n:[]}function qi(n){return typeof n=="function"?n:kt}function Wn(n,r){return j(n)?n:Gi(n,r)?[n]:ga(gt(n))}var Ll=st;function Nn(n,r,i){var a=n.length;return i=i===e?a:i,!r&&i>=a?n:sn(n,r,i)}var Nc=xf||function(n){return It.clearTimeout(n)};function kc(n,r){if(r)return n.slice();var i=n.length,a=oc?oc(i):new n.constructor(i);return n.copy(a),a}function Fi(n){var r=new n.constructor(n.byteLength);return new fr(r).set(new fr(n)),r}function Il(n,r){var i=r?Fi(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.byteLength)}function Ol(n){var r=new n.constructor(n.source,Es.exec(n));return r.lastIndex=n.lastIndex,r}function Pl(n){return Ue?_t(Ue.call(n)):{}}function Hc(n,r){var i=r?Fi(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.length)}function Kc(n,r){if(n!==r){var i=n!==e,a=n===null,o=n===n,u=$t(n),g=r!==e,v=r===null,y=r===r,L=$t(r);if(!v&&!L&&!u&&n>r||u&&g&&y&&!v&&!L||a&&g&&y||!i&&y||!o)return 1;if(!a&&!u&&!L&&n<r||L&&i&&o&&!a&&!u||v&&i&&o||!g&&o||!y)return-1}return 0}function zl(n,r,i){for(var a=-1,o=n.criteria,u=r.criteria,g=o.length,v=i.length;++a<g;){var y=Kc(o[a],u[a]);if(y){if(a>=v)return y;var L=i[a];return y*(L=="desc"?-1:1)}}return n.index-r.index}function Yc(n,r,i,a){for(var o=-1,u=n.length,g=i.length,v=-1,y=r.length,L=Rt(u-g,0),I=A(y+L),O=!a;++v<y;)I[v]=r[v];for(;++o<g;)(O||o<u)&&(I[i[o]]=n[o]);for(;L--;)I[v++]=n[o++];return I}function Gc(n,r,i,a){for(var o=-1,u=n.length,g=-1,v=i.length,y=-1,L=r.length,I=Rt(u-v,0),O=A(I+L),U=!a;++o<I;)O[o]=n[o];for(var H=o;++y<L;)O[H+y]=r[y];for(;++g<v;)(U||o<u)&&(O[H+i[g]]=n[o++]);return O}function Bt(n,r){var i=-1,a=n.length;for(r||(r=A(a));++i<a;)r[i]=n[i];return r}function vn(n,r,i,a){var o=!i;i||(i={});for(var u=-1,g=r.length;++u<g;){var v=r[u],y=a?a(i[v],n[v],v,i,n):e;y===e&&(y=n[v]),o?Tn(i,v,y):De(i,v,y)}return i}function Ul(n,r){return vn(n,Yi(n),r)}function Dl(n,r){return vn(n,sa(n),r)}function Er(n,r){return function(i,a){var o=j(i)?Wo:il,u=r?r():{};return o(i,n,Y(a,2),u)}}function de(n){return st(function(r,i){var a=-1,o=i.length,u=o>1?i[o-1]:e,g=o>2?i[2]:e;for(u=n.length>3&&typeof u=="function"?(o--,u):e,g&&Dt(i[0],i[1],g)&&(u=o<3?e:u,o=1),r=_t(r);++a<o;){var v=i[a];v&&n(r,v,a,u)}return r})}function Zc(n,r){return function(i,a){if(i==null)return i;if(!Wt(i))return n(i,a);for(var o=i.length,u=r?o:-1,g=_t(i);(r?u--:++u<o)&&a(g[u],u,g)!==!1;);return i}}function Xc(n){return function(r,i,a){for(var o=-1,u=_t(r),g=a(r),v=g.length;v--;){var y=g[n?v:++o];if(i(u[y],y,u)===!1)break}return r}}function ql(n,r,i){var a=r&S,o=Ne(n);function u(){var g=this&&this!==It&&this instanceof u?o:n;return g.apply(a?i:this,arguments)}return u}function $c(n){return function(r){r=gt(r);var i=ae(r)?fn(r):e,a=i?i[0]:r.charAt(0),o=i?Nn(i,1).join(""):r.slice(1);return a[n]()+o}}function ge(n){return function(r){return oi(Za(Ga(r).replace(So,"")),n,"")}}function Ne(n){return function(){var r=arguments;switch(r.length){case 0:return new n;case 1:return new n(r[0]);case 2:return new n(r[0],r[1]);case 3:return new n(r[0],r[1],r[2]);case 4:return new n(r[0],r[1],r[2],r[3]);case 5:return new n(r[0],r[1],r[2],r[3],r[4]);case 6:return new n(r[0],r[1],r[2],r[3],r[4],r[5]);case 7:return new n(r[0],r[1],r[2],r[3],r[4],r[5],r[6])}var i=pe(n.prototype),a=n.apply(i,r);return Tt(a)?a:i}}function Fl(n,r,i){var a=Ne(n);function o(){for(var u=arguments.length,g=A(u),v=u,y=me(o);v--;)g[v]=arguments[v];var L=u<3&&g[0]!==y&&g[u-1]!==y?[]:Dn(g,y);if(u-=L.length,u<i)return ta(n,r,Sr,o.placeholder,e,g,L,e,e,i-u);var I=this&&this!==It&&this instanceof o?a:n;return Gt(I,this,g)}return o}function Vc(n){return function(r,i,a){var o=_t(r);if(!Wt(r)){var u=Y(i,3);r=Lt(r),i=function(v){return u(o[v],v,o)}}var g=n(r,i,a);return g>-1?o[u?r[g]:g]:e}}function Qc(n){return En(function(r){var i=r.length,a=i,o=en.prototype.thru;for(n&&r.reverse();a--;){var u=r[a];if(typeof u!="function")throw new nn(f);if(o&&!g&&Lr(u)=="wrapper")var g=new en([],!0)}for(a=g?a:i;++a<i;){u=r[a];var v=Lr(u),y=v=="wrapper"?Hi(u):e;y&&Zi(y[0])&&y[1]==(D|N|z|it)&&!y[4].length&&y[9]==1?g=g[Lr(y[0])].apply(g,y[3]):g=u.length==1&&Zi(u)?g[v]():g.thru(u)}return function(){var L=arguments,I=L[0];if(g&&L.length==1&&j(I))return g.plant(I).value();for(var O=0,U=i?r[O].apply(this,L):I;++O<i;)U=r[O].call(this,U);return U}})}function Sr(n,r,i,a,o,u,g,v,y,L){var I=r&D,O=r&S,U=r&P,H=r&(N|F),Z=r&et,rt=U?e:Ne(n);function X(){for(var ht=arguments.length,ft=A(ht),Vt=ht;Vt--;)ft[Vt]=arguments[Vt];if(H)var qt=me(X),Qt=$o(ft,qt);if(a&&(ft=Yc(ft,a,o,H)),u&&(ft=Gc(ft,u,g,H)),ht-=Qt,H&&ht<L){var St=Dn(ft,qt);return ta(n,r,Sr,X.placeholder,i,ft,St,v,y,L-ht)}var pn=O?i:this,Rn=U?pn[n]:n;return ht=ft.length,v?ft=i1(ft,v):Z&&ht>1&&ft.reverse(),I&&y<ht&&(ft.length=y),this&&this!==It&&this instanceof X&&(Rn=rt||Ne(Rn)),Rn.apply(pn,ft)}return X}function Jc(n,r){return function(i,a){return ul(i,n,r(a),{})}}function br(n,r){return function(i,a){var o;if(i===e&&a===e)return r;if(i!==e&&(o=i),a!==e){if(o===e)return a;typeof i=="string"||typeof a=="string"?(i=Xt(i),a=Xt(a)):(i=qc(i),a=qc(a)),o=n(i,a)}return o}}function Bi(n){return En(function(r){return r=wt(r,Zt(Y())),st(function(i){var a=this;return n(r,function(o){return Gt(o,a,i)})})})}function Cr(n,r){r=r===e?" ":Xt(r);var i=r.length;if(i<2)return i?Oi(r,n):r;var a=Oi(r,dr(n/he(r)));return ae(r)?Nn(fn(a),0,n).join(""):a.slice(0,n)}function Bl(n,r,i,a){var o=r&S,u=Ne(n);function g(){for(var v=-1,y=arguments.length,L=-1,I=a.length,O=A(I+y),U=this&&this!==It&&this instanceof g?u:n;++L<I;)O[L]=a[L];for(;y--;)O[L++]=arguments[++v];return Gt(U,o?i:this,O)}return g}function jc(n){return function(r,i,a){return a&&typeof a!="number"&&Dt(r,i,a)&&(i=a=e),r=Cn(r),i===e?(i=r,r=0):i=Cn(i),a=a===e?r<i?1:-1:Cn(a),Al(r,i,a,n)}}function Rr(n){return function(r,i){return typeof r=="string"&&typeof i=="string"||(r=an(r),i=an(i)),n(r,i)}}function ta(n,r,i,a,o,u,g,v,y,L){var I=r&N,O=I?g:e,U=I?e:g,H=I?u:e,Z=I?e:u;r|=I?z:B,r&=~(I?B:z),r&q||(r&=-4);var rt=[n,r,o,H,O,Z,U,v,y,L],X=i.apply(e,rt);return Zi(n)&&ua(X,rt),X.placeholder=a,pa(X,n,r)}function Wi(n){var r=Ct[n];return function(i,a){if(i=an(i),a=a==null?0:Pt(nt(a),292),a&&pc(i)){var o=(gt(i)+"e").split("e"),u=r(o[0]+"e"+(+o[1]+a));return o=(gt(u)+"e").split("e"),+(o[0]+"e"+(+o[1]-a))}return r(i)}}var Wl=le&&1/ir(new le([,-0]))[1]==Yt?function(n){return new le(n)}:hs;function na(n){return function(r){var i=zt(r);return i==hn?mi(r):i==on?ef(r):Xo(r,n(r))}}function An(n,r,i,a,o,u,g,v){var y=r&P;if(!y&&typeof n!="function")throw new nn(f);var L=a?a.length:0;if(L||(r&=-97,a=o=e),g=g===e?g:Rt(nt(g),0),v=v===e?v:nt(v),L-=o?o.length:0,r&B){var I=a,O=o;a=o=e}var U=y?e:Hi(n),H=[n,r,i,a,o,I,O,u,g,v];if(U&&n1(H,U),n=H[0],r=H[1],i=H[2],a=H[3],o=H[4],v=H[9]=H[9]===e?y?0:n.length:Rt(H[9]-L,0),!v&&r&(N|F)&&(r&=-25),!r||r==S)var Z=ql(n,r,i);else r==N||r==F?Z=Fl(n,r,v):(r==z||r==(S|z))&&!o.length?Z=Bl(n,r,i,a):Z=Sr.apply(e,H);var rt=U?Uc:ua;return pa(rt(Z,H),n,r)}function ea(n,r,i,a){return n===e||un(n,fe[i])&&!xt.call(a,i)?r:n}function ra(n,r,i,a,o,u){return Tt(n)&&Tt(r)&&(u.set(r,n),wr(n,r,e,ra,u),u.delete(r)),n}function Nl(n){return Ke(n)?e:n}function ia(n,r,i,a,o,u){var g=i&w,v=n.length,y=r.length;if(v!=y&&!(g&&y>v))return!1;var L=u.get(n),I=u.get(r);if(L&&I)return L==r&&I==n;var O=-1,U=!0,H=i&b?new Zn:e;for(u.set(n,r),u.set(r,n);++O<v;){var Z=n[O],rt=r[O];if(a)var X=g?a(rt,Z,O,r,n,u):a(Z,rt,O,n,r,u);if(X!==e){if(X)continue;U=!1;break}if(H){if(!fi(r,function(ht,ft){if(!Le(H,ft)&&(Z===ht||o(Z,ht,i,a,u)))return H.push(ft)})){U=!1;break}}else if(!(Z===rt||o(Z,rt,i,a,u))){U=!1;break}}return u.delete(n),u.delete(r),U}function kl(n,r,i,a,o,u,g){switch(i){case ie:if(n.byteLength!=r.byteLength||n.byteOffset!=r.byteOffset)return!1;n=n.buffer,r=r.buffer;case Re:return!(n.byteLength!=r.byteLength||!u(new fr(n),new fr(r)));case Te:case Ae:case Ee:return un(+n,+r);case Ve:return n.name==r.name&&n.message==r.message;case Se:case be:return n==r+"";case hn:var v=mi;case on:var y=a&w;if(v||(v=ir),n.size!=r.size&&!y)return!1;var L=g.get(n);if(L)return L==r;a|=b,g.set(n,r);var I=ia(v(n),v(r),a,o,u,g);return g.delete(n),I;case Je:if(Ue)return Ue.call(n)==Ue.call(r)}return!1}function Hl(n,r,i,a,o,u){var g=i&w,v=Ni(n),y=v.length,L=Ni(r),I=L.length;if(y!=I&&!g)return!1;for(var O=y;O--;){var U=v[O];if(!(g?U in r:xt.call(r,U)))return!1}var H=u.get(n),Z=u.get(r);if(H&&Z)return H==r&&Z==n;var rt=!0;u.set(n,r),u.set(r,n);for(var X=g;++O<y;){U=v[O];var ht=n[U],ft=r[U];if(a)var Vt=g?a(ft,ht,U,r,n,u):a(ht,ft,U,n,r,u);if(!(Vt===e?ht===ft||o(ht,ft,i,a,u):Vt)){rt=!1;break}X||(X=U=="constructor")}if(rt&&!X){var qt=n.constructor,Qt=r.constructor;qt!=Qt&&"constructor"in n&&"constructor"in r&&!(typeof qt=="function"&&qt instanceof qt&&typeof Qt=="function"&&Qt instanceof Qt)&&(rt=!1)}return u.delete(n),u.delete(r),rt}function En(n){return $i(fa(n,e,_a),n+"")}function Ni(n){return Ac(n,Lt,Yi)}function ki(n){return Ac(n,Nt,sa)}var Hi=mr?function(n){return mr.get(n)}:hs;function Lr(n){for(var r=n.name+"",i=ue[r],a=xt.call(ue,r)?i.length:0;a--;){var o=i[a],u=o.func;if(u==null||u==n)return o.name}return r}function me(n){var r=xt.call(l,"placeholder")?l:n;return r.placeholder}function Y(){var n=l.iteratee||cs;return n=n===cs?bc:n,arguments.length?n(arguments[0],arguments[1]):n}function Ir(n,r){var i=n.__data__;return Ql(r)?i[typeof r=="string"?"string":"hash"]:i.map}function Ki(n){for(var r=Lt(n),i=r.length;i--;){var a=r[i],o=n[a];r[i]=[a,o,ha(o)]}return r}function Vn(n,r){var i=jo(n,r);return Sc(i)?i:e}function Kl(n){var r=xt.call(n,Yn),i=n[Yn];try{n[Yn]=e;var a=!0}catch{}var o=hr.call(n);return a&&(r?n[Yn]=i:delete n[Yn]),o}var Yi=vi?function(n){return n==null?[]:(n=_t(n),zn(vi(n),function(r){return lc.call(n,r)}))}:os,sa=vi?function(n){for(var r=[];n;)Un(r,Yi(n)),n=lr(n);return r}:os,zt=Ut;(_i&&zt(new _i(new ArrayBuffer(1)))!=ie||Oe&&zt(new Oe)!=hn||Mi&&zt(Mi.resolve())!=ys||le&&zt(new le)!=on||Pe&&zt(new Pe)!=Ce)&&(zt=function(n){var r=Ut(n),i=r==Mn?n.constructor:e,a=i?Qn(i):"";if(a)switch(a){case Sf:return ie;case bf:return hn;case Cf:return ys;case Rf:return on;case Lf:return Ce}return r});function Yl(n,r,i){for(var a=-1,o=i.length;++a<o;){var u=i[a],g=u.size;switch(u.type){case"drop":n+=g;break;case"dropRight":r-=g;break;case"take":r=Pt(r,n+g);break;case"takeRight":n=Rt(n,r-g);break}}return{start:n,end:r}}function Gl(n){var r=n.match(Vh);return r?r[1].split(Qh):[]}function ca(n,r,i){r=Wn(r,n);for(var a=-1,o=r.length,u=!1;++a<o;){var g=_n(r[a]);if(!(u=n!=null&&i(n,g)))break;n=n[g]}return u||++a!=o?u:(o=n==null?0:n.length,!!o&&Fr(o)&&Sn(g,o)&&(j(n)||Jn(n)))}function Zl(n){var r=n.length,i=new n.constructor(r);return r&&typeof n[0]=="string"&&xt.call(n,"index")&&(i.index=n.index,i.input=n.input),i}function aa(n){return typeof n.constructor=="function"&&!ke(n)?pe(lr(n)):{}}function Xl(n,r,i){var a=n.constructor;switch(r){case Re:return Fi(n);case Te:case Ae:return new a(+n);case ie:return Il(n,i);case Kr:case Yr:case Gr:case Zr:case Xr:case $r:case Vr:case Qr:case Jr:return Hc(n,i);case hn:return new a;case Ee:case be:return new a(n);case Se:return Ol(n);case on:return new a;case Je:return Pl(n)}}function $l(n,r){var i=r.length;if(!i)return n;var a=i-1;return r[a]=(i>1?"& ":"")+r[a],r=r.join(i>2?", ":" "),n.replace($h,`{
/* [wrapped with `+r+`] */
`)}function Vl(n){return j(n)||Jn(n)||!!(uc&&n&&n[uc])}function Sn(n,r){var i=typeof n;return r=r??Ft,!!r&&(i=="number"||i!="symbol"&&co.test(n))&&n>-1&&n%1==0&&n<r}function Dt(n,r,i){if(!Tt(i))return!1;var a=typeof r;return(a=="number"?Wt(i)&&Sn(r,i.length):a=="string"&&r in i)?un(i[r],n):!1}function Gi(n,r){if(j(n))return!1;var i=typeof n;return i=="number"||i=="symbol"||i=="boolean"||n==null||$t(n)?!0:Yh.test(n)||!Kh.test(n)||r!=null&&n in _t(r)}function Ql(n){var r=typeof n;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?n!=="__proto__":n===null}function Zi(n){var r=Lr(n),i=l[r];if(typeof i!="function"||!(r in ot.prototype))return!1;if(n===i)return!0;var a=Hi(i);return!!a&&n===a[0]}function Jl(n){return!!hc&&hc in n}var jl=cr?bn:fs;function ke(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||fe;return n===i}function ha(n){return n===n&&!Tt(n)}function oa(n,r){return function(i){return i==null?!1:i[n]===r&&(r!==e||n in _t(i))}}function t1(n){var r=Dr(n,function(a){return i.size===m&&i.clear(),a}),i=r.cache;return r}function n1(n,r){var i=n[1],a=r[1],o=i|a,u=o<(S|P|D),g=a==D&&i==N||a==D&&i==it&&n[7].length<=r[8]||a==(D|it)&&r[7].length<=r[8]&&i==N;if(!(u||g))return n;a&S&&(n[2]=r[2],o|=i&S?0:q);var v=r[3];if(v){var y=n[3];n[3]=y?Yc(y,v,r[4]):v,n[4]=y?Dn(n[3],x):r[4]}return v=r[5],v&&(y=n[5],n[5]=y?Gc(y,v,r[6]):v,n[6]=y?Dn(n[5],x):r[6]),v=r[7],v&&(n[7]=v),a&D&&(n[8]=n[8]==null?r[8]:Pt(n[8],r[8])),n[9]==null&&(n[9]=r[9]),n[0]=r[0],n[1]=o,n}function e1(n){var r=[];if(n!=null)for(var i in _t(n))r.push(i);return r}function r1(n){return hr.call(n)}function fa(n,r,i){return r=Rt(r===e?n.length-1:r,0),function(){for(var a=arguments,o=-1,u=Rt(a.length-r,0),g=A(u);++o<u;)g[o]=a[r+o];o=-1;for(var v=A(r+1);++o<r;)v[o]=a[o];return v[r]=i(g),Gt(n,this,v)}}function la(n,r){return r.length<2?n:$n(n,sn(r,0,-1))}function i1(n,r){for(var i=n.length,a=Pt(r.length,i),o=Bt(n);a--;){var u=r[a];n[a]=Sn(u,i)?o[u]:e}return n}function Xi(n,r){if(!(r==="constructor"&&typeof n[r]=="function")&&r!="__proto__")return n[r]}var ua=da(Uc),He=_f||function(n,r){return It.setTimeout(n,r)},$i=da(bl);function pa(n,r,i){var a=r+"";return $i(n,$l(a,s1(Gl(a),i)))}function da(n){var r=0,i=0;return function(){var a=Tf(),o=mt-(a-i);if(i=a,o>0){if(++r>=vt)return arguments[0]}else r=0;return n.apply(e,arguments)}}function Or(n,r){var i=-1,a=n.length,o=a-1;for(r=r===e?a:r;++i<r;){var u=Ii(i,o),g=n[u];n[u]=n[i],n[i]=g}return n.length=r,n}var ga=t1(function(n){var r=[];return n.charCodeAt(0)===46&&r.push(""),n.replace(Gh,function(i,a,o,u){r.push(o?u.replace(to,"$1"):a||i)}),r});function _n(n){if(typeof n=="string"||$t(n))return n;var r=n+"";return r=="0"&&1/n==-Yt?"-0":r}function Qn(n){if(n!=null){try{return ar.call(n)}catch{}try{return n+""}catch{}}return""}function s1(n,r){return tn(Lh,function(i){var a="_."+i[0];r&i[1]&&!er(n,a)&&n.push(a)}),n.sort()}function ma(n){if(n instanceof ot)return n.clone();var r=new en(n.__wrapped__,n.__chain__);return r.__actions__=Bt(n.__actions__),r.__index__=n.__index__,r.__values__=n.__values__,r}function c1(n,r,i){(i?Dt(n,r,i):r===e)?r=1:r=Rt(nt(r),0);var a=n==null?0:n.length;if(!a||r<1)return[];for(var o=0,u=0,g=A(dr(a/r));o<a;)g[u++]=sn(n,o,o+=r);return g}function a1(n){for(var r=-1,i=n==null?0:n.length,a=0,o=[];++r<i;){var u=n[r];u&&(o[a++]=u)}return o}function h1(){var n=arguments.length;if(!n)return[];for(var r=A(n-1),i=arguments[0],a=n;a--;)r[a-1]=arguments[a];return Un(j(i)?Bt(i):[i],Ot(r,1))}var o1=st(function(n,r){return Et(n)?qe(n,Ot(r,1,Et,!0)):[]}),f1=st(function(n,r){var i=cn(r);return Et(i)&&(i=e),Et(n)?qe(n,Ot(r,1,Et,!0),Y(i,2)):[]}),l1=st(function(n,r){var i=cn(r);return Et(i)&&(i=e),Et(n)?qe(n,Ot(r,1,Et,!0),e,i):[]});function u1(n,r,i){var a=n==null?0:n.length;return a?(r=i||r===e?1:nt(r),sn(n,r<0?0:r,a)):[]}function p1(n,r,i){var a=n==null?0:n.length;return a?(r=i||r===e?1:nt(r),r=a-r,sn(n,0,r<0?0:r)):[]}function d1(n,r){return n&&n.length?Ar(n,Y(r,3),!0,!0):[]}function g1(n,r){return n&&n.length?Ar(n,Y(r,3),!0):[]}function m1(n,r,i,a){var o=n==null?0:n.length;return o?(i&&typeof i!="number"&&Dt(n,r,i)&&(i=0,a=o),hl(n,r,i,a)):[]}function xa(n,r,i){var a=n==null?0:n.length;if(!a)return-1;var o=i==null?0:nt(i);return o<0&&(o=Rt(a+o,0)),rr(n,Y(r,3),o)}function va(n,r,i){var a=n==null?0:n.length;if(!a)return-1;var o=a-1;return i!==e&&(o=nt(i),o=i<0?Rt(a+o,0):Pt(o,a-1)),rr(n,Y(r,3),o,!0)}function _a(n){var r=n==null?0:n.length;return r?Ot(n,1):[]}function x1(n){var r=n==null?0:n.length;return r?Ot(n,Yt):[]}function v1(n,r){var i=n==null?0:n.length;return i?(r=r===e?1:nt(r),Ot(n,r)):[]}function _1(n){for(var r=-1,i=n==null?0:n.length,a={};++r<i;){var o=n[r];a[o[0]]=o[1]}return a}function Ma(n){return n&&n.length?n[0]:e}function M1(n,r,i){var a=n==null?0:n.length;if(!a)return-1;var o=i==null?0:nt(i);return o<0&&(o=Rt(a+o,0)),ce(n,r,o)}function y1(n){var r=n==null?0:n.length;return r?sn(n,0,-1):[]}var w1=st(function(n){var r=wt(n,Di);return r.length&&r[0]===n[0]?Si(r):[]}),T1=st(function(n){var r=cn(n),i=wt(n,Di);return r===cn(i)?r=e:i.pop(),i.length&&i[0]===n[0]?Si(i,Y(r,2)):[]}),A1=st(function(n){var r=cn(n),i=wt(n,Di);return r=typeof r=="function"?r:e,r&&i.pop(),i.length&&i[0]===n[0]?Si(i,e,r):[]});function E1(n,r){return n==null?"":yf.call(n,r)}function cn(n){var r=n==null?0:n.length;return r?n[r-1]:e}function S1(n,r,i){var a=n==null?0:n.length;if(!a)return-1;var o=a;return i!==e&&(o=nt(i),o=o<0?Rt(a+o,0):Pt(o,a-1)),r===r?sf(n,r,o):rr(n,tc,o,!0)}function b1(n,r){return n&&n.length?Ic(n,nt(r)):e}var C1=st(ya);function ya(n,r){return n&&n.length&&r&&r.length?Li(n,r):n}function R1(n,r,i){return n&&n.length&&r&&r.length?Li(n,r,Y(i,2)):n}function L1(n,r,i){return n&&n.length&&r&&r.length?Li(n,r,e,i):n}var I1=En(function(n,r){var i=n==null?0:n.length,a=wi(n,r);return zc(n,wt(r,function(o){return Sn(o,i)?+o:o}).sort(Kc)),a});function O1(n,r){var i=[];if(!(n&&n.length))return i;var a=-1,o=[],u=n.length;for(r=Y(r,3);++a<u;){var g=n[a];r(g,a,n)&&(i.push(g),o.push(a))}return zc(n,o),i}function Vi(n){return n==null?n:Ef.call(n)}function P1(n,r,i){var a=n==null?0:n.length;return a?(i&&typeof i!="number"&&Dt(n,r,i)?(r=0,i=a):(r=r==null?0:nt(r),i=i===e?a:nt(i)),sn(n,r,i)):[]}function z1(n,r){return Tr(n,r)}function U1(n,r,i){return Pi(n,r,Y(i,2))}function D1(n,r){var i=n==null?0:n.length;if(i){var a=Tr(n,r);if(a<i&&un(n[a],r))return a}return-1}function q1(n,r){return Tr(n,r,!0)}function F1(n,r,i){return Pi(n,r,Y(i,2),!0)}function B1(n,r){var i=n==null?0:n.length;if(i){var a=Tr(n,r,!0)-1;if(un(n[a],r))return a}return-1}function W1(n){return n&&n.length?Dc(n):[]}function N1(n,r){return n&&n.length?Dc(n,Y(r,2)):[]}function k1(n){var r=n==null?0:n.length;return r?sn(n,1,r):[]}function H1(n,r,i){return n&&n.length?(r=i||r===e?1:nt(r),sn(n,0,r<0?0:r)):[]}function K1(n,r,i){var a=n==null?0:n.length;return a?(r=i||r===e?1:nt(r),r=a-r,sn(n,r<0?0:r,a)):[]}function Y1(n,r){return n&&n.length?Ar(n,Y(r,3),!1,!0):[]}function G1(n,r){return n&&n.length?Ar(n,Y(r,3)):[]}var Z1=st(function(n){return Bn(Ot(n,1,Et,!0))}),X1=st(function(n){var r=cn(n);return Et(r)&&(r=e),Bn(Ot(n,1,Et,!0),Y(r,2))}),$1=st(function(n){var r=cn(n);return r=typeof r=="function"?r:e,Bn(Ot(n,1,Et,!0),e,r)});function V1(n){return n&&n.length?Bn(n):[]}function Q1(n,r){return n&&n.length?Bn(n,Y(r,2)):[]}function J1(n,r){return r=typeof r=="function"?r:e,n&&n.length?Bn(n,e,r):[]}function Qi(n){if(!(n&&n.length))return[];var r=0;return n=zn(n,function(i){if(Et(i))return r=Rt(i.length,r),!0}),di(r,function(i){return wt(n,li(i))})}function wa(n,r){if(!(n&&n.length))return[];var i=Qi(n);return r==null?i:wt(i,function(a){return Gt(r,e,a)})}var j1=st(function(n,r){return Et(n)?qe(n,r):[]}),tu=st(function(n){return Ui(zn(n,Et))}),nu=st(function(n){var r=cn(n);return Et(r)&&(r=e),Ui(zn(n,Et),Y(r,2))}),eu=st(function(n){var r=cn(n);return r=typeof r=="function"?r:e,Ui(zn(n,Et),e,r)}),ru=st(Qi);function iu(n,r){return Wc(n||[],r||[],De)}function su(n,r){return Wc(n||[],r||[],We)}var cu=st(function(n){var r=n.length,i=r>1?n[r-1]:e;return i=typeof i=="function"?(n.pop(),i):e,wa(n,i)});function Ta(n){var r=l(n);return r.__chain__=!0,r}function au(n,r){return r(n),n}function Pr(n,r){return r(n)}var hu=En(function(n){var r=n.length,i=r?n[0]:0,a=this.__wrapped__,o=function(u){return wi(u,n)};return r>1||this.__actions__.length||!(a instanceof ot)||!Sn(i)?this.thru(o):(a=a.slice(i,+i+(r?1:0)),a.__actions__.push({func:Pr,args:[o],thisArg:e}),new en(a,this.__chain__).thru(function(u){return r&&!u.length&&u.push(e),u}))});function ou(){return Ta(this)}function fu(){return new en(this.value(),this.__chain__)}function lu(){this.__values__===e&&(this.__values__=qa(this.value()));var n=this.__index__>=this.__values__.length,r=n?e:this.__values__[this.__index__++];return{done:n,value:r}}function uu(){return this}function pu(n){for(var r,i=this;i instanceof vr;){var a=ma(i);a.__index__=0,a.__values__=e,r?o.__wrapped__=a:r=a;var o=a;i=i.__wrapped__}return o.__wrapped__=n,r}function du(){var n=this.__wrapped__;if(n instanceof ot){var r=n;return this.__actions__.length&&(r=new ot(this)),r=r.reverse(),r.__actions__.push({func:Pr,args:[Vi],thisArg:e}),new en(r,this.__chain__)}return this.thru(Vi)}function gu(){return Bc(this.__wrapped__,this.__actions__)}var mu=Er(function(n,r,i){xt.call(n,i)?++n[i]:Tn(n,i,1)});function xu(n,r,i){var a=j(n)?Js:al;return i&&Dt(n,r,i)&&(r=e),a(n,Y(r,3))}function vu(n,r){var i=j(n)?zn:wc;return i(n,Y(r,3))}var _u=Vc(xa),Mu=Vc(va);function yu(n,r){return Ot(zr(n,r),1)}function wu(n,r){return Ot(zr(n,r),Yt)}function Tu(n,r,i){return i=i===e?1:nt(i),Ot(zr(n,r),i)}function Aa(n,r){var i=j(n)?tn:Fn;return i(n,Y(r,3))}function Ea(n,r){var i=j(n)?No:yc;return i(n,Y(r,3))}var Au=Er(function(n,r,i){xt.call(n,i)?n[i].push(r):Tn(n,i,[r])});function Eu(n,r,i,a){n=Wt(n)?n:ve(n),i=i&&!a?nt(i):0;var o=n.length;return i<0&&(i=Rt(o+i,0)),Br(n)?i<=o&&n.indexOf(r,i)>-1:!!o&&ce(n,r,i)>-1}var Su=st(function(n,r,i){var a=-1,o=typeof r=="function",u=Wt(n)?A(n.length):[];return Fn(n,function(g){u[++a]=o?Gt(r,g,i):Fe(g,r,i)}),u}),bu=Er(function(n,r,i){Tn(n,i,r)});function zr(n,r){var i=j(n)?wt:Cc;return i(n,Y(r,3))}function Cu(n,r,i,a){return n==null?[]:(j(r)||(r=r==null?[]:[r]),i=a?e:i,j(i)||(i=i==null?[]:[i]),Oc(n,r,i))}var Ru=Er(function(n,r,i){n[i?0:1].push(r)},function(){return[[],[]]});function Lu(n,r,i){var a=j(n)?oi:ec,o=arguments.length<3;return a(n,Y(r,4),i,o,Fn)}function Iu(n,r,i){var a=j(n)?ko:ec,o=arguments.length<3;return a(n,Y(r,4),i,o,yc)}function Ou(n,r){var i=j(n)?zn:wc;return i(n,qr(Y(r,3)))}function Pu(n){var r=j(n)?xc:El;return r(n)}function zu(n,r,i){(i?Dt(n,r,i):r===e)?r=1:r=nt(r);var a=j(n)?el:Sl;return a(n,r)}function Uu(n){var r=j(n)?rl:Cl;return r(n)}function Du(n){if(n==null)return 0;if(Wt(n))return Br(n)?he(n):n.length;var r=zt(n);return r==hn||r==on?n.size:Ci(n).length}function qu(n,r,i){var a=j(n)?fi:Rl;return i&&Dt(n,r,i)&&(r=e),a(n,Y(r,3))}var Fu=st(function(n,r){if(n==null)return[];var i=r.length;return i>1&&Dt(n,r[0],r[1])?r=[]:i>2&&Dt(r[0],r[1],r[2])&&(r=[r[0]]),Oc(n,Ot(r,1),[])}),Ur=vf||function(){return It.Date.now()};function Bu(n,r){if(typeof r!="function")throw new nn(f);return n=nt(n),function(){if(--n<1)return r.apply(this,arguments)}}function Sa(n,r,i){return r=i?e:r,r=n&&r==null?n.length:r,An(n,D,e,e,e,e,r)}function ba(n,r){var i;if(typeof r!="function")throw new nn(f);return n=nt(n),function(){return--n>0&&(i=r.apply(this,arguments)),n<=1&&(r=e),i}}var Ji=st(function(n,r,i){var a=S;if(i.length){var o=Dn(i,me(Ji));a|=z}return An(n,a,r,i,o)}),Ca=st(function(n,r,i){var a=S|P;if(i.length){var o=Dn(i,me(Ca));a|=z}return An(r,a,n,i,o)});function Ra(n,r,i){r=i?e:r;var a=An(n,N,e,e,e,e,e,r);return a.placeholder=Ra.placeholder,a}function La(n,r,i){r=i?e:r;var a=An(n,F,e,e,e,e,e,r);return a.placeholder=La.placeholder,a}function Ia(n,r,i){var a,o,u,g,v,y,L=0,I=!1,O=!1,U=!0;if(typeof n!="function")throw new nn(f);r=an(r)||0,Tt(i)&&(I=!!i.leading,O="maxWait"in i,u=O?Rt(an(i.maxWait)||0,r):u,U="trailing"in i?!!i.trailing:U);function H(St){var pn=a,Rn=o;return a=o=e,L=St,g=n.apply(Rn,pn),g}function Z(St){return L=St,v=He(ht,r),I?H(St):g}function rt(St){var pn=St-y,Rn=St-L,Va=r-pn;return O?Pt(Va,u-Rn):Va}function X(St){var pn=St-y,Rn=St-L;return y===e||pn>=r||pn<0||O&&Rn>=u}function ht(){var St=Ur();if(X(St))return ft(St);v=He(ht,rt(St))}function ft(St){return v=e,U&&a?H(St):(a=o=e,g)}function Vt(){v!==e&&Nc(v),L=0,a=y=o=v=e}function qt(){return v===e?g:ft(Ur())}function Qt(){var St=Ur(),pn=X(St);if(a=arguments,o=this,y=St,pn){if(v===e)return Z(y);if(O)return Nc(v),v=He(ht,r),H(y)}return v===e&&(v=He(ht,r)),g}return Qt.cancel=Vt,Qt.flush=qt,Qt}var Wu=st(function(n,r){return Mc(n,1,r)}),Nu=st(function(n,r,i){return Mc(n,an(r)||0,i)});function ku(n){return An(n,et)}function Dr(n,r){if(typeof n!="function"||r!=null&&typeof r!="function")throw new nn(f);var i=function(){var a=arguments,o=r?r.apply(this,a):a[0],u=i.cache;if(u.has(o))return u.get(o);var g=n.apply(this,a);return i.cache=u.set(o,g)||u,g};return i.cache=new(Dr.Cache||wn),i}Dr.Cache=wn;function qr(n){if(typeof n!="function")throw new nn(f);return function(){var r=arguments;switch(r.length){case 0:return!n.call(this);case 1:return!n.call(this,r[0]);case 2:return!n.call(this,r[0],r[1]);case 3:return!n.call(this,r[0],r[1],r[2])}return!n.apply(this,r)}}function Hu(n){return ba(2,n)}var Ku=Ll(function(n,r){r=r.length==1&&j(r[0])?wt(r[0],Zt(Y())):wt(Ot(r,1),Zt(Y()));var i=r.length;return st(function(a){for(var o=-1,u=Pt(a.length,i);++o<u;)a[o]=r[o].call(this,a[o]);return Gt(n,this,a)})}),ji=st(function(n,r){var i=Dn(r,me(ji));return An(n,z,e,r,i)}),Oa=st(function(n,r){var i=Dn(r,me(Oa));return An(n,B,e,r,i)}),Yu=En(function(n,r){return An(n,it,e,e,e,r)});function Gu(n,r){if(typeof n!="function")throw new nn(f);return r=r===e?r:nt(r),st(n,r)}function Zu(n,r){if(typeof n!="function")throw new nn(f);return r=r==null?0:Rt(nt(r),0),st(function(i){var a=i[r],o=Nn(i,0,r);return a&&Un(o,a),Gt(n,this,o)})}function Xu(n,r,i){var a=!0,o=!0;if(typeof n!="function")throw new nn(f);return Tt(i)&&(a="leading"in i?!!i.leading:a,o="trailing"in i?!!i.trailing:o),Ia(n,r,{leading:a,maxWait:r,trailing:o})}function $u(n){return Sa(n,1)}function Vu(n,r){return ji(qi(r),n)}function Qu(){if(!arguments.length)return[];var n=arguments[0];return j(n)?n:[n]}function Ju(n){return rn(n,T)}function ju(n,r){return r=typeof r=="function"?r:e,rn(n,T,r)}function t0(n){return rn(n,M|T)}function n0(n,r){return r=typeof r=="function"?r:e,rn(n,M|T,r)}function e0(n,r){return r==null||_c(n,r,Lt(r))}function un(n,r){return n===r||n!==n&&r!==r}var r0=Rr(Ei),i0=Rr(function(n,r){return n>=r}),Jn=Ec((function(){return arguments})())?Ec:function(n){return At(n)&&xt.call(n,"callee")&&!lc.call(n,"callee")},j=A.isArray,s0=Gs?Zt(Gs):pl;function Wt(n){return n!=null&&Fr(n.length)&&!bn(n)}function Et(n){return At(n)&&Wt(n)}function c0(n){return n===!0||n===!1||At(n)&&Ut(n)==Te}var kn=Mf||fs,a0=Zs?Zt(Zs):dl;function h0(n){return At(n)&&n.nodeType===1&&!Ke(n)}function o0(n){if(n==null)return!0;if(Wt(n)&&(j(n)||typeof n=="string"||typeof n.splice=="function"||kn(n)||xe(n)||Jn(n)))return!n.length;var r=zt(n);if(r==hn||r==on)return!n.size;if(ke(n))return!Ci(n).length;for(var i in n)if(xt.call(n,i))return!1;return!0}function f0(n,r){return Be(n,r)}function l0(n,r,i){i=typeof i=="function"?i:e;var a=i?i(n,r):e;return a===e?Be(n,r,e,i):!!a}function ts(n){if(!At(n))return!1;var r=Ut(n);return r==Ve||r==Oh||typeof n.message=="string"&&typeof n.name=="string"&&!Ke(n)}function u0(n){return typeof n=="number"&&pc(n)}function bn(n){if(!Tt(n))return!1;var r=Ut(n);return r==Qe||r==Ms||r==Ih||r==zh}function Pa(n){return typeof n=="number"&&n==nt(n)}function Fr(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=Ft}function Tt(n){var r=typeof n;return n!=null&&(r=="object"||r=="function")}function At(n){return n!=null&&typeof n=="object"}var za=Xs?Zt(Xs):ml;function p0(n,r){return n===r||bi(n,r,Ki(r))}function d0(n,r,i){return i=typeof i=="function"?i:e,bi(n,r,Ki(r),i)}function g0(n){return Ua(n)&&n!=+n}function m0(n){if(jl(n))throw new J(h);return Sc(n)}function x0(n){return n===null}function v0(n){return n==null}function Ua(n){return typeof n=="number"||At(n)&&Ut(n)==Ee}function Ke(n){if(!At(n)||Ut(n)!=Mn)return!1;var r=lr(n);if(r===null)return!0;var i=xt.call(r,"constructor")&&r.constructor;return typeof i=="function"&&i instanceof i&&ar.call(i)==df}var ns=$s?Zt($s):xl;function _0(n){return Pa(n)&&n>=-Ft&&n<=Ft}var Da=Vs?Zt(Vs):vl;function Br(n){return typeof n=="string"||!j(n)&&At(n)&&Ut(n)==be}function $t(n){return typeof n=="symbol"||At(n)&&Ut(n)==Je}var xe=Qs?Zt(Qs):_l;function M0(n){return n===e}function y0(n){return At(n)&&zt(n)==Ce}function w0(n){return At(n)&&Ut(n)==Dh}var T0=Rr(Ri),A0=Rr(function(n,r){return n<=r});function qa(n){if(!n)return[];if(Wt(n))return Br(n)?fn(n):Bt(n);if(Ie&&n[Ie])return nf(n[Ie]());var r=zt(n),i=r==hn?mi:r==on?ir:ve;return i(n)}function Cn(n){if(!n)return n===0?n:0;if(n=an(n),n===Yt||n===-Yt){var r=n<0?-1:1;return r*Xe}return n===n?n:0}function nt(n){var r=Cn(n),i=r%1;return r===r?i?r-i:r:0}function Fa(n){return n?Xn(nt(n),0,mn):0}function an(n){if(typeof n=="number")return n;if($t(n))return Hn;if(Tt(n)){var r=typeof n.valueOf=="function"?n.valueOf():n;n=Tt(r)?r+"":r}if(typeof n!="string")return n===0?n:+n;n=rc(n);var i=ro.test(n);return i||so.test(n)?Fo(n.slice(2),i?2:8):eo.test(n)?Hn:+n}function Ba(n){return vn(n,Nt(n))}function E0(n){return n?Xn(nt(n),-Ft,Ft):n===0?n:0}function gt(n){return n==null?"":Xt(n)}var S0=de(function(n,r){if(ke(r)||Wt(r)){vn(r,Lt(r),n);return}for(var i in r)xt.call(r,i)&&De(n,i,r[i])}),Wa=de(function(n,r){vn(r,Nt(r),n)}),Wr=de(function(n,r,i,a){vn(r,Nt(r),n,a)}),b0=de(function(n,r,i,a){vn(r,Lt(r),n,a)}),C0=En(wi);function R0(n,r){var i=pe(n);return r==null?i:vc(i,r)}var L0=st(function(n,r){n=_t(n);var i=-1,a=r.length,o=a>2?r[2]:e;for(o&&Dt(r[0],r[1],o)&&(a=1);++i<a;)for(var u=r[i],g=Nt(u),v=-1,y=g.length;++v<y;){var L=g[v],I=n[L];(I===e||un(I,fe[L])&&!xt.call(n,L))&&(n[L]=u[L])}return n}),I0=st(function(n){return n.push(e,ra),Gt(Na,e,n)});function O0(n,r){return js(n,Y(r,3),xn)}function P0(n,r){return js(n,Y(r,3),Ai)}function z0(n,r){return n==null?n:Ti(n,Y(r,3),Nt)}function U0(n,r){return n==null?n:Tc(n,Y(r,3),Nt)}function D0(n,r){return n&&xn(n,Y(r,3))}function q0(n,r){return n&&Ai(n,Y(r,3))}function F0(n){return n==null?[]:yr(n,Lt(n))}function B0(n){return n==null?[]:yr(n,Nt(n))}function es(n,r,i){var a=n==null?e:$n(n,r);return a===e?i:a}function W0(n,r){return n!=null&&ca(n,r,ol)}function rs(n,r){return n!=null&&ca(n,r,fl)}var N0=Jc(function(n,r,i){r!=null&&typeof r.toString!="function"&&(r=hr.call(r)),n[r]=i},ss(kt)),k0=Jc(function(n,r,i){r!=null&&typeof r.toString!="function"&&(r=hr.call(r)),xt.call(n,r)?n[r].push(i):n[r]=[i]},Y),H0=st(Fe);function Lt(n){return Wt(n)?mc(n):Ci(n)}function Nt(n){return Wt(n)?mc(n,!0):Ml(n)}function K0(n,r){var i={};return r=Y(r,3),xn(n,function(a,o,u){Tn(i,r(a,o,u),a)}),i}function Y0(n,r){var i={};return r=Y(r,3),xn(n,function(a,o,u){Tn(i,o,r(a,o,u))}),i}var G0=de(function(n,r,i){wr(n,r,i)}),Na=de(function(n,r,i,a){wr(n,r,i,a)}),Z0=En(function(n,r){var i={};if(n==null)return i;var a=!1;r=wt(r,function(u){return u=Wn(u,n),a||(a=u.length>1),u}),vn(n,ki(n),i),a&&(i=rn(i,M|E|T,Nl));for(var o=r.length;o--;)zi(i,r[o]);return i});function X0(n,r){return ka(n,qr(Y(r)))}var $0=En(function(n,r){return n==null?{}:wl(n,r)});function ka(n,r){if(n==null)return{};var i=wt(ki(n),function(a){return[a]});return r=Y(r),Pc(n,i,function(a,o){return r(a,o[0])})}function V0(n,r,i){r=Wn(r,n);var a=-1,o=r.length;for(o||(o=1,n=e);++a<o;){var u=n==null?e:n[_n(r[a])];u===e&&(a=o,u=i),n=bn(u)?u.call(n):u}return n}function Q0(n,r,i){return n==null?n:We(n,r,i)}function J0(n,r,i,a){return a=typeof a=="function"?a:e,n==null?n:We(n,r,i,a)}var Ha=na(Lt),Ka=na(Nt);function j0(n,r,i){var a=j(n),o=a||kn(n)||xe(n);if(r=Y(r,4),i==null){var u=n&&n.constructor;o?i=a?new u:[]:Tt(n)?i=bn(u)?pe(lr(n)):{}:i={}}return(o?tn:xn)(n,function(g,v,y){return r(i,g,v,y)}),i}function tp(n,r){return n==null?!0:zi(n,r)}function np(n,r,i){return n==null?n:Fc(n,r,qi(i))}function ep(n,r,i,a){return a=typeof a=="function"?a:e,n==null?n:Fc(n,r,qi(i),a)}function ve(n){return n==null?[]:gi(n,Lt(n))}function rp(n){return n==null?[]:gi(n,Nt(n))}function ip(n,r,i){return i===e&&(i=r,r=e),i!==e&&(i=an(i),i=i===i?i:0),r!==e&&(r=an(r),r=r===r?r:0),Xn(an(n),r,i)}function sp(n,r,i){return r=Cn(r),i===e?(i=r,r=0):i=Cn(i),n=an(n),ll(n,r,i)}function cp(n,r,i){if(i&&typeof i!="boolean"&&Dt(n,r,i)&&(r=i=e),i===e&&(typeof r=="boolean"?(i=r,r=e):typeof n=="boolean"&&(i=n,n=e)),n===e&&r===e?(n=0,r=1):(n=Cn(n),r===e?(r=n,n=0):r=Cn(r)),n>r){var a=n;n=r,r=a}if(i||n%1||r%1){var o=dc();return Pt(n+o*(r-n+qo("1e-"+((o+"").length-1))),r)}return Ii(n,r)}var ap=ge(function(n,r,i){return r=r.toLowerCase(),n+(i?Ya(r):r)});function Ya(n){return is(gt(n).toLowerCase())}function Ga(n){return n=gt(n),n&&n.replace(ao,Vo).replace(bo,"")}function hp(n,r,i){n=gt(n),r=Xt(r);var a=n.length;i=i===e?a:Xn(nt(i),0,a);var o=i;return i-=r.length,i>=0&&n.slice(i,o)==r}function op(n){return n=gt(n),n&&Nh.test(n)?n.replace(Ts,Qo):n}function fp(n){return n=gt(n),n&&Zh.test(n)?n.replace(jr,"\\$&"):n}var lp=ge(function(n,r,i){return n+(i?"-":"")+r.toLowerCase()}),up=ge(function(n,r,i){return n+(i?" ":"")+r.toLowerCase()}),pp=$c("toLowerCase");function dp(n,r,i){n=gt(n),r=nt(r);var a=r?he(n):0;if(!r||a>=r)return n;var o=(r-a)/2;return Cr(gr(o),i)+n+Cr(dr(o),i)}function gp(n,r,i){n=gt(n),r=nt(r);var a=r?he(n):0;return r&&a<r?n+Cr(r-a,i):n}function mp(n,r,i){n=gt(n),r=nt(r);var a=r?he(n):0;return r&&a<r?Cr(r-a,i)+n:n}function xp(n,r,i){return i||r==null?r=0:r&&(r=+r),Af(gt(n).replace(ti,""),r||0)}function vp(n,r,i){return(i?Dt(n,r,i):r===e)?r=1:r=nt(r),Oi(gt(n),r)}function _p(){var n=arguments,r=gt(n[0]);return n.length<3?r:r.replace(n[1],n[2])}var Mp=ge(function(n,r,i){return n+(i?"_":"")+r.toLowerCase()});function yp(n,r,i){return i&&typeof i!="number"&&Dt(n,r,i)&&(r=i=e),i=i===e?mn:i>>>0,i?(n=gt(n),n&&(typeof r=="string"||r!=null&&!ns(r))&&(r=Xt(r),!r&&ae(n))?Nn(fn(n),0,i):n.split(r,i)):[]}var wp=ge(function(n,r,i){return n+(i?" ":"")+is(r)});function Tp(n,r,i){return n=gt(n),i=i==null?0:Xn(nt(i),0,n.length),r=Xt(r),n.slice(i,i+r.length)==r}function Ap(n,r,i){var a=l.templateSettings;i&&Dt(n,r,i)&&(r=e),n=gt(n),r=Wr({},r,a,ea);var o=Wr({},r.imports,a.imports,ea),u=Lt(o),g=gi(o,u),v,y,L=0,I=r.interpolate||je,O="__p += '",U=xi((r.escape||je).source+"|"+I.source+"|"+(I===As?no:je).source+"|"+(r.evaluate||je).source+"|$","g"),H="//# sourceURL="+(xt.call(r,"sourceURL")?(r.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Oo+"]")+`
`;n.replace(U,function(X,ht,ft,Vt,qt,Qt){return ft||(ft=Vt),O+=n.slice(L,Qt).replace(ho,Jo),ht&&(v=!0,O+=`' +
__e(`+ht+`) +
'`),qt&&(y=!0,O+=`';
`+qt+`;
__p += '`),ft&&(O+=`' +
((__t = (`+ft+`)) == null ? '' : __t) +
'`),L=Qt+X.length,X}),O+=`';
`;var Z=xt.call(r,"variable")&&r.variable;if(!Z)O=`with (obj) {
`+O+`
}
`;else if(jh.test(Z))throw new J(p);O=(y?O.replace(qh,""):O).replace(Fh,"$1").replace(Bh,"$1;"),O="function("+(Z||"obj")+`) {
`+(Z?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(v?", __e = _.escape":"")+(y?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+O+`return __p
}`;var rt=Xa(function(){return pt(u,H+"return "+O).apply(e,g)});if(rt.source=O,ts(rt))throw rt;return rt}function Ep(n){return gt(n).toLowerCase()}function Sp(n){return gt(n).toUpperCase()}function bp(n,r,i){if(n=gt(n),n&&(i||r===e))return rc(n);if(!n||!(r=Xt(r)))return n;var a=fn(n),o=fn(r),u=ic(a,o),g=sc(a,o)+1;return Nn(a,u,g).join("")}function Cp(n,r,i){if(n=gt(n),n&&(i||r===e))return n.slice(0,ac(n)+1);if(!n||!(r=Xt(r)))return n;var a=fn(n),o=sc(a,fn(r))+1;return Nn(a,0,o).join("")}function Rp(n,r,i){if(n=gt(n),n&&(i||r===e))return n.replace(ti,"");if(!n||!(r=Xt(r)))return n;var a=fn(n),o=ic(a,fn(r));return Nn(a,o).join("")}function Lp(n,r){var i=lt,a=K;if(Tt(r)){var o="separator"in r?r.separator:o;i="length"in r?nt(r.length):i,a="omission"in r?Xt(r.omission):a}n=gt(n);var u=n.length;if(ae(n)){var g=fn(n);u=g.length}if(i>=u)return n;var v=i-he(a);if(v<1)return a;var y=g?Nn(g,0,v).join(""):n.slice(0,v);if(o===e)return y+a;if(g&&(v+=y.length-v),ns(o)){if(n.slice(v).search(o)){var L,I=y;for(o.global||(o=xi(o.source,gt(Es.exec(o))+"g")),o.lastIndex=0;L=o.exec(I);)var O=L.index;y=y.slice(0,O===e?v:O)}}else if(n.indexOf(Xt(o),v)!=v){var U=y.lastIndexOf(o);U>-1&&(y=y.slice(0,U))}return y+a}function Ip(n){return n=gt(n),n&&Wh.test(n)?n.replace(ws,cf):n}var Op=ge(function(n,r,i){return n+(i?" ":"")+r.toUpperCase()}),is=$c("toUpperCase");function Za(n,r,i){return n=gt(n),r=i?e:r,r===e?tf(n)?of(n):Yo(n):n.match(r)||[]}var Xa=st(function(n,r){try{return Gt(n,e,r)}catch(i){return ts(i)?i:new J(i)}}),Pp=En(function(n,r){return tn(r,function(i){i=_n(i),Tn(n,i,Ji(n[i],n))}),n});function zp(n){var r=n==null?0:n.length,i=Y();return n=r?wt(n,function(a){if(typeof a[1]!="function")throw new nn(f);return[i(a[0]),a[1]]}):[],st(function(a){for(var o=-1;++o<r;){var u=n[o];if(Gt(u[0],this,a))return Gt(u[1],this,a)}})}function Up(n){return cl(rn(n,M))}function ss(n){return function(){return n}}function Dp(n,r){return n==null||n!==n?r:n}var qp=Qc(),Fp=Qc(!0);function kt(n){return n}function cs(n){return bc(typeof n=="function"?n:rn(n,M))}function Bp(n){return Rc(rn(n,M))}function Wp(n,r){return Lc(n,rn(r,M))}var Np=st(function(n,r){return function(i){return Fe(i,n,r)}}),kp=st(function(n,r){return function(i){return Fe(n,i,r)}});function as(n,r,i){var a=Lt(r),o=yr(r,a);i==null&&!(Tt(r)&&(o.length||!a.length))&&(i=r,r=n,n=this,o=yr(r,Lt(r)));var u=!(Tt(i)&&"chain"in i)||!!i.chain,g=bn(n);return tn(o,function(v){var y=r[v];n[v]=y,g&&(n.prototype[v]=function(){var L=this.__chain__;if(u||L){var I=n(this.__wrapped__),O=I.__actions__=Bt(this.__actions__);return O.push({func:y,args:arguments,thisArg:n}),I.__chain__=L,I}return y.apply(n,Un([this.value()],arguments))})}),n}function Hp(){return It._===this&&(It._=gf),this}function hs(){}function Kp(n){return n=nt(n),st(function(r){return Ic(r,n)})}var Yp=Bi(wt),Gp=Bi(Js),Zp=Bi(fi);function $a(n){return Gi(n)?li(_n(n)):Tl(n)}function Xp(n){return function(r){return n==null?e:$n(n,r)}}var $p=jc(),Vp=jc(!0);function os(){return[]}function fs(){return!1}function Qp(){return{}}function Jp(){return""}function jp(){return!0}function td(n,r){if(n=nt(n),n<1||n>Ft)return[];var i=mn,a=Pt(n,mn);r=Y(r),n-=mn;for(var o=di(a,r);++i<n;)r(i);return o}function nd(n){return j(n)?wt(n,_n):$t(n)?[n]:Bt(ga(gt(n)))}function ed(n){var r=++pf;return gt(n)+r}var rd=br(function(n,r){return n+r},0),id=Wi("ceil"),sd=br(function(n,r){return n/r},1),cd=Wi("floor");function ad(n){return n&&n.length?Mr(n,kt,Ei):e}function hd(n,r){return n&&n.length?Mr(n,Y(r,2),Ei):e}function od(n){return nc(n,kt)}function fd(n,r){return nc(n,Y(r,2))}function ld(n){return n&&n.length?Mr(n,kt,Ri):e}function ud(n,r){return n&&n.length?Mr(n,Y(r,2),Ri):e}var pd=br(function(n,r){return n*r},1),dd=Wi("round"),gd=br(function(n,r){return n-r},0);function md(n){return n&&n.length?pi(n,kt):0}function xd(n,r){return n&&n.length?pi(n,Y(r,2)):0}return l.after=Bu,l.ary=Sa,l.assign=S0,l.assignIn=Wa,l.assignInWith=Wr,l.assignWith=b0,l.at=C0,l.before=ba,l.bind=Ji,l.bindAll=Pp,l.bindKey=Ca,l.castArray=Qu,l.chain=Ta,l.chunk=c1,l.compact=a1,l.concat=h1,l.cond=zp,l.conforms=Up,l.constant=ss,l.countBy=mu,l.create=R0,l.curry=Ra,l.curryRight=La,l.debounce=Ia,l.defaults=L0,l.defaultsDeep=I0,l.defer=Wu,l.delay=Nu,l.difference=o1,l.differenceBy=f1,l.differenceWith=l1,l.drop=u1,l.dropRight=p1,l.dropRightWhile=d1,l.dropWhile=g1,l.fill=m1,l.filter=vu,l.flatMap=yu,l.flatMapDeep=wu,l.flatMapDepth=Tu,l.flatten=_a,l.flattenDeep=x1,l.flattenDepth=v1,l.flip=ku,l.flow=qp,l.flowRight=Fp,l.fromPairs=_1,l.functions=F0,l.functionsIn=B0,l.groupBy=Au,l.initial=y1,l.intersection=w1,l.intersectionBy=T1,l.intersectionWith=A1,l.invert=N0,l.invertBy=k0,l.invokeMap=Su,l.iteratee=cs,l.keyBy=bu,l.keys=Lt,l.keysIn=Nt,l.map=zr,l.mapKeys=K0,l.mapValues=Y0,l.matches=Bp,l.matchesProperty=Wp,l.memoize=Dr,l.merge=G0,l.mergeWith=Na,l.method=Np,l.methodOf=kp,l.mixin=as,l.negate=qr,l.nthArg=Kp,l.omit=Z0,l.omitBy=X0,l.once=Hu,l.orderBy=Cu,l.over=Yp,l.overArgs=Ku,l.overEvery=Gp,l.overSome=Zp,l.partial=ji,l.partialRight=Oa,l.partition=Ru,l.pick=$0,l.pickBy=ka,l.property=$a,l.propertyOf=Xp,l.pull=C1,l.pullAll=ya,l.pullAllBy=R1,l.pullAllWith=L1,l.pullAt=I1,l.range=$p,l.rangeRight=Vp,l.rearg=Yu,l.reject=Ou,l.remove=O1,l.rest=Gu,l.reverse=Vi,l.sampleSize=zu,l.set=Q0,l.setWith=J0,l.shuffle=Uu,l.slice=P1,l.sortBy=Fu,l.sortedUniq=W1,l.sortedUniqBy=N1,l.split=yp,l.spread=Zu,l.tail=k1,l.take=H1,l.takeRight=K1,l.takeRightWhile=Y1,l.takeWhile=G1,l.tap=au,l.throttle=Xu,l.thru=Pr,l.toArray=qa,l.toPairs=Ha,l.toPairsIn=Ka,l.toPath=nd,l.toPlainObject=Ba,l.transform=j0,l.unary=$u,l.union=Z1,l.unionBy=X1,l.unionWith=$1,l.uniq=V1,l.uniqBy=Q1,l.uniqWith=J1,l.unset=tp,l.unzip=Qi,l.unzipWith=wa,l.update=np,l.updateWith=ep,l.values=ve,l.valuesIn=rp,l.without=j1,l.words=Za,l.wrap=Vu,l.xor=tu,l.xorBy=nu,l.xorWith=eu,l.zip=ru,l.zipObject=iu,l.zipObjectDeep=su,l.zipWith=cu,l.entries=Ha,l.entriesIn=Ka,l.extend=Wa,l.extendWith=Wr,as(l,l),l.add=rd,l.attempt=Xa,l.camelCase=ap,l.capitalize=Ya,l.ceil=id,l.clamp=ip,l.clone=Ju,l.cloneDeep=t0,l.cloneDeepWith=n0,l.cloneWith=ju,l.conformsTo=e0,l.deburr=Ga,l.defaultTo=Dp,l.divide=sd,l.endsWith=hp,l.eq=un,l.escape=op,l.escapeRegExp=fp,l.every=xu,l.find=_u,l.findIndex=xa,l.findKey=O0,l.findLast=Mu,l.findLastIndex=va,l.findLastKey=P0,l.floor=cd,l.forEach=Aa,l.forEachRight=Ea,l.forIn=z0,l.forInRight=U0,l.forOwn=D0,l.forOwnRight=q0,l.get=es,l.gt=r0,l.gte=i0,l.has=W0,l.hasIn=rs,l.head=Ma,l.identity=kt,l.includes=Eu,l.indexOf=M1,l.inRange=sp,l.invoke=H0,l.isArguments=Jn,l.isArray=j,l.isArrayBuffer=s0,l.isArrayLike=Wt,l.isArrayLikeObject=Et,l.isBoolean=c0,l.isBuffer=kn,l.isDate=a0,l.isElement=h0,l.isEmpty=o0,l.isEqual=f0,l.isEqualWith=l0,l.isError=ts,l.isFinite=u0,l.isFunction=bn,l.isInteger=Pa,l.isLength=Fr,l.isMap=za,l.isMatch=p0,l.isMatchWith=d0,l.isNaN=g0,l.isNative=m0,l.isNil=v0,l.isNull=x0,l.isNumber=Ua,l.isObject=Tt,l.isObjectLike=At,l.isPlainObject=Ke,l.isRegExp=ns,l.isSafeInteger=_0,l.isSet=Da,l.isString=Br,l.isSymbol=$t,l.isTypedArray=xe,l.isUndefined=M0,l.isWeakMap=y0,l.isWeakSet=w0,l.join=E1,l.kebabCase=lp,l.last=cn,l.lastIndexOf=S1,l.lowerCase=up,l.lowerFirst=pp,l.lt=T0,l.lte=A0,l.max=ad,l.maxBy=hd,l.mean=od,l.meanBy=fd,l.min=ld,l.minBy=ud,l.stubArray=os,l.stubFalse=fs,l.stubObject=Qp,l.stubString=Jp,l.stubTrue=jp,l.multiply=pd,l.nth=b1,l.noConflict=Hp,l.noop=hs,l.now=Ur,l.pad=dp,l.padEnd=gp,l.padStart=mp,l.parseInt=xp,l.random=cp,l.reduce=Lu,l.reduceRight=Iu,l.repeat=vp,l.replace=_p,l.result=V0,l.round=dd,l.runInContext=_,l.sample=Pu,l.size=Du,l.snakeCase=Mp,l.some=qu,l.sortedIndex=z1,l.sortedIndexBy=U1,l.sortedIndexOf=D1,l.sortedLastIndex=q1,l.sortedLastIndexBy=F1,l.sortedLastIndexOf=B1,l.startCase=wp,l.startsWith=Tp,l.subtract=gd,l.sum=md,l.sumBy=xd,l.template=Ap,l.times=td,l.toFinite=Cn,l.toInteger=nt,l.toLength=Fa,l.toLower=Ep,l.toNumber=an,l.toSafeInteger=E0,l.toString=gt,l.toUpper=Sp,l.trim=bp,l.trimEnd=Cp,l.trimStart=Rp,l.truncate=Lp,l.unescape=Ip,l.uniqueId=ed,l.upperCase=Op,l.upperFirst=is,l.each=Aa,l.eachRight=Ea,l.first=Ma,as(l,(function(){var n={};return xn(l,function(r,i){xt.call(l.prototype,i)||(n[i]=r)}),n})(),{chain:!1}),l.VERSION=s,tn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(n){l[n].placeholder=l}),tn(["drop","take"],function(n,r){ot.prototype[n]=function(i){i=i===e?1:Rt(nt(i),0);var a=this.__filtered__&&!r?new ot(this):this.clone();return a.__filtered__?a.__takeCount__=Pt(i,a.__takeCount__):a.__views__.push({size:Pt(i,mn),type:n+(a.__dir__<0?"Right":"")}),a},ot.prototype[n+"Right"]=function(i){return this.reverse()[n](i).reverse()}}),tn(["filter","map","takeWhile"],function(n,r){var i=r+1,a=i==dt||i==Jt;ot.prototype[n]=function(o){var u=this.clone();return u.__iteratees__.push({iteratee:Y(o,3),type:i}),u.__filtered__=u.__filtered__||a,u}}),tn(["head","last"],function(n,r){var i="take"+(r?"Right":"");ot.prototype[n]=function(){return this[i](1).value()[0]}}),tn(["initial","tail"],function(n,r){var i="drop"+(r?"":"Right");ot.prototype[n]=function(){return this.__filtered__?new ot(this):this[i](1)}}),ot.prototype.compact=function(){return this.filter(kt)},ot.prototype.find=function(n){return this.filter(n).head()},ot.prototype.findLast=function(n){return this.reverse().find(n)},ot.prototype.invokeMap=st(function(n,r){return typeof n=="function"?new ot(this):this.map(function(i){return Fe(i,n,r)})}),ot.prototype.reject=function(n){return this.filter(qr(Y(n)))},ot.prototype.slice=function(n,r){n=nt(n);var i=this;return i.__filtered__&&(n>0||r<0)?new ot(i):(n<0?i=i.takeRight(-n):n&&(i=i.drop(n)),r!==e&&(r=nt(r),i=r<0?i.dropRight(-r):i.take(r-n)),i)},ot.prototype.takeRightWhile=function(n){return this.reverse().takeWhile(n).reverse()},ot.prototype.toArray=function(){return this.take(mn)},xn(ot.prototype,function(n,r){var i=/^(?:filter|find|map|reject)|While$/.test(r),a=/^(?:head|last)$/.test(r),o=l[a?"take"+(r=="last"?"Right":""):r],u=a||/^find/.test(r);o&&(l.prototype[r]=function(){var g=this.__wrapped__,v=a?[1]:arguments,y=g instanceof ot,L=v[0],I=y||j(g),O=function(ht){var ft=o.apply(l,Un([ht],v));return a&&U?ft[0]:ft};I&&i&&typeof L=="function"&&L.length!=1&&(y=I=!1);var U=this.__chain__,H=!!this.__actions__.length,Z=u&&!U,rt=y&&!H;if(!u&&I){g=rt?g:new ot(this);var X=n.apply(g,v);return X.__actions__.push({func:Pr,args:[O],thisArg:e}),new en(X,U)}return Z&&rt?n.apply(this,v):(X=this.thru(O),Z?a?X.value()[0]:X.value():X)})}),tn(["pop","push","shift","sort","splice","unshift"],function(n){var r=sr[n],i=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",a=/^(?:pop|shift)$/.test(n);l.prototype[n]=function(){var o=arguments;if(a&&!this.__chain__){var u=this.value();return r.apply(j(u)?u:[],o)}return this[i](function(g){return r.apply(j(g)?g:[],o)})}}),xn(ot.prototype,function(n,r){var i=l[r];if(i){var a=i.name+"";xt.call(ue,a)||(ue[a]=[]),ue[a].push({name:r,func:i})}}),ue[Sr(e,P).name]=[{name:"wrapper",func:e}],ot.prototype.clone=If,ot.prototype.reverse=Of,ot.prototype.value=Pf,l.prototype.at=hu,l.prototype.chain=ou,l.prototype.commit=fu,l.prototype.next=lu,l.prototype.plant=pu,l.prototype.reverse=du,l.prototype.toJSON=l.prototype.valueOf=l.prototype.value=gu,l.prototype.first=l.prototype.head,Ie&&(l.prototype[Ie]=uu),l}),oe=ff();Kn?((Kn.exports=oe)._=oe,ci._=oe):It._=oe}).call(Qa)})(_e,_e.exports)),_e.exports}var ja=Ja();function th(C){const t=document.createElement("canvas");return t.style.display="block",t.style.width=C.style.width,t.style.height=C.style.height,C.style.position="relative",t.setAttribute("id",ja.uniqueId("canvas")),C.append(t),t}class us{static gl}class nh{canvas;gl;constructor(t){const e=window.devicePixelRatio||1,s=th(t),c=s.getBoundingClientRect();s.width=c.width*e,s.height=c.height*e,this.canvas=s,this.gl=s.getContext("webgl2",{stencil:!1}),us.gl=this.gl;const h=new Set;h.add("OES_element_index_uint"),h.add("OES_vertex_array_object"),h.add("WEBGL_depth_texture"),h.forEach(f=>{this.gl.getExtension(f)})}init(){}}class eh extends Set{}class Ye{create(t){}destroy(t){}tie(t){}untie(){}}class ps extends Ye{source;shader;type;constructor(t,e){super(),this.type=e,this.source=t}tie(t){this.create(t),this.shaderSource(t,this.source),this.compile(t),t.getShaderParameter(this.shader,t.COMPILE_STATUS)||console.error("Shader compilation error:",t.getShaderInfoLog(this.shader))}create(t){this.shader=t.createShader({0:t.VERTEX_SHADER,1:t.FRAGMENT_SHADER}[this.type])}shaderSource(t,e){t.shaderSource(this.shader,e)}compile(t){t.compileShader(this.shader)}}class rh extends ps{constructor(t){super(t,1)}}class ih extends ps{constructor(t){super(t,0)}}class Me extends Ye{static current;VertexShader;FragmentShader;id;gl;m_attributeLocations={};m_uniformLocations={};constructor(t,e){super(),this.gl=t;for(let s of e)s.tie(t),s instanceof ih&&(this.VertexShader=s),s instanceof rh&&(this.FragmentShader=s)}create(t){this.id=t.createProgram()}initAttribute(t){const e=t.getProgramParameter(this.id,t.ACTIVE_ATTRIBUTES);for(let s=0;s<e;s++){const h=t.getActiveAttrib(this.id,s).name,f=t.getAttribLocation(this.id,h);this.m_attributeLocations[h]={location:f}}}initUniform(t){const e=t.getProgramParameter(this.id,t.ACTIVE_UNIFORMS);for(let s=0;s<e;s++){const c=t.getActiveUniform(this.id,s),h=c.name,f=t.getUniformLocation(this.id,h);this.m_uniformLocations[h]={location:f,type:c.type}}}tie(t){this.create(t),this.attach(),this.link(),this.use(),t.getProgramParameter(this.id,t.LINK_STATUS)||console.error("Program link error:",this.gl.getProgramInfoLog(this.id)),this.initAttribute(t),this.initUniform(t)}attach(){this.gl.attachShader(this.id,this.VertexShader.shader),this.gl.attachShader(this.id,this.FragmentShader.shader)}link(){this.gl.linkProgram(this.id)}use(){this.gl.useProgram(this.id),Me.current=this}}let sh=class extends Ye{constructor(){super()}};class Nr extends sh{constructor(){super()}static default(){return new Nr}}class ch extends Array{constructor(){super()}build(t){this.createQueue(t)}createQueue(t){const e=[];e.push(Nr.default()),this.forEach(s=>{s.material.renderMode&&s.geometry.updateDrawMode(s.material.renderMode.mode),e.push(new Me(t,s.material.shader)),this.camera.defaultUniform.forEach(c=>{c.name!=="uModelMatrix"&&e.push(c)}),e.push(s.modelMatrix),s.material.state.forEach(c=>{e.push(c)}),s.material.uniform.forEach(c=>{e.push(c)}),s.geometry.vbos.forEach(c=>{e.push(c)}),s.geometry.drawers.forEach(c=>{e.push(c)})}),this.queue=e}destroyQueue(t){}queue=[];render(t){this.destroyQueue(t),this.createQueue(t),t.clearColor(0,0,0,.5),t.clearDepth(1),t.enable(t.DEPTH_TEST),t.depthFunc(t.LEQUAL),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),this.queue.forEach(s=>{s.tie(t)});const e=t.getError();e!==t.NO_ERROR&&console.error("WebGL Error:",e)}}class ah{constructor(){}}class hh{context;setContext(t){this.context=t}}class oh extends hh{constructor(){super()}end(){}start(){this.context.chain.setNext(this.context.cameraChain)}}class ds{nextHandler;setNext(t){return this.nextHandler=t,t}mousedown(t){return this.nextHandler?this.nextHandler.mousedown(t):null}mouseup(t){return this.nextHandler?this.nextHandler.mouseup(t):null}mousemove(t){return this.nextHandler?this.nextHandler.mousemove(t):null}}class fh extends ds{}const tt=1e-6,gs=new Float32Array([1,0,0,0,1,0,0,0,1]);class bt extends Float32Array{static BYTE_LENGTH=9*Float32Array.BYTES_PER_ELEMENT;constructor(...t){switch(t.length){case 9:super(t);break;case 2:super(t[0],t[1],9);break;case 1:const e=t[0];typeof e=="number"?super([e,e,e,e,e,e,e,e,e]):super(e,0,9);break;default:super(gs);break}}get str(){return bt.str(this)}copy(t){return this.set(t),this}identity(){return this.set(gs),this}multiply(t){return bt.multiply(this,this,t)}mul(t){return this}transpose(){return bt.transpose(this,this)}invert(){return bt.invert(this,this)}translate(t){return bt.translate(this,this,t)}rotate(t){return bt.rotate(this,this,t)}scale(t){return bt.scale(this,this,t)}static create(){return new bt}static clone(t){return new bt(t)}static copy(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}static fromValues(...t){return new bt(...t)}static set(t,...e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}static identity(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}static transpose(t,e){if(t===e){const s=e[1],c=e[2],h=e[5];t[1]=e[3],t[2]=e[6],t[3]=s,t[5]=e[7],t[6]=c,t[7]=h}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}static invert(t,e){const s=e[0],c=e[1],h=e[2],f=e[3],p=e[4],d=e[5],m=e[6],x=e[7],M=e[8],E=M*p-d*x,T=-M*f+d*m,w=x*f-p*m;let b=s*E+c*T+h*w;return b?(b=1/b,t[0]=E*b,t[1]=(-M*c+h*x)*b,t[2]=(d*c-h*p)*b,t[3]=T*b,t[4]=(M*s-h*m)*b,t[5]=(-d*s+h*f)*b,t[6]=w*b,t[7]=(-x*s+c*m)*b,t[8]=(p*s-c*f)*b,t):null}static adjoint(t,e){const s=e[0],c=e[1],h=e[2],f=e[3],p=e[4],d=e[5],m=e[6],x=e[7],M=e[8];return t[0]=p*M-d*x,t[1]=h*x-c*M,t[2]=c*d-h*p,t[3]=d*m-f*M,t[4]=s*M-h*m,t[5]=h*f-s*d,t[6]=f*x-p*m,t[7]=c*m-s*x,t[8]=s*p-c*f,t}static determinant(t){const e=t[0],s=t[1],c=t[2],h=t[3],f=t[4],p=t[5],d=t[6],m=t[7],x=t[8];return e*(x*f-p*m)+s*(-x*h+p*d)+c*(m*h-f*d)}static add(t,e,s){return t[0]=e[0]+s[0],t[1]=e[1]+s[1],t[2]=e[2]+s[2],t[3]=e[3]+s[3],t[4]=e[4]+s[4],t[5]=e[5]+s[5],t[6]=e[6]+s[6],t[7]=e[7]+s[7],t[8]=e[8]+s[8],t}static subtract(t,e,s){return t[0]=e[0]-s[0],t[1]=e[1]-s[1],t[2]=e[2]-s[2],t[3]=e[3]-s[3],t[4]=e[4]-s[4],t[5]=e[5]-s[5],t[6]=e[6]-s[6],t[7]=e[7]-s[7],t[8]=e[8]-s[8],t}static sub(t,e,s){return t}static multiply(t,e,s){const c=e[0],h=e[1],f=e[2],p=e[3],d=e[4],m=e[5],x=e[6],M=e[7],E=e[8];let T=s[0],w=s[1],b=s[2];return t[0]=T*c+w*p+b*x,t[1]=T*h+w*d+b*M,t[2]=T*f+w*m+b*E,T=s[3],w=s[4],b=s[5],t[3]=T*c+w*p+b*x,t[4]=T*h+w*d+b*M,t[5]=T*f+w*m+b*E,T=s[6],w=s[7],b=s[8],t[6]=T*c+w*p+b*x,t[7]=T*h+w*d+b*M,t[8]=T*f+w*m+b*E,t}static mul(t,e,s){return t}static translate(t,e,s){const c=e[0],h=e[1],f=e[2],p=e[3],d=e[4],m=e[5],x=e[6],M=e[7],E=e[8],T=s[0],w=s[1];return t[0]=c,t[1]=h,t[2]=f,t[3]=p,t[4]=d,t[5]=m,t[6]=T*c+w*p+x,t[7]=T*h+w*d+M,t[8]=T*f+w*m+E,t}static rotate(t,e,s){const c=e[0],h=e[1],f=e[2],p=e[3],d=e[4],m=e[5],x=e[6],M=e[7],E=e[8],T=Math.sin(s),w=Math.cos(s);return t[0]=w*c+T*p,t[1]=w*h+T*d,t[2]=w*f+T*m,t[3]=w*p-T*c,t[4]=w*d-T*h,t[5]=w*m-T*f,t[6]=x,t[7]=M,t[8]=E,t}static scale(t,e,s){const c=s[0],h=s[1];return t[0]=c*e[0],t[1]=c*e[1],t[2]=c*e[2],t[3]=h*e[3],t[4]=h*e[4],t[5]=h*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}static fromTranslation(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}static fromRotation(t,e){const s=Math.sin(e),c=Math.cos(e);return t[0]=c,t[1]=s,t[2]=0,t[3]=-s,t[4]=c,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}static fromScaling(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}static fromMat2d(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}static fromQuat(t,e){const s=e[0],c=e[1],h=e[2],f=e[3],p=s+s,d=c+c,m=h+h,x=s*p,M=c*p,E=c*d,T=h*p,w=h*d,b=h*m,S=f*p,P=f*d,q=f*m;return t[0]=1-E-b,t[3]=M-q,t[6]=T+P,t[1]=M+q,t[4]=1-x-b,t[7]=w-S,t[2]=T-P,t[5]=w+S,t[8]=1-x-E,t}static fromMat4(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}static normalFromMat4(t,e){const s=e[0],c=e[1],h=e[2],f=e[3],p=e[4],d=e[5],m=e[6],x=e[7],M=e[8],E=e[9],T=e[10],w=e[11],b=e[12],S=e[13],P=e[14],q=e[15],N=s*d-c*p,F=s*m-h*p,z=s*x-f*p,B=c*m-h*d,D=c*x-f*d,it=h*x-f*m,et=M*S-E*b,lt=M*P-T*b,K=M*q-w*b,vt=E*P-T*S,mt=E*q-w*S,dt=T*q-w*P;let V=N*dt-F*mt+z*vt+B*K-D*lt+it*et;return V?(V=1/V,t[0]=(d*dt-m*mt+x*vt)*V,t[1]=(m*K-p*dt-x*lt)*V,t[2]=(p*mt-d*K+x*et)*V,t[3]=(h*mt-c*dt-f*vt)*V,t[4]=(s*dt-h*K+f*lt)*V,t[5]=(c*K-s*mt-f*et)*V,t[6]=(S*it-P*D+q*B)*V,t[7]=(P*z-b*it-q*F)*V,t[8]=(b*D-S*z+q*N)*V,t):null}static projection(t,e,s){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/s,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}static frob(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]+t[3]*t[3]+t[4]*t[4]+t[5]*t[5]+t[6]*t[6]+t[7]*t[7]+t[8]*t[8])}static multiplyScalar(t,e,s){return t[0]=e[0]*s,t[1]=e[1]*s,t[2]=e[2]*s,t[3]=e[3]*s,t[4]=e[4]*s,t[5]=e[5]*s,t[6]=e[6]*s,t[7]=e[7]*s,t[8]=e[8]*s,t}static multiplyScalarAndAdd(t,e,s,c){return t[0]=e[0]+s[0]*c,t[1]=e[1]+s[1]*c,t[2]=e[2]+s[2]*c,t[3]=e[3]+s[3]*c,t[4]=e[4]+s[4]*c,t[5]=e[5]+s[5]*c,t[6]=e[6]+s[6]*c,t[7]=e[7]+s[7]*c,t[8]=e[8]+s[8]*c,t}static exactEquals(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}static equals(t,e){const s=t[0],c=t[1],h=t[2],f=t[3],p=t[4],d=t[5],m=t[6],x=t[7],M=t[8],E=e[0],T=e[1],w=e[2],b=e[3],S=e[4],P=e[5],q=e[6],N=e[7],F=e[8];return Math.abs(s-E)<=tt*Math.max(1,Math.abs(s),Math.abs(E))&&Math.abs(c-T)<=tt*Math.max(1,Math.abs(c),Math.abs(T))&&Math.abs(h-w)<=tt*Math.max(1,Math.abs(h),Math.abs(w))&&Math.abs(f-b)<=tt*Math.max(1,Math.abs(f),Math.abs(b))&&Math.abs(p-S)<=tt*Math.max(1,Math.abs(p),Math.abs(S))&&Math.abs(d-P)<=tt*Math.max(1,Math.abs(d),Math.abs(P))&&Math.abs(m-q)<=tt*Math.max(1,Math.abs(m),Math.abs(q))&&Math.abs(x-N)<=tt*Math.max(1,Math.abs(x),Math.abs(N))&&Math.abs(M-F)<=tt*Math.max(1,Math.abs(M),Math.abs(F))}static str(t){return`Mat3(${t.join(", ")})`}}bt.prototype.mul=bt.prototype.multiply,bt.mul=bt.multiply,bt.sub=bt.subtract;const Ge=bt;class G extends Float32Array{static BYTE_LENGTH=3*Float32Array.BYTES_PER_ELEMENT;constructor(...t){switch(t.length){case 3:super(t);break;case 2:super(t[0],t[1],3);break;case 1:{const e=t[0];typeof e=="number"?super([e,e,e]):super(e,0,3);break}default:super(3);break}}get x(){return this[0]}set x(t){this[0]=t}get y(){return this[1]}set y(t){this[1]=t}get z(){return this[2]}set z(t){this[2]=t}get r(){return this[0]}set r(t){this[0]=t}get g(){return this[1]}set g(t){this[1]=t}get b(){return this[2]}set b(t){this[2]=t}get magnitude(){const t=this[0],e=this[1],s=this[2];return Math.sqrt(t*t+e*e+s*s)}get mag(){return this.magnitude}get squaredMagnitude(){const t=this[0],e=this[1],s=this[2];return t*t+e*e+s*s}get sqrMag(){return this.squaredMagnitude}get str(){return G.str(this)}copy(t){return this.set(t),this}add(t){return this[0]+=t[0],this[1]+=t[1],this[2]+=t[2],this}subtract(t){return this[0]-=t[0],this[1]-=t[1],this[2]-=t[2],this}sub(t){return this}multiply(t){return this[0]*=t[0],this[1]*=t[1],this[2]*=t[2],this}mul(t){return this}divide(t){return this[0]/=t[0],this[1]/=t[1],this[2]/=t[2],this}div(t){return this}scale(t){return this[0]*=t,this[1]*=t,this[2]*=t,this}scaleAndAdd(t,e){return this[0]+=t[0]*e,this[1]+=t[1]*e,this[2]+=t[2]*e,this}distance(t){return G.distance(this,t)}dist(t){return 0}squaredDistance(t){return G.squaredDistance(this,t)}sqrDist(t){return 0}negate(){return this[0]*=-1,this[1]*=-1,this[2]*=-1,this}invert(){return this[0]=1/this[0],this[1]=1/this[1],this[2]=1/this[2],this}dot(t){return this[0]*t[0]+this[1]*t[1]+this[2]*t[2]}normalize(){return G.normalize(this,this)}static create(){return new G}static clone(t){return new G(t)}static magnitude(t){let e=t[0],s=t[1],c=t[2];return Math.sqrt(e*e+s*s+c*c)}static mag(t){return 0}static length(t){return 0}static len(t){return 0}static fromValues(t,e,s){return new G(t,e,s)}static copy(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}static set(t,e,s,c){return t[0]=e,t[1]=s,t[2]=c,t}static add(t,e,s){return t[0]=e[0]+s[0],t[1]=e[1]+s[1],t[2]=e[2]+s[2],t}static subtract(t,e,s){return t[0]=e[0]-s[0],t[1]=e[1]-s[1],t[2]=e[2]-s[2],t}static sub(t,e,s){return[0,0,0]}static multiply(t,e,s){return t[0]=e[0]*s[0],t[1]=e[1]*s[1],t[2]=e[2]*s[2],t}static mul(t,e,s){return[0,0,0]}static divide(t,e,s){return t[0]=e[0]/s[0],t[1]=e[1]/s[1],t[2]=e[2]/s[2],t}static div(t,e,s){return[0,0,0]}static ceil(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}static floor(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}static min(t,e,s){return t[0]=Math.min(e[0],s[0]),t[1]=Math.min(e[1],s[1]),t[2]=Math.min(e[2],s[2]),t}static max(t,e,s){return t[0]=Math.max(e[0],s[0]),t[1]=Math.max(e[1],s[1]),t[2]=Math.max(e[2],s[2]),t}static scale(t,e,s){return t[0]=e[0]*s,t[1]=e[1]*s,t[2]=e[2]*s,t}static scaleAndAdd(t,e,s,c){return t[0]=e[0]+s[0]*c,t[1]=e[1]+s[1]*c,t[2]=e[2]+s[2]*c,t}static distance(t,e){const s=e[0]-t[0],c=e[1]-t[1],h=e[2]-t[2];return Math.sqrt(s*s+c*c+h*h)}static dist(t,e){return 0}static squaredDistance(t,e){const s=e[0]-t[0],c=e[1]-t[1],h=e[2]-t[2];return s*s+c*c+h*h}static sqrDist(t,e){return 0}static squaredLength(t){const e=t[0],s=t[1],c=t[2];return e*e+s*s+c*c}static sqrLen(t,e){return 0}static negate(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}static inverse(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}static normalize(t,e){const s=e[0],c=e[1],h=e[2];let f=s*s+c*c+h*h;return f>0&&(f=1/Math.sqrt(f)),t[0]=e[0]*f,t[1]=e[1]*f,t[2]=e[2]*f,t}static dot(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}static cross(t,e,s){const c=e[0],h=e[1],f=e[2],p=s[0],d=s[1],m=s[2];return t[0]=h*m-f*d,t[1]=f*p-c*m,t[2]=c*d-h*p,t}static lerp(t,e,s,c){const h=e[0],f=e[1],p=e[2];return t[0]=h+c*(s[0]-h),t[1]=f+c*(s[1]-f),t[2]=p+c*(s[2]-p),t}static slerp(t,e,s,c){const h=Math.acos(Math.min(Math.max(G.dot(e,s),-1),1)),f=Math.sin(h),p=Math.sin((1-c)*h)/f,d=Math.sin(c*h)/f;return t[0]=p*e[0]+d*s[0],t[1]=p*e[1]+d*s[1],t[2]=p*e[2]+d*s[2],t}static hermite(t,e,s,c,h,f){const p=f*f,d=p*(2*f-3)+1,m=p*(f-2)+f,x=p*(f-1),M=p*(3-2*f);return t[0]=e[0]*d+s[0]*m+c[0]*x+h[0]*M,t[1]=e[1]*d+s[1]*m+c[1]*x+h[1]*M,t[2]=e[2]*d+s[2]*m+c[2]*x+h[2]*M,t}static bezier(t,e,s,c,h,f){const p=1-f,d=p*p,m=f*f,x=d*p,M=3*f*d,E=3*m*p,T=m*f;return t[0]=e[0]*x+s[0]*M+c[0]*E+h[0]*T,t[1]=e[1]*x+s[1]*M+c[1]*E+h[1]*T,t[2]=e[2]*x+s[2]*M+c[2]*E+h[2]*T,t}static transformMat4(t,e,s){const c=e[0],h=e[1],f=e[2],p=s[3]*c+s[7]*h+s[11]*f+s[15]||1;return t[0]=(s[0]*c+s[4]*h+s[8]*f+s[12])/p,t[1]=(s[1]*c+s[5]*h+s[9]*f+s[13])/p,t[2]=(s[2]*c+s[6]*h+s[10]*f+s[14])/p,t}static transformMat3(t,e,s){let c=e[0],h=e[1],f=e[2];return t[0]=c*s[0]+h*s[3]+f*s[6],t[1]=c*s[1]+h*s[4]+f*s[7],t[2]=c*s[2]+h*s[5]+f*s[8],t}static transformQuat(t,e,s){const c=s[0],h=s[1],f=s[2],p=s[3]*2,d=e[0],m=e[1],x=e[2],M=h*x-f*m,E=f*d-c*x,T=c*m-h*d,w=(h*T-f*E)*2,b=(f*M-c*T)*2,S=(c*E-h*M)*2;return t[0]=d+M*p+w,t[1]=m+E*p+b,t[2]=x+T*p+S,t}static rotateX(t,e,s,c){const h=s[1],f=s[2],p=e[1]-h,d=e[2]-f;return t[0]=e[0],t[1]=p*Math.cos(c)-d*Math.sin(c)+h,t[2]=p*Math.sin(c)+d*Math.cos(c)+f,t}static rotateY(t,e,s,c){const h=s[0],f=s[2],p=e[0]-h,d=e[2]-f;return t[0]=d*Math.sin(c)+p*Math.cos(c)+h,t[1]=e[1],t[2]=d*Math.cos(c)-p*Math.sin(c)+f,t}static rotateZ(t,e,s,c){const h=s[0],f=s[1],p=e[0]-h,d=e[1]-f;return t[0]=p*Math.cos(c)-d*Math.sin(c)+h,t[1]=p*Math.sin(c)+d*Math.cos(c)+f,t[2]=s[2],t}static angle(t,e){const s=t[0],c=t[1],h=t[2],f=e[0],p=e[1],d=e[2],m=Math.sqrt((s*s+c*c+h*h)*(f*f+p*p+d*d)),x=m&&G.dot(t,e)/m;return Math.acos(Math.min(Math.max(x,-1),1))}static zero(t){return t[0]=0,t[1]=0,t[2]=0,t}static str(t){return`Vec3(${t.join(", ")})`}static exactEquals(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}static equals(t,e){const s=t[0],c=t[1],h=t[2],f=e[0],p=e[1],d=e[2];return Math.abs(s-f)<=tt*Math.max(1,Math.abs(s),Math.abs(f))&&Math.abs(c-p)<=tt*Math.max(1,Math.abs(c),Math.abs(p))&&Math.abs(h-d)<=tt*Math.max(1,Math.abs(h),Math.abs(d))}}G.prototype.sub=G.prototype.subtract,G.prototype.mul=G.prototype.multiply,G.prototype.div=G.prototype.divide,G.prototype.dist=G.prototype.distance,G.prototype.sqrDist=G.prototype.squaredDistance,G.sub=G.subtract,G.mul=G.multiply,G.div=G.divide,G.dist=G.distance,G.sqrDist=G.squaredDistance,G.sqrLen=G.squaredLength,G.mag=G.magnitude,G.length=G.magnitude,G.len=G.magnitude;const k=G,ms=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);class ut extends Float32Array{static BYTE_LENGTH=16*Float32Array.BYTES_PER_ELEMENT;constructor(...t){switch(t.length){case 16:super(t);break;case 2:super(t[0],t[1],16);break;case 1:const e=t[0];typeof e=="number"?super([e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e]):super(e,0,16);break;default:super(ms);break}}get str(){return ut.str(this)}copy(t){return this.set(t),this}identity(){return this.set(ms),this}multiply(t){return ut.multiply(this,this,t)}mul(t){return this}transpose(){return ut.transpose(this,this)}invert(){return ut.invert(this,this)}translate(t){return ut.translate(this,this,t)}rotate(t,e){return ut.rotate(this,this,t,e)}scale(t){return ut.scale(this,this,t)}rotateX(t){return ut.rotateX(this,this,t)}rotateY(t){return ut.rotateY(this,this,t)}rotateZ(t){return ut.rotateZ(this,this,t)}perspectiveNO(t,e,s,c){return ut.perspectiveNO(this,t,e,s,c)}perspectiveZO(t,e,s,c){return ut.perspectiveZO(this,t,e,s,c)}orthoNO(t,e,s,c,h,f){return ut.orthoNO(this,t,e,s,c,h,f)}orthoZO(t,e,s,c,h,f){return ut.orthoZO(this,t,e,s,c,h,f)}static create(){return new ut}static clone(t){return new ut(t)}static copy(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}static fromValues(...t){return new ut(...t)}static set(t,...e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}static identity(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}static transpose(t,e){if(t===e){const s=e[1],c=e[2],h=e[3],f=e[6],p=e[7],d=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=s,t[6]=e[9],t[7]=e[13],t[8]=c,t[9]=f,t[11]=e[14],t[12]=h,t[13]=p,t[14]=d}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}static invert(t,e){const s=e[0],c=e[1],h=e[2],f=e[3],p=e[4],d=e[5],m=e[6],x=e[7],M=e[8],E=e[9],T=e[10],w=e[11],b=e[12],S=e[13],P=e[14],q=e[15],N=s*d-c*p,F=s*m-h*p,z=s*x-f*p,B=c*m-h*d,D=c*x-f*d,it=h*x-f*m,et=M*S-E*b,lt=M*P-T*b,K=M*q-w*b,vt=E*P-T*S,mt=E*q-w*S,dt=T*q-w*P;let V=N*dt-F*mt+z*vt+B*K-D*lt+it*et;return V?(V=1/V,t[0]=(d*dt-m*mt+x*vt)*V,t[1]=(h*mt-c*dt-f*vt)*V,t[2]=(S*it-P*D+q*B)*V,t[3]=(T*D-E*it-w*B)*V,t[4]=(m*K-p*dt-x*lt)*V,t[5]=(s*dt-h*K+f*lt)*V,t[6]=(P*z-b*it-q*F)*V,t[7]=(M*it-T*z+w*F)*V,t[8]=(p*mt-d*K+x*et)*V,t[9]=(c*K-s*mt-f*et)*V,t[10]=(b*D-S*z+q*N)*V,t[11]=(E*z-M*D-w*N)*V,t[12]=(d*lt-p*vt-m*et)*V,t[13]=(s*vt-c*lt+h*et)*V,t[14]=(S*F-b*B-P*N)*V,t[15]=(M*B-E*F+T*N)*V,t):null}static adjoint(t,e){const s=e[0],c=e[1],h=e[2],f=e[3],p=e[4],d=e[5],m=e[6],x=e[7],M=e[8],E=e[9],T=e[10],w=e[11],b=e[12],S=e[13],P=e[14],q=e[15],N=s*d-c*p,F=s*m-h*p,z=s*x-f*p,B=c*m-h*d,D=c*x-f*d,it=h*x-f*m,et=M*S-E*b,lt=M*P-T*b,K=M*q-w*b,vt=E*P-T*S,mt=E*q-w*S,dt=T*q-w*P;return t[0]=d*dt-m*mt+x*vt,t[1]=h*mt-c*dt-f*vt,t[2]=S*it-P*D+q*B,t[3]=T*D-E*it-w*B,t[4]=m*K-p*dt-x*lt,t[5]=s*dt-h*K+f*lt,t[6]=P*z-b*it-q*F,t[7]=M*it-T*z+w*F,t[8]=p*mt-d*K+x*et,t[9]=c*K-s*mt-f*et,t[10]=b*D-S*z+q*N,t[11]=E*z-M*D-w*N,t[12]=d*lt-p*vt-m*et,t[13]=s*vt-c*lt+h*et,t[14]=S*F-b*B-P*N,t[15]=M*B-E*F+T*N,t}static determinant(t){const e=t[0],s=t[1],c=t[2],h=t[3],f=t[4],p=t[5],d=t[6],m=t[7],x=t[8],M=t[9],E=t[10],T=t[11],w=t[12],b=t[13],S=t[14],P=t[15],q=e*p-s*f,N=e*d-c*f,F=s*d-c*p,z=x*b-M*w,B=x*S-E*w,D=M*S-E*b,it=e*D-s*B+c*z,et=f*D-p*B+d*z,lt=x*F-M*N+E*q,K=w*F-b*N+S*q;return m*it-h*et+P*lt-T*K}static multiply(t,e,s){const c=e[0],h=e[1],f=e[2],p=e[3],d=e[4],m=e[5],x=e[6],M=e[7],E=e[8],T=e[9],w=e[10],b=e[11],S=e[12],P=e[13],q=e[14],N=e[15];let F=s[0],z=s[1],B=s[2],D=s[3];return t[0]=F*c+z*d+B*E+D*S,t[1]=F*h+z*m+B*T+D*P,t[2]=F*f+z*x+B*w+D*q,t[3]=F*p+z*M+B*b+D*N,F=s[4],z=s[5],B=s[6],D=s[7],t[4]=F*c+z*d+B*E+D*S,t[5]=F*h+z*m+B*T+D*P,t[6]=F*f+z*x+B*w+D*q,t[7]=F*p+z*M+B*b+D*N,F=s[8],z=s[9],B=s[10],D=s[11],t[8]=F*c+z*d+B*E+D*S,t[9]=F*h+z*m+B*T+D*P,t[10]=F*f+z*x+B*w+D*q,t[11]=F*p+z*M+B*b+D*N,F=s[12],z=s[13],B=s[14],D=s[15],t[12]=F*c+z*d+B*E+D*S,t[13]=F*h+z*m+B*T+D*P,t[14]=F*f+z*x+B*w+D*q,t[15]=F*p+z*M+B*b+D*N,t}static mul(t,e,s){return t}static translate(t,e,s){const c=s[0],h=s[1],f=s[2];if(e===t)t[12]=e[0]*c+e[4]*h+e[8]*f+e[12],t[13]=e[1]*c+e[5]*h+e[9]*f+e[13],t[14]=e[2]*c+e[6]*h+e[10]*f+e[14],t[15]=e[3]*c+e[7]*h+e[11]*f+e[15];else{const p=e[0],d=e[1],m=e[2],x=e[3],M=e[4],E=e[5],T=e[6],w=e[7],b=e[8],S=e[9],P=e[10],q=e[11];t[0]=p,t[1]=d,t[2]=m,t[3]=x,t[4]=M,t[5]=E,t[6]=T,t[7]=w,t[8]=b,t[9]=S,t[10]=P,t[11]=q,t[12]=p*c+M*h+b*f+e[12],t[13]=d*c+E*h+S*f+e[13],t[14]=m*c+T*h+P*f+e[14],t[15]=x*c+w*h+q*f+e[15]}return t}static scale(t,e,s){const c=s[0],h=s[1],f=s[2];return t[0]=e[0]*c,t[1]=e[1]*c,t[2]=e[2]*c,t[3]=e[3]*c,t[4]=e[4]*h,t[5]=e[5]*h,t[6]=e[6]*h,t[7]=e[7]*h,t[8]=e[8]*f,t[9]=e[9]*f,t[10]=e[10]*f,t[11]=e[11]*f,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}static rotate(t,e,s,c){let h=c[0],f=c[1],p=c[2],d=Math.sqrt(h*h+f*f+p*p);if(d<tt)return null;d=1/d,h*=d,f*=d,p*=d;const m=Math.sin(s),x=Math.cos(s),M=1-x,E=e[0],T=e[1],w=e[2],b=e[3],S=e[4],P=e[5],q=e[6],N=e[7],F=e[8],z=e[9],B=e[10],D=e[11],it=h*h*M+x,et=f*h*M+p*m,lt=p*h*M-f*m,K=h*f*M-p*m,vt=f*f*M+x,mt=p*f*M+h*m,dt=h*p*M+f*m,V=f*p*M-h*m,Jt=p*p*M+x;return t[0]=E*it+S*et+F*lt,t[1]=T*it+P*et+z*lt,t[2]=w*it+q*et+B*lt,t[3]=b*it+N*et+D*lt,t[4]=E*K+S*vt+F*mt,t[5]=T*K+P*vt+z*mt,t[6]=w*K+q*vt+B*mt,t[7]=b*K+N*vt+D*mt,t[8]=E*dt+S*V+F*Jt,t[9]=T*dt+P*V+z*Jt,t[10]=w*dt+q*V+B*Jt,t[11]=b*dt+N*V+D*Jt,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t}static rotateX(t,e,s){let c=Math.sin(s),h=Math.cos(s),f=e[4],p=e[5],d=e[6],m=e[7],x=e[8],M=e[9],E=e[10],T=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=f*h+x*c,t[5]=p*h+M*c,t[6]=d*h+E*c,t[7]=m*h+T*c,t[8]=x*h-f*c,t[9]=M*h-p*c,t[10]=E*h-d*c,t[11]=T*h-m*c,t}static rotateY(t,e,s){let c=Math.sin(s),h=Math.cos(s),f=e[0],p=e[1],d=e[2],m=e[3],x=e[8],M=e[9],E=e[10],T=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=f*h-x*c,t[1]=p*h-M*c,t[2]=d*h-E*c,t[3]=m*h-T*c,t[8]=f*c+x*h,t[9]=p*c+M*h,t[10]=d*c+E*h,t[11]=m*c+T*h,t}static rotateZ(t,e,s){let c=Math.sin(s),h=Math.cos(s),f=e[0],p=e[1],d=e[2],m=e[3],x=e[4],M=e[5],E=e[6],T=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=f*h+x*c,t[1]=p*h+M*c,t[2]=d*h+E*c,t[3]=m*h+T*c,t[4]=x*h-f*c,t[5]=M*h-p*c,t[6]=E*h-d*c,t[7]=T*h-m*c,t}static fromTranslation(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}static fromScaling(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}static fromRotation(t,e,s){let c=s[0],h=s[1],f=s[2],p=Math.sqrt(c*c+h*h+f*f);if(p<tt)return null;p=1/p,c*=p,h*=p,f*=p;const d=Math.sin(e),m=Math.cos(e),x=1-m;return t[0]=c*c*x+m,t[1]=h*c*x+f*d,t[2]=f*c*x-h*d,t[3]=0,t[4]=c*h*x-f*d,t[5]=h*h*x+m,t[6]=f*h*x+c*d,t[7]=0,t[8]=c*f*x+h*d,t[9]=h*f*x-c*d,t[10]=f*f*x+m,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}static fromXRotation(t,e){let s=Math.sin(e),c=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=s,t[7]=0,t[8]=0,t[9]=-s,t[10]=c,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}static fromYRotation(t,e){let s=Math.sin(e),c=Math.cos(e);return t[0]=c,t[1]=0,t[2]=-s,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=s,t[9]=0,t[10]=c,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}static fromZRotation(t,e){const s=Math.sin(e),c=Math.cos(e);return t[0]=c,t[1]=s,t[2]=0,t[3]=0,t[4]=-s,t[5]=c,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}static fromRotationTranslation(t,e,s){const c=e[0],h=e[1],f=e[2],p=e[3],d=c+c,m=h+h,x=f+f,M=c*d,E=c*m,T=c*x,w=h*m,b=h*x,S=f*x,P=p*d,q=p*m,N=p*x;return t[0]=1-(w+S),t[1]=E+N,t[2]=T-q,t[3]=0,t[4]=E-N,t[5]=1-(M+S),t[6]=b+P,t[7]=0,t[8]=T+q,t[9]=b-P,t[10]=1-(M+w),t[11]=0,t[12]=s[0],t[13]=s[1],t[14]=s[2],t[15]=1,t}static fromQuat2(t,e){let s=new G;const c=-e[0],h=-e[1],f=-e[2],p=e[3],d=e[4],m=e[5],x=e[6],M=e[7];let E=c*c+h*h+f*f+p*p;return E>0?(s[0]=(d*p+M*c+m*f-x*h)*2/E,s[1]=(m*p+M*h+x*c-d*f)*2/E,s[2]=(x*p+M*f+d*h-m*c)*2/E):(s[0]=(d*p+M*c+m*f-x*h)*2,s[1]=(m*p+M*h+x*c-d*f)*2,s[2]=(x*p+M*f+d*h-m*c)*2),ut.fromRotationTranslation(t,e,s),t}static getTranslation(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}static getScaling(t,e){const s=e[0],c=e[1],h=e[2],f=e[4],p=e[5],d=e[6],m=e[8],x=e[9],M=e[10];return t[0]=Math.sqrt(s*s+c*c+h*h),t[1]=Math.sqrt(f*f+p*p+d*d),t[2]=Math.sqrt(m*m+x*x+M*M),t}static getRotation(t,e){ut.getScaling(Ze,e);const s=1/Ze[0],c=1/Ze[1],h=1/Ze[2],f=e[0]*s,p=e[1]*c,d=e[2]*h,m=e[4]*s,x=e[5]*c,M=e[6]*h,E=e[8]*s,T=e[9]*c,w=e[10]*h,b=f+x+w;let S=0;return b>0?(S=Math.sqrt(b+1)*2,t[3]=.25*S,t[0]=(M-T)/S,t[1]=(E-d)/S,t[2]=(p-m)/S):f>x&&f>w?(S=Math.sqrt(1+f-x-w)*2,t[3]=(M-T)/S,t[0]=.25*S,t[1]=(p+m)/S,t[2]=(E+d)/S):x>w?(S=Math.sqrt(1+x-f-w)*2,t[3]=(E-d)/S,t[0]=(p+m)/S,t[1]=.25*S,t[2]=(M+T)/S):(S=Math.sqrt(1+w-f-x)*2,t[3]=(p-m)/S,t[0]=(E+d)/S,t[1]=(M+T)/S,t[2]=.25*S),t}static decompose(t,e,s,c){e[0]=c[12],e[1]=c[13],e[2]=c[14];const h=c[0],f=c[1],p=c[2],d=c[4],m=c[5],x=c[6],M=c[8],E=c[9],T=c[10];s[0]=Math.sqrt(h*h+f*f+p*p),s[1]=Math.sqrt(d*d+m*m+x*x),s[2]=Math.sqrt(M*M+E*E+T*T);const w=1/s[0],b=1/s[1],S=1/s[2],P=h*w,q=f*b,N=p*S,F=d*w,z=m*b,B=x*S,D=M*w,it=E*b,et=T*S,lt=P+z+et;let K=0;return lt>0?(K=Math.sqrt(lt+1)*2,t[3]=.25*K,t[0]=(B-it)/K,t[1]=(D-N)/K,t[2]=(q-F)/K):P>z&&P>et?(K=Math.sqrt(1+P-z-et)*2,t[3]=(B-it)/K,t[0]=.25*K,t[1]=(q+F)/K,t[2]=(D+N)/K):z>et?(K=Math.sqrt(1+z-P-et)*2,t[3]=(D-N)/K,t[0]=(q+F)/K,t[1]=.25*K,t[2]=(B+it)/K):(K=Math.sqrt(1+et-P-z)*2,t[3]=(q-F)/K,t[0]=(D+N)/K,t[1]=(B+it)/K,t[2]=.25*K),t}static fromRotationTranslationScale(t,e,s,c){const h=e[0],f=e[1],p=e[2],d=e[3],m=h+h,x=f+f,M=p+p,E=h*m,T=h*x,w=h*M,b=f*x,S=f*M,P=p*M,q=d*m,N=d*x,F=d*M,z=c[0],B=c[1],D=c[2];return t[0]=(1-(b+P))*z,t[1]=(T+F)*z,t[2]=(w-N)*z,t[3]=0,t[4]=(T-F)*B,t[5]=(1-(E+P))*B,t[6]=(S+q)*B,t[7]=0,t[8]=(w+N)*D,t[9]=(S-q)*D,t[10]=(1-(E+b))*D,t[11]=0,t[12]=s[0],t[13]=s[1],t[14]=s[2],t[15]=1,t}static fromRotationTranslationScaleOrigin(t,e,s,c,h){const f=e[0],p=e[1],d=e[2],m=e[3],x=f+f,M=p+p,E=d+d,T=f*x,w=f*M,b=f*E,S=p*M,P=p*E,q=d*E,N=m*x,F=m*M,z=m*E,B=c[0],D=c[1],it=c[2],et=h[0],lt=h[1],K=h[2],vt=(1-(S+q))*B,mt=(w+z)*B,dt=(b-F)*B,V=(w-z)*D,Jt=(1-(T+q))*D,Yt=(P+N)*D,Ft=(b+F)*it,Xe=(P-N)*it,Hn=(1-(T+S))*it;return t[0]=vt,t[1]=mt,t[2]=dt,t[3]=0,t[4]=V,t[5]=Jt,t[6]=Yt,t[7]=0,t[8]=Ft,t[9]=Xe,t[10]=Hn,t[11]=0,t[12]=s[0]+et-(vt*et+V*lt+Ft*K),t[13]=s[1]+lt-(mt*et+Jt*lt+Xe*K),t[14]=s[2]+K-(dt*et+Yt*lt+Hn*K),t[15]=1,t}static fromQuat(t,e){const s=e[0],c=e[1],h=e[2],f=e[3],p=s+s,d=c+c,m=h+h,x=s*p,M=c*p,E=c*d,T=h*p,w=h*d,b=h*m,S=f*p,P=f*d,q=f*m;return t[0]=1-E-b,t[1]=M+q,t[2]=T-P,t[3]=0,t[4]=M-q,t[5]=1-x-b,t[6]=w+S,t[7]=0,t[8]=T+P,t[9]=w-S,t[10]=1-x-E,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}static frustum(t,e,s,c,h,f,p){const d=1/(s-e),m=1/(h-c),x=1/(f-p);return t[0]=f*2*d,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=f*2*m,t[6]=0,t[7]=0,t[8]=(s+e)*d,t[9]=(h+c)*m,t[10]=(p+f)*x,t[11]=-1,t[12]=0,t[13]=0,t[14]=p*f*2*x,t[15]=0,t}static perspectiveNO(t,e,s,c,h){const f=1/Math.tan(e/2);if(t[0]=f/s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=f,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,h!=null&&h!==1/0){const p=1/(c-h);t[10]=(h+c)*p,t[14]=2*h*c*p}else t[10]=-1,t[14]=-2*c;return t}static perspective(t,e,s,c,h){return t}static perspectiveZO(t,e,s,c,h){const f=1/Math.tan(e/2);if(t[0]=f/s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=f,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,h!=null&&h!==1/0){const p=1/(c-h);t[10]=h*p,t[14]=h*c*p}else t[10]=-1,t[14]=-c;return t}static perspectiveFromFieldOfView(t,e,s,c){const h=Math.tan(e.upDegrees*Math.PI/180),f=Math.tan(e.downDegrees*Math.PI/180),p=Math.tan(e.leftDegrees*Math.PI/180),d=Math.tan(e.rightDegrees*Math.PI/180),m=2/(p+d),x=2/(h+f);return t[0]=m,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=x,t[6]=0,t[7]=0,t[8]=-((p-d)*m*.5),t[9]=(h-f)*x*.5,t[10]=c/(s-c),t[11]=-1,t[12]=0,t[13]=0,t[14]=c*s/(s-c),t[15]=0,t}static orthoNO(t,e,s,c,h,f,p){const d=1/(e-s),m=1/(c-h),x=1/(f-p);return t[0]=-2*d,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*m,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*x,t[11]=0,t[12]=(e+s)*d,t[13]=(h+c)*m,t[14]=(p+f)*x,t[15]=1,t}static ortho(t,e,s,c,h,f,p){return t}static orthoZO(t,e,s,c,h,f,p){const d=1/(e-s),m=1/(c-h),x=1/(f-p);return t[0]=-2*d,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*m,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=x,t[11]=0,t[12]=(e+s)*d,t[13]=(h+c)*m,t[14]=f*x,t[15]=1,t}static lookAt(t,e,s,c){const h=e[0],f=e[1],p=e[2],d=c[0],m=c[1],x=c[2],M=s[0],E=s[1],T=s[2];if(Math.abs(h-M)<tt&&Math.abs(f-E)<tt&&Math.abs(p-T)<tt)return ut.identity(t);let w=h-M,b=f-E,S=p-T,P=1/Math.sqrt(w*w+b*b+S*S);w*=P,b*=P,S*=P;let q=m*S-x*b,N=x*w-d*S,F=d*b-m*w;P=Math.sqrt(q*q+N*N+F*F),P?(P=1/P,q*=P,N*=P,F*=P):(q=0,N=0,F=0);let z=b*F-S*N,B=S*q-w*F,D=w*N-b*q;return P=Math.sqrt(z*z+B*B+D*D),P?(P=1/P,z*=P,B*=P,D*=P):(z=0,B=0,D=0),t[0]=q,t[1]=z,t[2]=w,t[3]=0,t[4]=N,t[5]=B,t[6]=b,t[7]=0,t[8]=F,t[9]=D,t[10]=S,t[11]=0,t[12]=-(q*h+N*f+F*p),t[13]=-(z*h+B*f+D*p),t[14]=-(w*h+b*f+S*p),t[15]=1,t}static targetTo(t,e,s,c){const h=e[0],f=e[1],p=e[2],d=c[0],m=c[1],x=c[2];let M=h-s[0],E=f-s[1],T=p-s[2],w=M*M+E*E+T*T;w>0&&(w=1/Math.sqrt(w),M*=w,E*=w,T*=w);let b=m*T-x*E,S=x*M-d*T,P=d*E-m*M;return w=b*b+S*S+P*P,w>0&&(w=1/Math.sqrt(w),b*=w,S*=w,P*=w),t[0]=b,t[1]=S,t[2]=P,t[3]=0,t[4]=E*P-T*S,t[5]=T*b-M*P,t[6]=M*S-E*b,t[7]=0,t[8]=M,t[9]=E,t[10]=T,t[11]=0,t[12]=h,t[13]=f,t[14]=p,t[15]=1,t}static frob(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]+t[3]*t[3]+t[4]*t[4]+t[5]*t[5]+t[6]*t[6]+t[7]*t[7]+t[8]*t[8]+t[9]*t[9]+t[10]*t[10]+t[11]*t[11]+t[12]*t[12]+t[13]*t[13]+t[14]*t[14]+t[15]*t[15])}static add(t,e,s){return t[0]=e[0]+s[0],t[1]=e[1]+s[1],t[2]=e[2]+s[2],t[3]=e[3]+s[3],t[4]=e[4]+s[4],t[5]=e[5]+s[5],t[6]=e[6]+s[6],t[7]=e[7]+s[7],t[8]=e[8]+s[8],t[9]=e[9]+s[9],t[10]=e[10]+s[10],t[11]=e[11]+s[11],t[12]=e[12]+s[12],t[13]=e[13]+s[13],t[14]=e[14]+s[14],t[15]=e[15]+s[15],t}static subtract(t,e,s){return t[0]=e[0]-s[0],t[1]=e[1]-s[1],t[2]=e[2]-s[2],t[3]=e[3]-s[3],t[4]=e[4]-s[4],t[5]=e[5]-s[5],t[6]=e[6]-s[6],t[7]=e[7]-s[7],t[8]=e[8]-s[8],t[9]=e[9]-s[9],t[10]=e[10]-s[10],t[11]=e[11]-s[11],t[12]=e[12]-s[12],t[13]=e[13]-s[13],t[14]=e[14]-s[14],t[15]=e[15]-s[15],t}static sub(t,e,s){return t}static multiplyScalar(t,e,s){return t[0]=e[0]*s,t[1]=e[1]*s,t[2]=e[2]*s,t[3]=e[3]*s,t[4]=e[4]*s,t[5]=e[5]*s,t[6]=e[6]*s,t[7]=e[7]*s,t[8]=e[8]*s,t[9]=e[9]*s,t[10]=e[10]*s,t[11]=e[11]*s,t[12]=e[12]*s,t[13]=e[13]*s,t[14]=e[14]*s,t[15]=e[15]*s,t}static multiplyScalarAndAdd(t,e,s,c){return t[0]=e[0]+s[0]*c,t[1]=e[1]+s[1]*c,t[2]=e[2]+s[2]*c,t[3]=e[3]+s[3]*c,t[4]=e[4]+s[4]*c,t[5]=e[5]+s[5]*c,t[6]=e[6]+s[6]*c,t[7]=e[7]+s[7]*c,t[8]=e[8]+s[8]*c,t[9]=e[9]+s[9]*c,t[10]=e[10]+s[10]*c,t[11]=e[11]+s[11]*c,t[12]=e[12]+s[12]*c,t[13]=e[13]+s[13]*c,t[14]=e[14]+s[14]*c,t[15]=e[15]+s[15]*c,t}static exactEquals(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}static equals(t,e){const s=t[0],c=t[1],h=t[2],f=t[3],p=t[4],d=t[5],m=t[6],x=t[7],M=t[8],E=t[9],T=t[10],w=t[11],b=t[12],S=t[13],P=t[14],q=t[15],N=e[0],F=e[1],z=e[2],B=e[3],D=e[4],it=e[5],et=e[6],lt=e[7],K=e[8],vt=e[9],mt=e[10],dt=e[11],V=e[12],Jt=e[13],Yt=e[14],Ft=e[15];return Math.abs(s-N)<=tt*Math.max(1,Math.abs(s),Math.abs(N))&&Math.abs(c-F)<=tt*Math.max(1,Math.abs(c),Math.abs(F))&&Math.abs(h-z)<=tt*Math.max(1,Math.abs(h),Math.abs(z))&&Math.abs(f-B)<=tt*Math.max(1,Math.abs(f),Math.abs(B))&&Math.abs(p-D)<=tt*Math.max(1,Math.abs(p),Math.abs(D))&&Math.abs(d-it)<=tt*Math.max(1,Math.abs(d),Math.abs(it))&&Math.abs(m-et)<=tt*Math.max(1,Math.abs(m),Math.abs(et))&&Math.abs(x-lt)<=tt*Math.max(1,Math.abs(x),Math.abs(lt))&&Math.abs(M-K)<=tt*Math.max(1,Math.abs(M),Math.abs(K))&&Math.abs(E-vt)<=tt*Math.max(1,Math.abs(E),Math.abs(vt))&&Math.abs(T-mt)<=tt*Math.max(1,Math.abs(T),Math.abs(mt))&&Math.abs(w-dt)<=tt*Math.max(1,Math.abs(w),Math.abs(dt))&&Math.abs(b-V)<=tt*Math.max(1,Math.abs(b),Math.abs(V))&&Math.abs(S-Jt)<=tt*Math.max(1,Math.abs(S),Math.abs(Jt))&&Math.abs(P-Yt)<=tt*Math.max(1,Math.abs(P),Math.abs(Yt))&&Math.abs(q-Ft)<=tt*Math.max(1,Math.abs(q),Math.abs(Ft))}static str(t){return`Mat4(${t.join(", ")})`}}const Ze=new G;ut.prototype.mul=ut.prototype.multiply,ut.sub=ut.subtract,ut.mul=ut.multiply,ut.perspective=ut.perspectiveNO,ut.ortho=ut.orthoNO;const ct=ut;class $ extends Float32Array{static BYTE_LENGTH=4*Float32Array.BYTES_PER_ELEMENT;constructor(...t){switch(t.length){case 4:super(t);break;case 2:super(t[0],t[1],4);break;case 1:{const e=t[0];typeof e=="number"?super([e,e,e,e]):super(e,0,4);break}default:super(4);break}}get x(){return this[0]}set x(t){this[0]=t}get y(){return this[1]}set y(t){this[1]=t}get z(){return this[2]}set z(t){this[2]=t}get w(){return this[3]}set w(t){this[3]=t}get r(){return this[0]}set r(t){this[0]=t}get g(){return this[1]}set g(t){this[1]=t}get b(){return this[2]}set b(t){this[2]=t}get a(){return this[3]}set a(t){this[3]=t}get magnitude(){const t=this[0],e=this[1],s=this[2],c=this[3];return Math.sqrt(t*t+e*e+s*s+c*c)}get mag(){return this.magnitude}get str(){return $.str(this)}copy(t){return super.set(t),this}add(t){return this[0]+=t[0],this[1]+=t[1],this[2]+=t[2],this[3]+=t[3],this}subtract(t){return this[0]-=t[0],this[1]-=t[1],this[2]-=t[2],this[3]-=t[3],this}sub(t){return this}multiply(t){return this[0]*=t[0],this[1]*=t[1],this[2]*=t[2],this[3]*=t[3],this}mul(t){return this}divide(t){return this[0]/=t[0],this[1]/=t[1],this[2]/=t[2],this[3]/=t[3],this}div(t){return this}scale(t){return this[0]*=t,this[1]*=t,this[2]*=t,this[3]*=t,this}scaleAndAdd(t,e){return this[0]+=t[0]*e,this[1]+=t[1]*e,this[2]+=t[2]*e,this[3]+=t[3]*e,this}distance(t){return $.distance(this,t)}dist(t){return 0}squaredDistance(t){return $.squaredDistance(this,t)}sqrDist(t){return 0}negate(){return this[0]*=-1,this[1]*=-1,this[2]*=-1,this[3]*=-1,this}invert(){return this[0]=1/this[0],this[1]=1/this[1],this[2]=1/this[2],this[3]=1/this[3],this}dot(t){return this[0]*t[0]+this[1]*t[1]+this[2]*t[2]+this[3]*t[3]}normalize(){return $.normalize(this,this)}static create(){return new $}static clone(t){return new $(t)}static fromValues(t,e,s,c){return new $(t,e,s,c)}static copy(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}static set(t,e,s,c,h){return t[0]=e,t[1]=s,t[2]=c,t[3]=h,t}static add(t,e,s){return t[0]=e[0]+s[0],t[1]=e[1]+s[1],t[2]=e[2]+s[2],t[3]=e[3]+s[3],t}static subtract(t,e,s){return t[0]=e[0]-s[0],t[1]=e[1]-s[1],t[2]=e[2]-s[2],t[3]=e[3]-s[3],t}static sub(t,e,s){return t}static multiply(t,e,s){return t[0]=e[0]*s[0],t[1]=e[1]*s[1],t[2]=e[2]*s[2],t[3]=e[3]*s[3],t}static mul(t,e,s){return t}static divide(t,e,s){return t[0]=e[0]/s[0],t[1]=e[1]/s[1],t[2]=e[2]/s[2],t[3]=e[3]/s[3],t}static div(t,e,s){return t}static ceil(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t}static floor(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t}static min(t,e,s){return t[0]=Math.min(e[0],s[0]),t[1]=Math.min(e[1],s[1]),t[2]=Math.min(e[2],s[2]),t[3]=Math.min(e[3],s[3]),t}static max(t,e,s){return t[0]=Math.max(e[0],s[0]),t[1]=Math.max(e[1],s[1]),t[2]=Math.max(e[2],s[2]),t[3]=Math.max(e[3],s[3]),t}static round(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t}static scale(t,e,s){return t[0]=e[0]*s,t[1]=e[1]*s,t[2]=e[2]*s,t[3]=e[3]*s,t}static scaleAndAdd(t,e,s,c){return t[0]=e[0]+s[0]*c,t[1]=e[1]+s[1]*c,t[2]=e[2]+s[2]*c,t[3]=e[3]+s[3]*c,t}static distance(t,e){const s=e[0]-t[0],c=e[1]-t[1],h=e[2]-t[2],f=e[3]-t[3];return Math.hypot(s,c,h,f)}static dist(t,e){return 0}static squaredDistance(t,e){const s=e[0]-t[0],c=e[1]-t[1],h=e[2]-t[2],f=e[3]-t[3];return s*s+c*c+h*h+f*f}static sqrDist(t,e){return 0}static magnitude(t){const e=t[0],s=t[1],c=t[2],h=t[3];return Math.sqrt(e*e+s*s+c*c+h*h)}static mag(t){return 0}static length(t){return 0}static len(t){return 0}static squaredLength(t){const e=t[0],s=t[1],c=t[2],h=t[3];return e*e+s*s+c*c+h*h}static sqrLen(t){return 0}static negate(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t}static inverse(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t}static normalize(t,e){const s=e[0],c=e[1],h=e[2],f=e[3];let p=s*s+c*c+h*h+f*f;return p>0&&(p=1/Math.sqrt(p)),t[0]=s*p,t[1]=c*p,t[2]=h*p,t[3]=f*p,t}static dot(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}static cross(t,e,s,c){const h=s[0]*c[1]-s[1]*c[0],f=s[0]*c[2]-s[2]*c[0],p=s[0]*c[3]-s[3]*c[0],d=s[1]*c[2]-s[2]*c[1],m=s[1]*c[3]-s[3]*c[1],x=s[2]*c[3]-s[3]*c[2],M=e[0],E=e[1],T=e[2],w=e[3];return t[0]=E*x-T*m+w*d,t[1]=-(M*x)+T*p-w*f,t[2]=M*m-E*p+w*h,t[3]=-(M*d)+E*f-T*h,t}static lerp(t,e,s,c){const h=e[0],f=e[1],p=e[2],d=e[3];return t[0]=h+c*(s[0]-h),t[1]=f+c*(s[1]-f),t[2]=p+c*(s[2]-p),t[3]=d+c*(s[3]-d),t}static transformMat4(t,e,s){const c=e[0],h=e[1],f=e[2],p=e[3];return t[0]=s[0]*c+s[4]*h+s[8]*f+s[12]*p,t[1]=s[1]*c+s[5]*h+s[9]*f+s[13]*p,t[2]=s[2]*c+s[6]*h+s[10]*f+s[14]*p,t[3]=s[3]*c+s[7]*h+s[11]*f+s[15]*p,t}static transformQuat(t,e,s){const c=e[0],h=e[1],f=e[2],p=s[0],d=s[1],m=s[2],x=s[3],M=x*c+d*f-m*h,E=x*h+m*c-p*f,T=x*f+p*h-d*c,w=-p*c-d*h-m*f;return t[0]=M*x+w*-p+E*-m-T*-d,t[1]=E*x+w*-d+T*-p-M*-m,t[2]=T*x+w*-m+M*-d-E*-p,t[3]=e[3],t}static zero(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}static str(t){return`Vec4(${t.join(", ")})`}static exactEquals(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}static equals(t,e){const s=t[0],c=t[1],h=t[2],f=t[3],p=e[0],d=e[1],m=e[2],x=e[3];return Math.abs(s-p)<=tt*Math.max(1,Math.abs(s),Math.abs(p))&&Math.abs(c-d)<=tt*Math.max(1,Math.abs(c),Math.abs(d))&&Math.abs(h-m)<=tt*Math.max(1,Math.abs(h),Math.abs(m))&&Math.abs(f-x)<=tt*Math.max(1,Math.abs(f),Math.abs(x))}}$.prototype.sub=$.prototype.subtract,$.prototype.mul=$.prototype.multiply,$.prototype.div=$.prototype.divide,$.prototype.dist=$.prototype.distance,$.prototype.sqrDist=$.prototype.squaredDistance,$.sub=$.subtract,$.mul=$.multiply,$.div=$.divide,$.dist=$.distance,$.sqrDist=$.squaredDistance,$.sqrLen=$.squaredLength,$.mag=$.magnitude,$.length=$.magnitude,$.len=$.magnitude;const ye=$;class Q extends Float32Array{static BYTE_LENGTH=4*Float32Array.BYTES_PER_ELEMENT;constructor(...t){switch(t.length){case 4:super(t);break;case 2:super(t[0],t[1],4);break;case 1:{const e=t[0];typeof e=="number"?super([e,e,e,e]):super(e,0,4);break}default:super(4),this[3]=1;break}}get x(){return this[0]}set x(t){this[0]=t}get y(){return this[1]}set y(t){this[1]=t}get z(){return this[2]}set z(t){this[2]=t}get w(){return this[3]}set w(t){this[3]=t}get magnitude(){const t=this[0],e=this[1],s=this[2],c=this[3];return Math.sqrt(t*t+e*e+s*s+c*c)}get mag(){return this.magnitude}get str(){return Q.str(this)}copy(t){return super.set(t),this}identity(){return this[0]=0,this[1]=0,this[2]=0,this[3]=1,this}multiply(t){return Q.multiply(this,this,t)}mul(t){return this}rotateX(t){return Q.rotateX(this,this,t)}rotateY(t){return Q.rotateY(this,this,t)}rotateZ(t){return Q.rotateZ(this,this,t)}invert(){return Q.invert(this,this)}scale(t){return this[0]*=t,this[1]*=t,this[2]*=t,this[3]*=t,this}dot(t){return Q.dot(this,t)}static create(){return new Q}static identity(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}static setAxisAngle(t,e,s){s=s*.5;const c=Math.sin(s);return t[0]=c*e[0],t[1]=c*e[1],t[2]=c*e[2],t[3]=Math.cos(s),t}static getAxisAngle(t,e){const s=Math.acos(e[3])*2,c=Math.sin(s/2);return c>tt?(t[0]=e[0]/c,t[1]=e[1]/c,t[2]=e[2]/c):(t[0]=1,t[1]=0,t[2]=0),s}static getAngle(t,e){const s=Q.dot(t,e);return Math.acos(2*s*s-1)}static multiply(t,e,s){const c=e[0],h=e[1],f=e[2],p=e[3],d=s[0],m=s[1],x=s[2],M=s[3];return t[0]=c*M+p*d+h*x-f*m,t[1]=h*M+p*m+f*d-c*x,t[2]=f*M+p*x+c*m-h*d,t[3]=p*M-c*d-h*m-f*x,t}static rotateX(t,e,s){s*=.5;const c=e[0],h=e[1],f=e[2],p=e[3],d=Math.sin(s),m=Math.cos(s);return t[0]=c*m+p*d,t[1]=h*m+f*d,t[2]=f*m-h*d,t[3]=p*m-c*d,t}static rotateY(t,e,s){s*=.5;const c=e[0],h=e[1],f=e[2],p=e[3],d=Math.sin(s),m=Math.cos(s);return t[0]=c*m-f*d,t[1]=h*m+p*d,t[2]=f*m+c*d,t[3]=p*m-h*d,t}static rotateZ(t,e,s){s*=.5;const c=e[0],h=e[1],f=e[2],p=e[3],d=Math.sin(s),m=Math.cos(s);return t[0]=c*m+h*d,t[1]=h*m-c*d,t[2]=f*m+p*d,t[3]=p*m-f*d,t}static calculateW(t,e){const s=e[0],c=e[1],h=e[2];return t[0]=s,t[1]=c,t[2]=h,t[3]=Math.sqrt(Math.abs(1-s*s-c*c-h*h)),t}static exp(t,e){const s=e[0],c=e[1],h=e[2],f=e[3],p=Math.sqrt(s*s+c*c+h*h),d=Math.exp(f),m=p>0?d*Math.sin(p)/p:0;return t[0]=s*m,t[1]=c*m,t[2]=h*m,t[3]=d*Math.cos(p),t}static ln(t,e){const s=e[0],c=e[1],h=e[2],f=e[3],p=Math.sqrt(s*s+c*c+h*h),d=p>0?Math.atan2(p,f)/p:0;return t[0]=s*d,t[1]=c*d,t[2]=h*d,t[3]=.5*Math.log(s*s+c*c+h*h+f*f),t}static pow(t,e,s){return Q.ln(t,e),Q.scale(t,t,s),Q.exp(t,t),t}static slerp(t,e,s,c){const h=e[0],f=e[1],p=e[2],d=e[3];let m=s[0],x=s[1],M=s[2],E=s[3],T,w,b=h*m+f*x+p*M+d*E;if(b<0&&(b=-b,m=-m,x=-x,M=-M,E=-E),1-b>tt){const S=Math.acos(b),P=Math.sin(S);T=Math.sin((1-c)*S)/P,w=Math.sin(c*S)/P}else T=1-c,w=c;return t[0]=T*h+w*m,t[1]=T*f+w*x,t[2]=T*p+w*M,t[3]=T*d+w*E,t}static invert(t,e){const s=e[0],c=e[1],h=e[2],f=e[3],p=s*s+c*c+h*h+f*f,d=p?1/p:0;return t[0]=-s*d,t[1]=-c*d,t[2]=-h*d,t[3]=f*d,t}static conjugate(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}static fromMat3(t,e){const s=e[0]+e[4]+e[8];let c;if(s>0)c=Math.sqrt(s+1),t[3]=.5*c,c=.5/c,t[0]=(e[5]-e[7])*c,t[1]=(e[6]-e[2])*c,t[2]=(e[1]-e[3])*c;else{let h=0;e[4]>e[0]&&(h=1),e[8]>e[h*3+h]&&(h=2);let f=(h+1)%3,p=(h+2)%3;c=Math.sqrt(e[h*3+h]-e[f*3+f]-e[p*3+p]+1),t[h]=.5*c,c=.5/c,t[3]=(e[f*3+p]-e[p*3+f])*c,t[f]=(e[f*3+h]+e[h*3+f])*c,t[p]=(e[p*3+h]+e[h*3+p])*c}return t}static fromEuler(t,e,s,c){let h=.5*Math.PI/180;e*=h,s*=h,c*=h;let f=Math.sin(e),p=Math.cos(e),d=Math.sin(s),m=Math.cos(s),x=Math.sin(c),M=Math.cos(c);return t[0]=f*m*M-p*d*x,t[1]=p*d*M+f*m*x,t[2]=p*m*x-f*d*M,t[3]=p*m*M+f*d*x,t}static str(t){return`Quat(${t.join(", ")})`}static clone(t){return new Q(t)}static fromValues(t,e,s,c){return new Q(t,e,s,c)}static copy(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}static set(t,e,s,c,h){return t}static add(t,e,s){return t}static mul(t,e,s){return t}static scale(t,e,s){return t[0]=e[0]*s,t[1]=e[1]*s,t[2]=e[2]*s,t[3]=e[3]*s,t}static dot(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}static lerp(t,e,s,c){return t}static magnitude(t){return 0}static mag(t){return 0}static length(t){return 0}static len(t){return 0}static squaredLength(t){return 0}static sqrLen(t){return 0}static normalize(t,e){return t}static exactEquals(t,e){return!1}static equals(t,e){return!1}static rotationTo(t,e,s){let c=G.dot(e,s);return c<-.999999?(G.cross(gn,lh,e),G.len(gn)<1e-6&&G.cross(gn,uh,e),G.normalize(gn,gn),Q.setAxisAngle(t,gn,Math.PI),t):c>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(G.cross(gn,e,s),t[0]=gn[0],t[1]=gn[1],t[2]=gn[2],t[3]=1+c,Q.normalize(t,t))}static sqlerp(t,e,s,c,h,f){return Q.slerp(xs,e,h,f),Q.slerp(vs,s,c,f),Q.slerp(t,xs,vs,2*f*(1-f)),t}static setAxes(t,e,s,c){return dn[0]=s[0],dn[3]=s[1],dn[6]=s[2],dn[1]=c[0],dn[4]=c[1],dn[7]=c[2],dn[2]=-e[0],dn[5]=-e[1],dn[8]=-e[2],Q.normalize(t,Q.fromMat3(t,dn))}}const xs=new Q,vs=new Q,dn=new bt,gn=new G,lh=new G(1,0,0),uh=new G(0,1,0);Q.set=$.set,Q.add=$.add,Q.lerp=$.lerp,Q.normalize=$.normalize,Q.squaredLength=$.squaredLength,Q.sqrLen=$.squaredLength,Q.exactEquals=$.exactEquals,Q.equals=$.equals,Q.magnitude=$.magnitude,Q.prototype.mul=Q.prototype.multiply,Q.mul=Q.multiply,Q.mag=Q.magnitude,Q.length=Q.magnitude,Q.len=Q.magnitude;const In=Q;class at extends Float32Array{static BYTE_LENGTH=2*Float32Array.BYTES_PER_ELEMENT;constructor(...t){switch(t.length){case 2:{const e=t[0];typeof e=="number"?super([e,t[1]]):super(e,t[1],2);break}case 1:{const e=t[0];typeof e=="number"?super([e,e]):super(e,0,2);break}default:super(2);break}}get x(){return this[0]}set x(t){this[0]=t}get y(){return this[1]}set y(t){this[1]=t}get r(){return this[0]}set r(t){this[0]=t}get g(){return this[1]}set g(t){this[1]=t}get magnitude(){return Math.hypot(this[0],this[1])}get mag(){return this.magnitude}get squaredMagnitude(){const t=this[0],e=this[1];return t*t+e*e}get sqrMag(){return this.squaredMagnitude}get str(){return at.str(this)}copy(t){return this.set(t),this}add(t){return this[0]+=t[0],this[1]+=t[1],this}subtract(t){return this[0]-=t[0],this[1]-=t[1],this}sub(t){return this}multiply(t){return this[0]*=t[0],this[1]*=t[1],this}mul(t){return this}divide(t){return this[0]/=t[0],this[1]/=t[1],this}div(t){return this}scale(t){return this[0]*=t,this[1]*=t,this}scaleAndAdd(t,e){return this[0]+=t[0]*e,this[1]+=t[1]*e,this}distance(t){return at.distance(this,t)}dist(t){return 0}squaredDistance(t){return at.squaredDistance(this,t)}sqrDist(t){return 0}negate(){return this[0]*=-1,this[1]*=-1,this}invert(){return this[0]=1/this[0],this[1]=1/this[1],this}dot(t){return this[0]*t[0]+this[1]*t[1]}normalize(){return at.normalize(this,this)}static create(){return new at}static clone(t){return new at(t)}static fromValues(t,e){return new at(t,e)}static copy(t,e){return t[0]=e[0],t[1]=e[1],t}static set(t,e,s){return t[0]=e,t[1]=s,t}static add(t,e,s){return t[0]=e[0]+s[0],t[1]=e[1]+s[1],t}static subtract(t,e,s){return t[0]=e[0]-s[0],t[1]=e[1]-s[1],t}static sub(t,e,s){return[0,0]}static multiply(t,e,s){return t[0]=e[0]*s[0],t[1]=e[1]*s[1],t}static mul(t,e,s){return[0,0]}static divide(t,e,s){return t[0]=e[0]/s[0],t[1]=e[1]/s[1],t}static div(t,e,s){return[0,0]}static ceil(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}static floor(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}static min(t,e,s){return t[0]=Math.min(e[0],s[0]),t[1]=Math.min(e[1],s[1]),t}static max(t,e,s){return t[0]=Math.max(e[0],s[0]),t[1]=Math.max(e[1],s[1]),t}static round(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}static scale(t,e,s){return t[0]=e[0]*s,t[1]=e[1]*s,t}static scaleAndAdd(t,e,s,c){return t[0]=e[0]+s[0]*c,t[1]=e[1]+s[1]*c,t}static distance(t,e){return Math.hypot(e[0]-t[0],e[1]-t[1])}static dist(t,e){return 0}static squaredDistance(t,e){const s=e[0]-t[0],c=e[1]-t[1];return s*s+c*c}static sqrDist(t,e){return 0}static magnitude(t){let e=t[0],s=t[1];return Math.sqrt(e*e+s*s)}static mag(t){return 0}static length(t){return 0}static len(t){return 0}static squaredLength(t){const e=t[0],s=t[1];return e*e+s*s}static sqrLen(t,e){return 0}static negate(t,e){return t[0]=-e[0],t[1]=-e[1],t}static inverse(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}static normalize(t,e){const s=e[0],c=e[1];let h=s*s+c*c;return h>0&&(h=1/Math.sqrt(h)),t[0]=e[0]*h,t[1]=e[1]*h,t}static dot(t,e){return t[0]*e[0]+t[1]*e[1]}static cross(t,e,s){const c=e[0]*s[1]-e[1]*s[0];return t[0]=t[1]=0,t[2]=c,t}static lerp(t,e,s,c){const h=e[0],f=e[1];return t[0]=h+c*(s[0]-h),t[1]=f+c*(s[1]-f),t}static transformMat2(t,e,s){const c=e[0],h=e[1];return t[0]=s[0]*c+s[2]*h,t[1]=s[1]*c+s[3]*h,t}static transformMat2d(t,e,s){const c=e[0],h=e[1];return t[0]=s[0]*c+s[2]*h+s[4],t[1]=s[1]*c+s[3]*h+s[5],t}static transformMat3(t,e,s){const c=e[0],h=e[1];return t[0]=s[0]*c+s[3]*h+s[6],t[1]=s[1]*c+s[4]*h+s[7],t}static transformMat4(t,e,s){const c=e[0],h=e[1];return t[0]=s[0]*c+s[4]*h+s[12],t[1]=s[1]*c+s[5]*h+s[13],t}static rotate(t,e,s,c){const h=e[0]-s[0],f=e[1]-s[1],p=Math.sin(c),d=Math.cos(c);return t[0]=h*d-f*p+s[0],t[1]=h*p+f*d+s[1],t}static angle(t,e){const s=t[0],c=t[1],h=e[0],f=e[1],p=Math.sqrt(s*s+c*c)*Math.sqrt(h*h+f*f),d=p&&(s*h+c*f)/p;return Math.acos(Math.min(Math.max(d,-1),1))}static zero(t){return t[0]=0,t[1]=0,t}static exactEquals(t,e){return t[0]===e[0]&&t[1]===e[1]}static equals(t,e){const s=t[0],c=t[1],h=e[0],f=e[1];return Math.abs(s-h)<=tt*Math.max(1,Math.abs(s),Math.abs(h))&&Math.abs(c-f)<=tt*Math.max(1,Math.abs(c),Math.abs(f))}static str(t){return`Vec2(${t.join(", ")})`}}at.prototype.sub=at.prototype.subtract,at.prototype.mul=at.prototype.multiply,at.prototype.div=at.prototype.divide,at.prototype.dist=at.prototype.distance,at.prototype.sqrDist=at.prototype.squaredDistance,at.sub=at.subtract,at.mul=at.multiply,at.div=at.divide,at.dist=at.distance,at.sqrDist=at.squaredDistance,at.sqrLen=at.squaredLength,at.mag=at.magnitude,at.length=at.magnitude,at.len=at.magnitude;const On=at;class we extends Ye{constructor(){super()}name;matrix=ct.create();location;findUniformInfo(){return Me.current.m_uniformLocations[this.name]}update(){Me.current.gl.uniformMatrix4fv(this.location,!1,this.matrix)}updateMatrix(t){this.matrix=t}}class ph extends Set{constructor(){super()}}class dh extends we{constructor(t){super(),this.modelMatrix=t}name="uNormalMatrix";normalMatrix=Ge.create();update(){const t=this.modelMatrix.matrix,e=Ge.fromMat4(this.normalMatrix,t);Ge.invert(e,e),Ge.transpose(e,e)}tie(t){const e=this.findUniformInfo();if(!e)return;this.location=e.location,this.update(),t.uniformMatrix3fv(this.location,!1,this.normalMatrix)}}class Pn extends we{static current;defaultUniform;constructor(t){super(),this.defaultUniform=t;const e=k.fromValues(0,5,5),s=k.fromValues(0,0,0),c=k.fromValues(0,1,0),h=ct.create();ct.lookAt(h,e,s,c),this.matrix=h}name="uViewMatrix";tie(t){const e=this.findUniformInfo();this.location=e.location,this.update()}pos;obr(t){if(!this.pos)return;const e=On.create();On.subtract(e,t,this.pos),e[1]=-e[1],this.pos=t;const s=[100,100],c=this.matrix,h=k.fromValues(c[0],c[4],c[8]),f=k.fromValues(c[1],c[5],c[9]),p=k.fromValues(c[2],c[6],c[10]),d=On.length(e)/s[1]*Math.PI*2;On.normalize(e,e),k.normalize(h,h);for(let S=0;S<h.length;++S)h[S]*=e[0];k.normalize(f,f);for(let S=0;S<f.length;++S)f[S]*=e[1];const m=k.create();k.add(m,m,h),k.add(m,m,f);const x=k.clone(p);k.cross(x,x,m),k.normalize(x,x);const M=In.create();In.setAxisAngle(M,x,d);const E=this.defaultUniform.orbitPoint,T=k.clone(E);k.negate(T,T);const w=ct.create();ct.translate(w,w,E);const b=ct.create();ct.fromQuat(b,M),ct.multiply(w,w,b),ct.translate(w,w,T),ct.multiply(c,c,w),this.matrix=c,this.update()}wheel(t){if(!this.pos)return;const e=On.create();On.subtract(e,t,this.pos),e[1]=-e[1],this.pos=t;const s=[100,100],c=this.matrix,h=k.fromValues(c[0],c[4],c[8]),f=k.fromValues(c[1],c[5],c[9]),p=k.fromValues(c[2],c[6],c[10]),d=On.length(e)/s[1]*Math.PI*2;On.normalize(e,e),k.normalize(h,h);for(let S=0;S<h.length;++S)h[S]*=e[0];k.normalize(f,f);for(let S=0;S<f.length;++S)f[S]*=e[1];const m=k.create();k.add(m,m,h),k.add(m,m,f);const x=k.clone(p);k.cross(x,x,m),k.normalize(x,x);const M=In.create();In.setAxisAngle(M,x,d);const E=this.defaultUniform.orbitPoint,T=k.clone(E);k.negate(T,T);const w=ct.create();ct.translate(w,w,E);const b=ct.create();ct.fromQuat(b,M),ct.multiply(w,w,b),ct.translate(w,w,T),ct.multiply(c,c,w),this.matrix=c,this.update()}zoom(t){const e=this.matrix,s=k.fromValues(e[2],e[6],e[10]);k.normalize(s,s);const c=ct.create();ct.invert(c,e);const h=k.fromValues(c[12],c[13],c[14]),f=this.defaultUniform.orbitPoint,p=k.create();k.subtract(p,h,f);const d=k.length(p),m=.5,x=50;let M=d-t*d;if(M=Math.max(m,Math.min(x,M)),Math.abs(M-d)<.001)return;k.normalize(p,p);const E=k.create();k.scaleAndAdd(E,f,p,M);const T=k.fromValues(e[1],e[5],e[9]);k.normalize(T,T);const w=ct.create();ct.lookAt(w,E,f,T),this.matrix=w,this.update()}}var jn;(C=>{class t{static ZOOM_SPEED=.1;static ZoomIn(c){const h=Pn.current;if(!h)return;const f=c||this.ZOOM_SPEED;h.zoom(f)}static ZoomOut(c){const h=Pn.current;if(!h)return;const f=c||this.ZOOM_SPEED;h.zoom(-f)}static ZoomByWheel(c){const h=Pn.current;if(!h)return;const f=Math.abs(c)*.001;c>0?h.zoom(-f):h.zoom(f)}}C.Zoom=t;class e{static update(c){Pn.current.obr(c)}}C.Rotate=e})(jn||(jn={}));const gh=jn.Rotate;class mh extends ds{constructor(){super()}mousedown(t){const e=[t.clientX,t.clientY],s=Pn.current;return s.pos=e,null}mouseup(t){const e=Pn.current;return e.pos=void 0,super.mouseup(t)}mousemove(t){const e=[t.clientX,t.clientY];return gh.update(e),null}}class xh{scene;constructor(t){this.scene=t}setFromCamera(t,e,s){const h=this.scene.context.canvas.getBoundingClientRect(),f=(t-h.left)/h.width*2-1,p=-((e-h.top)/h.height)*2+1,d=s.defaultUniform.projectMatrix.matrix,m=s.defaultUniform.viewMatrix.matrix,x={origin:k.create(),direction:k.create()},M=ye.fromValues(f,p,-1,1),E=ct.create();ct.invert(E,d);const T=ye.create();ye.transformMat4(T,M,E),T[2]=-1,T[3]=0;const w=ct.create();ct.invert(w,m);const b=ye.create();ye.transformMat4(b,T,w),k.normalize(x.direction,k.fromValues(b[0],b[1],b[2]));const S=k.fromValues(-m[12],-m[13],-m[14]);return k.copy(x.origin,S),x}intersectObjects(t,e){const s=[];for(const c of e){const h=this.intersectObject(t,c);h&&s.push(h)}return s.sort((c,h)=>c.distance-h.distance),s}intersectObject(t,e){const s=k.fromValues(0,0,0),c=1,h=k.create();k.subtract(h,t.origin,s);const f=k.dot(t.direction,t.direction),p=2*k.dot(h,t.direction),d=k.dot(h,h)-c*c,m=p*p-4*f*d;if(m<0)return null;const x=Math.sqrt(m),M=(-p-x)/(2*f),E=(-p+x)/(2*f);let T=M>0?M:E;if(T<=0)return null;const w=k.create();return k.scaleAndAdd(w,t.origin,t.direction,T),{object:e,distance:T,point:w}}getInteractableObjects(){return Array.from(this.scene)}}class te{static instance;listeners=new Map;eventQueue=[];isProcessing=!1;constructor(){}static getInstance(){return te.instance||(te.instance=new te),te.instance}on(t,e){this.listeners.has(t)||this.listeners.set(t,new Set),this.listeners.get(t).add(e)}off(t,e){const s=this.listeners.get(t);s&&s.delete(e)}emit(t){this.eventQueue.push(t),this.isProcessing||this.processEventQueue()}processEventQueue(){for(this.isProcessing=!0;this.eventQueue.length>0;){const t=this.eventQueue.shift(),e=this.listeners.get(t.type);e&&e.forEach(s=>{try{s(t)}catch(c){console.error(`Error in event handler for ${t.type}:`,c)}})}this.isProcessing=!1}once(t,e){const s=c=>{e(c),this.off(t,s)};this.on(t,s)}removeAllListeners(t){t?this.listeners.delete(t):this.listeners.clear()}listenerCount(t){const e=this.listeners.get(t);return e?e.size:0}}var Kt=(C=>(C.MOUSE_DOWN="mousedown",C.MOUSE_UP="mouseup",C.MOUSE_MOVE="mousemove",C.MOUSE_ENTER="mouseenter",C.MOUSE_LEAVE="mouseleave",C.MOUSE_WHEEL="wheel",C.CLICK="click",C.DOUBLE_CLICK="dblclick",C.CONTEXT_MENU="contextmenu",C.TOUCH_START="touchstart",C.TOUCH_END="touchend",C.TOUCH_MOVE="touchmove",C.KEY_DOWN="keydown",C.KEY_UP="keyup",C.KEY_PRESS="keypress",C))(Kt||{});class vh{scene;raycaster;eventManager;controller;constructor(t){this.scene=t,this.raycaster=new xh(t),this.eventManager=te.getInstance(),this.controller=t.controller}init(){const t=this.scene.context.canvas;if(!t){console.warn("Canvas not available, skipping interaction setup");return}t.addEventListener("mousedown",this.handleMouseDown.bind(this)),t.addEventListener("mouseup",this.handleMouseUp.bind(this)),t.addEventListener("mousemove",this.handleMouseMove.bind(this)),t.addEventListener("wheel",this.handleWheel.bind(this)),t.addEventListener("contextmenu",this.handleContextMenu.bind(this)),t.addEventListener("click",this.handleClick.bind(this)),t.addEventListener("dblclick",this.handleDoubleClick.bind(this)),t.addEventListener("touchstart",this.handleTouchStart.bind(this),{passive:!1}),t.addEventListener("touchend",this.handleTouchEnd.bind(this),{passive:!1}),t.addEventListener("touchmove",this.handleTouchMove.bind(this),{passive:!1}),window.addEventListener("keydown",this.handleKeyDown.bind(this)),window.addEventListener("keyup",this.handleKeyUp.bind(this))}handleMouseDown(t){const e=this.createInteractionEvent(Kt.MOUSE_DOWN,t);this.performRaycast(e),this.eventManager.emit(e),this.controller.chain.mousedown(t),e.hitObject&&e.hitObject.emit("mousedown",e),this.scene.render()}handleMouseUp(t){const e=this.createInteractionEvent(Kt.MOUSE_UP,t);this.performRaycast(e),this.eventManager.emit(e),this.controller.chain.mouseup(t),e.hitObject&&e.hitObject.emit("mouseup",e)}handleMouseMove(t){const e=this.createInteractionEvent(Kt.MOUSE_MOVE,t);this.performRaycast(e),this.eventManager.emit(e),this.controller.chain.mousemove(t),e.hitObject&&e.hitObject.emit("mousemove",e),this.scene.render()}handleWheel(t){const e=this.createInteractionEvent(Kt.MOUSE_WHEEL,t);this.eventManager.emit(e),jn.Zoom.ZoomByWheel(t.deltaY),this.scene.render(),t.preventDefault()}handleContextMenu(t){const e=this.createInteractionEvent(Kt.CONTEXT_MENU,t);this.performRaycast(e),this.eventManager.emit(e),t.preventDefault()}handleClick(t){const e=this.createInteractionEvent(Kt.CLICK,t);this.performRaycast(e),this.eventManager.emit(e),e.hitObject&&e.hitObject.emit("click",e)}handleDoubleClick(t){const e=this.createInteractionEvent(Kt.DOUBLE_CLICK,t);this.performRaycast(e),this.eventManager.emit(e),e.hitObject&&e.hitObject.emit("dblclick",e)}handleTouchStart(t){if(t.touches.length===0)return;const e=t.touches[0],s=this.createInteractionEventFromTouch(Kt.TOUCH_START,t,e);this.performRaycast(s),this.eventManager.emit(s),s.hitObject&&s.hitObject.emit("touchstart",s),t.preventDefault()}handleTouchEnd(t){if(t.changedTouches.length===0)return;const e=t.changedTouches[0],s=this.createInteractionEventFromTouch(Kt.TOUCH_END,t,e);this.performRaycast(s),this.eventManager.emit(s),s.hitObject&&s.hitObject.emit("touchend",s)}handleTouchMove(t){if(t.touches.length===0)return;const e=t.touches[0],s=this.createInteractionEventFromTouch(Kt.TOUCH_MOVE,t,e);this.performRaycast(s),this.eventManager.emit(s),s.hitObject&&s.hitObject.emit("touchmove",s),this.scene.render(),t.preventDefault()}handleKeyDown(t){const e=this.createInteractionEvent(Kt.KEY_DOWN,t);switch(this.eventManager.emit(e),t.key){case"+":case"=":case"PageUp":jn.Zoom.ZoomIn(),this.scene.render(),t.preventDefault();break;case"-":case"_":case"PageDown":jn.Zoom.ZoomOut(),this.scene.render(),t.preventDefault();break}}handleKeyUp(t){const e=this.createInteractionEvent(Kt.KEY_UP,t);this.eventManager.emit(e)}performRaycast(t){try{const e=this.raycaster.setFromCamera(t.clientX,t.clientY,this.scene.camera),s=this.raycaster.getInteractableObjects(),c=this.raycaster.intersectObjects(e,s);if(c.length>0){const h=c[0];t.hitObject=h.object,t.hitDistance=h.distance,t.hitPoint=h.point,h.point&&(t.worldPosition=k.clone(h.point))}}catch(e){console.warn("Raycast failed:",e)}}createInteractionEvent(t,e){const c=this.scene.context.canvas.getBoundingClientRect();let h=0,f=0,p=0,d=0,m;return(e instanceof MouseEvent||e instanceof WheelEvent)&&(h=e.clientX,f=e.clientY,p=e.clientX-c.left,d=e.clientY-c.top,m=e instanceof MouseEvent?e.button:void 0),{type:t,originalEvent:e,screenX:p,screenY:d,clientX:h,clientY:f,button:m,ctrlKey:e.ctrlKey||!1,shiftKey:e.shiftKey||!1,altKey:e.altKey||!1,metaKey:e.metaKey||!1}}createInteractionEventFromTouch(t,e,s){const h=this.scene.context.canvas.getBoundingClientRect();return{type:t,originalEvent:e,screenX:s.clientX-h.left,screenY:s.clientY-h.top,clientX:s.clientX,clientY:s.clientY,ctrlKey:!1,shiftKey:!1,altKey:!1,metaKey:!1}}}class _h{scene;chain;cameraChain;interactionController=null;constructor(){}init(t){this.scene=t,this.chain=new fh,this.cameraChain=new mh,this.switchState(0),this.interactionController=new vh(t),this.interactionController.init()}switchState(t){t===0&&this.transitionTo(new oh)}state;transitionTo(t){this.state=t,this.state.setContext(this),this.state.start()}}class Mh extends we{constructor(){super();const t=this.matrix;ct.translate(t,t,[0,0,0]),this.matrix=t}name="uModelMatrix";tie(t){const e=this.findUniformInfo();this.location=e.location,this.update()}}class yh extends we{constructor(){super();const t=us.gl,e=45*Math.PI/180,s=t.canvas.width/t.canvas.height,c=.1,h=100,f=ct.create();ct.perspectiveNO(f,e,s,c,h),this.matrix=f}name="uProjectionMatrix";tie(t){this.location=this.findUniformInfo().location,this.update()}}class wh extends we{name="uCameraPosition";position=k.create();viewMatrix;constructor(t){super(),this.viewMatrix=t,k.set(this.position,0,5,5)}update(){const t=ct.create();ct.invert(t,this.viewMatrix.matrix),k.set(this.position,t[12],t[13],t[14])}tie(t){const e=this.findUniformInfo();if(!e)return;this.location=e.location,this.update(),t.uniform3fv(this.location,this.position)}}class Th extends ph{modelMatrix;viewMatrix;projectMatrix;normalMatrix;cameraPosition;orbitPoint;viewportSize;constructor(){super(),this.projectMatrix=new yh,this.viewMatrix=new Pn(this),this.modelMatrix=new Mh,this.normalMatrix=new dh(this.modelMatrix),this.cameraPosition=new wh(this.viewMatrix),this.orbitPoint=k.create(),this.add(this.modelMatrix),this.add(this.viewMatrix),this.add(this.projectMatrix),this.add(this.normalMatrix),this.add(this.cameraPosition),Pn.current=this.viewMatrix}}class Ah{defaultUniform;scene;constructor(t){this.scene=t,this.defaultUniform=new Th}update(){this.scene.render()}}const kr={linear:C=>C,easeIn:C=>C*C,easeOut:C=>C*(2-C),easeInOut:C=>C<.5?2*C*C:-1+(4-2*C)*C,easeInQuad:C=>C*C,easeOutQuad:C=>C*(2-C),easeInOutQuad:C=>C<.5?2*C*C:-1+(4-2*C)*C,easeInCubic:C=>C*C*C,easeOutCubic:C=>--C*C*C+1,easeInOutCubic:C=>C<.5?4*C*C*C:(C-1)*(2*C-2)*(2*C-2)+1,elastic:C=>Math.pow(2,-10*C)*Math.sin((C-.3/4)*(2*Math.PI)/.3)+1,bounce:C=>C<1/2.75?7.5625*C*C:C<2/2.75?7.5625*(C-=1.5/2.75)*C+.75:C<2.5/2.75?7.5625*(C-=2.25/2.75)*C+.9375:7.5625*(C-=2.625/2.75)*C+.984375};class ne{startValue;endValue;duration;elapsed=0;easing;onUpdate;onComplete;isPlaying=!1;isPaused=!1;startTime=0;pauseTime=0;constructor(t,e,s,c=kr.linear){this.startValue=t,this.endValue=e,this.duration=s,this.easing=c}onUpdateCallback(t){return this.onUpdate=t,this}onCompleteCallback(t){return this.onComplete=t,this}start(){return this.isPaused?(this.startTime=performance.now()-this.pauseTime,this.isPaused=!1):(this.startTime=performance.now(),this.elapsed=0),this.isPlaying=!0,this}pause(){return this.isPlaying&&!this.isPaused&&(this.isPaused=!0,this.pauseTime=performance.now()-this.startTime),this}stop(){return this.isPlaying=!1,this.isPaused=!1,this.elapsed=0,this}reset(){return this.stop(),this.elapsed=0,this}update(t){if(!this.isPlaying||this.isPaused)return!1;this.elapsed+=t;const e=Math.min(this.elapsed/this.duration,1),s=this.easing(e),c=this.startValue+(this.endValue-this.startValue)*s;return this.onUpdate&&this.onUpdate(c),e>=1?(this.isPlaying=!1,this.onComplete&&this.onComplete(),!1):!0}getCurrentValue(){const t=Math.min(this.elapsed/this.duration,1),e=this.easing(t);return this.startValue+(this.endValue-this.startValue)*e}getProgress(){return Math.min(this.elapsed/this.duration,1)}isActive(){return this.isPlaying&&!this.isPaused}}const Eh=(C,t,e)=>C+(t-C)*e,Hr=(C,t,e)=>[C[0]+(t[0]-C[0])*e,C[1]+(t[1]-C[1])*e,C[2]+(t[2]-C[2])*e];class ee{keyframes;duration;elapsed=0;interpolator;onUpdate;onComplete;isPlaying=!1;isPaused=!1;isLoop=!1;startTime=0;pauseTime=0;constructor(t,e,s){this.keyframes=[...t].sort((c,h)=>c.time-h.time),this.duration=e,this.interpolator=s}onUpdateCallback(t){return this.onUpdate=t,this}onCompleteCallback(t){return this.onComplete=t,this}setLoop(t){return this.isLoop=t,this}start(){return this.isPaused?(this.startTime=performance.now()-this.pauseTime,this.isPaused=!1):(this.startTime=performance.now(),this.elapsed=0),this.isPlaying=!0,this}pause(){return this.isPlaying&&!this.isPaused&&(this.isPaused=!0,this.pauseTime=performance.now()-this.startTime),this}stop(){return this.isPlaying=!1,this.isPaused=!1,this.elapsed=0,this}reset(){return this.stop(),this.elapsed=0,this}update(t){if(!this.isPlaying||this.isPaused)return!1;this.elapsed+=t;let e=this.elapsed/this.duration%1;!this.isLoop&&this.elapsed>=this.duration&&(e=1);const s=this.getValueAtTime(e);return this.onUpdate&&this.onUpdate(s),!this.isLoop&&this.elapsed>=this.duration?(this.isPlaying=!1,this.onComplete&&this.onComplete(),!1):!0}getValueAtTime(t){if(this.keyframes.length===0)throw new Error("AnimationTrack has no keyframes");if(t<=0)return this.keyframes[0].value;if(t>=1)return this.keyframes[this.keyframes.length-1].value;for(let e=0;e<this.keyframes.length-1;e++){const s=this.keyframes[e],c=this.keyframes[e+1];if(t>=s.time&&t<=c.time){const h=c.time-s.time,f=(t-s.time)/h,d=(s.easing||kr.linear)(f);return this.interpolator(s.value,c.value,d)}}return this.keyframes[this.keyframes.length-1].value}getCurrentValue(){const t=Math.min(this.elapsed/this.duration,1);return this.getValueAtTime(t)}getProgress(){return Math.min(this.elapsed/this.duration,1)}isActive(){return this.isPlaying&&!this.isPaused}}class _s{animations=new Set;lastTime=0;isRunning=!1;constructor(){this.lastTime=performance.now()}add(t){this.animations.add(t),this.isRunning||this.start()}remove(t){this.animations.delete(t),this.animations.size===0&&this.stop()}addTween(t){return this.add(t),t}addTrack(t){return this.add(t),t}update(){if(!this.isRunning)return;const t=performance.now(),e=t-this.lastTime;this.lastTime=t;const s=[];this.animations.forEach(c=>{c.update(e)||s.push(c)}),s.forEach(c=>{this.remove(c)})}start(){this.isRunning=!0,this.lastTime=performance.now()}stop(){this.isRunning=!1}pauseAll(){this.animations.forEach(t=>{(t instanceof ne||t instanceof ee)&&t.pause()})}resumeAll(){this.animations.forEach(t=>{(t instanceof ne||t instanceof ee)&&t.start()})}stopAll(){this.animations.forEach(t=>{t.stop()}),this.animations.clear(),this.stop()}clear(){this.stopAll()}getAnimationCount(){return this.animations.size}hasActiveAnimations(){return this.animations.size>0}}class Sh{cell;modelMatrix;positionTrack;rotationTrack;scaleTrack;currentTransform;constructor(t,e){this.cell=t,this.modelMatrix=e,this.currentTransform={position:[0,0,0],rotation:[0,0,0,1],scale:[1,1,1]}}setPositionTrack(t,e){return this.positionTrack=new ee(t,e,Hr),this.positionTrack.onUpdateCallback(s=>{this.currentTransform.position=s,this.updateModelMatrix()}),this}setPositionTrackLoop(t,e,s=!0){return this.setPositionTrack(t,e),this.positionTrack&&(this.positionTrack.setLoop(s),this.positionTrack.start()),this}setRotationTrack(t,e){const s=t.map(c=>({time:c.time,value:this.eulerToQuaternion(c.value),easing:c.easing}));return this.rotationTrack=new ee(s,e,this.quaternionInterpolator),this.rotationTrack.onUpdateCallback(c=>{this.currentTransform.rotation=c,this.updateModelMatrix()}),this}setRotationTrackLoop(t,e,s=!0){return this.setRotationTrack(t,e),this.rotationTrack&&(this.rotationTrack.setLoop(s),this.rotationTrack.start()),this}setScaleTrack(t,e){return this.scaleTrack=new ee(t,e,Hr),this.scaleTrack.onUpdateCallback(s=>{this.currentTransform.scale=s,this.updateModelMatrix()}),this}setScaleTrackLoop(t,e,s=!0){return this.setScaleTrack(t,e),this.scaleTrack&&(this.scaleTrack.setLoop(s),this.scaleTrack.start()),this}animatePosition(t,e,s){const c=this.currentTransform.position,h=[];for(let f=0;f<3;f++){const p=new ne(c[f],t[f],e,s);p.onUpdateCallback(d=>{this.currentTransform.position[f]=d,this.updateModelMatrix()}),h.push(p)}return h}animateRotation(t,e,s){const c=this.eulerToQuaternion(this.getEulerRotation()),h=this.eulerToQuaternion(t),f=[];for(let p=0;p<4;p++){const d=new ne(c[p],h[p],e,s);d.onUpdateCallback(m=>{this.currentTransform.rotation[p]=m,this.updateModelMatrix()}),f.push(d)}return f}animateScale(t,e,s){const c=this.currentTransform.scale,h=[];for(let f=0;f<3;f++){const p=new ne(c[f],t[f],e,s);p.onUpdateCallback(d=>{this.currentTransform.scale[f]=d,this.updateModelMatrix()}),h.push(p)}return h}updateModelMatrix(){const t=ct.create();ct.scale(t,t,this.currentTransform.scale);const e=ct.create();ct.fromQuat(e,this.currentTransform.rotation),ct.multiply(t,t,e),ct.translate(t,t,this.currentTransform.position),this.modelMatrix.updateMatrix(t)}setPosition(t){return this.currentTransform.position=t,this.updateModelMatrix(),this}setRotation(t){return this.currentTransform.rotation=this.eulerToQuaternion(t),this.updateModelMatrix(),this}setScale(t){return this.currentTransform.scale=t,this.updateModelMatrix(),this}getTransform(){return{...this.currentTransform}}getPosition(){return[...this.currentTransform.position]}getEulerRotation(){return this.quaternionToEuler(this.currentTransform.rotation)}getScale(){return[...this.currentTransform.scale]}start(){return this.positionTrack&&this.positionTrack.start(),this.rotationTrack&&this.rotationTrack.start(),this.scaleTrack&&this.scaleTrack.start(),this}pause(){return this.positionTrack&&this.positionTrack.pause(),this.rotationTrack&&this.rotationTrack.pause(),this.scaleTrack&&this.scaleTrack.pause(),this}stop(){return this.positionTrack&&this.positionTrack.stop(),this.rotationTrack&&this.rotationTrack.stop(),this.scaleTrack&&this.scaleTrack.stop(),this}eulerToQuaternion(t){const e=In.create();return In.fromEuler(e,t[0]*180/Math.PI,t[1]*180/Math.PI,t[2]*180/Math.PI),[e[0],e[1],e[2],e[3]]}quaternionToEuler(t){const e=t;k.create();const s=ct.create();return ct.fromQuat(s,e),[0,0,0]}quaternionInterpolator=(t,e,s)=>{const c=In.create();return In.slerp(c,t,e,s),[c[0],c[1],c[2],c[3]]}}class bh extends ch{context;constructor(){super()}background=new ah;model=new eh;camera;controller=new _h;animationManager=new _s;mount(t){this.context=new nh(t),this.init()}init(){this.camera=new Ah(this),this.controller.init(this)}get gl(){return this.context?.gl}build(){super.build(this.gl)}render(){this.animationManager.update(),super.render(this.gl)}add(t){this.push(t)}getInteractableObjects(){return Array.from(this)}destroy(){this.animationManager&&this.animationManager.stopAll(),this.controller&&this.controller.interactionController,this.context&&this.context.gl&&this.destroyQueue(this.context.gl),this.length=0,this.context&&this.context.canvas&&this.context.canvas.parentNode&&this.context.canvas.parentNode.removeChild(this.context.canvas),this.context=void 0}}Ht.AnimationManager=_s,Ht.AnimationTrack=ee,Ht.Easing=kr,Ht.Scene=bh,Ht.TransformAnimation=Sh,Ht.Tween=ne,Ht.numberInterpolator=Eh,Ht.vec3Interpolator=Hr,Object.defineProperty(Ht,Symbol.toStringTag,{value:"Module"})}));
