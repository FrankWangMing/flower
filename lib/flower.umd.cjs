(function(tt,On){typeof exports=="object"&&typeof module<"u"?On(exports):typeof define=="function"&&define.amd?define(["exports"],On):(tt=typeof globalThis<"u"?globalThis:tt||self,On(tt.flower={}))})(this,function(tt){"use strict";var fp=Object.defineProperty;var hp=(tt,On,Tt)=>On in tt?fp(tt,On,{enumerable:!0,configurable:!0,writable:!0,value:Tt}):tt[On]=Tt;var $=(tt,On,Tt)=>hp(tt,typeof On!="symbol"?On+"":On,Tt);var On=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Tt={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Tt.exports,function(an,n){(function(){var e,s="4.17.21",a=200,f="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",l="Expected a function",p="Invalid `variable` option passed into `_.template`",g="__lodash_hash_undefined__",x=500,v="__lodash_placeholder__",m=1,T=2,A=4,w=1,S=2,R=1,z=2,D=4,W=8,F=16,O=32,U=64,q=128,en=256,j=512,hn=30,H="...",xn=800,dn=16,pn=1,K=2,rt=3,Xn=1/0,Nn=9007199254740991,Qe=17976931348623157e292,Xt=NaN,wt=4294967295,v1=wt-1,M1=wt>>>1,m1=[["ary",q],["bind",R],["bindKey",z],["curry",W],["curryRight",F],["flip",j],["partial",O],["partialRight",U],["rearg",en]],se="[object Arguments]",Je="[object Array]",y1="[object AsyncFunction]",we="[object Boolean]",Ae="[object Date]",w1="[object DOMException]",Ve="[object Error]",ke="[object Function]",vs="[object GeneratorFunction]",ot="[object Map]",Ee="[object Number]",A1="[object Null]",Rt="[object Object]",Ms="[object Promise]",E1="[object Proxy]",Se="[object RegExp]",pt="[object Set]",Te="[object String]",je="[object Symbol]",S1="[object Undefined]",Le="[object WeakMap]",T1="[object WeakSet]",Re="[object ArrayBuffer]",ce="[object DataView]",Zr="[object Float32Array]",$r="[object Float64Array]",Kr="[object Int8Array]",Xr="[object Int16Array]",Qr="[object Int32Array]",Jr="[object Uint8Array]",Vr="[object Uint8ClampedArray]",kr="[object Uint16Array]",jr="[object Uint32Array]",L1=/\b__p \+= '';/g,R1=/\b(__p \+=) '' \+/g,I1=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ms=/&(?:amp|lt|gt|quot|#39);/g,ys=/[&<>"']/g,b1=RegExp(ms.source),z1=RegExp(ys.source),C1=/<%-([\s\S]+?)%>/g,O1=/<%([\s\S]+?)%>/g,ws=/<%=([\s\S]+?)%>/g,P1=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,q1=/^\w*$/,D1=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ni=/[\\^$.*+?()[\]{}|]/g,F1=RegExp(ni.source),ti=/^\s+/,U1=/\s/,B1=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,W1=/\{\n\/\* \[wrapped with (.+)\] \*/,N1=/,? & /,H1=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,G1=/[()=,{}\[\]\/\s]/,Y1=/\\(\\)?/g,Z1=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,As=/\w*$/,$1=/^[-+]0x[0-9a-f]+$/i,K1=/^0b[01]+$/i,X1=/^\[object .+?Constructor\]$/,Q1=/^0o[0-7]+$/i,J1=/^(?:0|[1-9]\d*)$/,V1=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,nr=/($^)/,k1=/['\n\r\u2028\u2029\\]/g,tr="\\ud800-\\udfff",j1="\\u0300-\\u036f",nf="\\ufe20-\\ufe2f",tf="\\u20d0-\\u20ff",Es=j1+nf+tf,Ss="\\u2700-\\u27bf",Ts="a-z\\xdf-\\xf6\\xf8-\\xff",ef="\\xac\\xb1\\xd7\\xf7",rf="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",sf="\\u2000-\\u206f",cf=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ls="A-Z\\xc0-\\xd6\\xd8-\\xde",Rs="\\ufe0e\\ufe0f",Is=ef+rf+sf+cf,ei="['’]",af="["+tr+"]",bs="["+Is+"]",er="["+Es+"]",zs="\\d+",ff="["+Ss+"]",Cs="["+Ts+"]",Os="[^"+tr+Is+zs+Ss+Ts+Ls+"]",ri="\\ud83c[\\udffb-\\udfff]",hf="(?:"+er+"|"+ri+")",Ps="[^"+tr+"]",ii="(?:\\ud83c[\\udde6-\\uddff]){2}",si="[\\ud800-\\udbff][\\udc00-\\udfff]",ae="["+Ls+"]",qs="\\u200d",Ds="(?:"+Cs+"|"+Os+")",lf="(?:"+ae+"|"+Os+")",Fs="(?:"+ei+"(?:d|ll|m|re|s|t|ve))?",Us="(?:"+ei+"(?:D|LL|M|RE|S|T|VE))?",Bs=hf+"?",Ws="["+Rs+"]?",uf="(?:"+qs+"(?:"+[Ps,ii,si].join("|")+")"+Ws+Bs+")*",of="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",pf="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Ns=Ws+Bs+uf,gf="(?:"+[ff,ii,si].join("|")+")"+Ns,df="(?:"+[Ps+er+"?",er,ii,si,af].join("|")+")",_f=RegExp(ei,"g"),xf=RegExp(er,"g"),ci=RegExp(ri+"(?="+ri+")|"+df+Ns,"g"),vf=RegExp([ae+"?"+Cs+"+"+Fs+"(?="+[bs,ae,"$"].join("|")+")",lf+"+"+Us+"(?="+[bs,ae+Ds,"$"].join("|")+")",ae+"?"+Ds+"+"+Fs,ae+"+"+Us,pf,of,zs,gf].join("|"),"g"),Mf=RegExp("["+qs+tr+Es+Rs+"]"),mf=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,yf=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],wf=-1,mn={};mn[Zr]=mn[$r]=mn[Kr]=mn[Xr]=mn[Qr]=mn[Jr]=mn[Vr]=mn[kr]=mn[jr]=!0,mn[se]=mn[Je]=mn[Re]=mn[we]=mn[ce]=mn[Ae]=mn[Ve]=mn[ke]=mn[ot]=mn[Ee]=mn[Rt]=mn[Se]=mn[pt]=mn[Te]=mn[Le]=!1;var Mn={};Mn[se]=Mn[Je]=Mn[Re]=Mn[ce]=Mn[we]=Mn[Ae]=Mn[Zr]=Mn[$r]=Mn[Kr]=Mn[Xr]=Mn[Qr]=Mn[ot]=Mn[Ee]=Mn[Rt]=Mn[Se]=Mn[pt]=Mn[Te]=Mn[je]=Mn[Jr]=Mn[Vr]=Mn[kr]=Mn[jr]=!0,Mn[Ve]=Mn[ke]=Mn[Le]=!1;var Af={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Ef={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Sf={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Tf={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Lf=parseFloat,Rf=parseInt,Hs=typeof On=="object"&&On&&On.Object===Object&&On,If=typeof self=="object"&&self&&self.Object===Object&&self,Pn=Hs||If||Function("return this")(),ai=n&&!n.nodeType&&n,Qt=ai&&!0&&an&&!an.nodeType&&an,Gs=Qt&&Qt.exports===ai,fi=Gs&&Hs.process,it=function(){try{var M=Qt&&Qt.require&&Qt.require("util").types;return M||fi&&fi.binding&&fi.binding("util")}catch{}}(),Ys=it&&it.isArrayBuffer,Zs=it&&it.isDate,$s=it&&it.isMap,Ks=it&&it.isRegExp,Xs=it&&it.isSet,Qs=it&&it.isTypedArray;function Qn(M,L,E){switch(E.length){case 0:return M.call(L);case 1:return M.call(L,E[0]);case 2:return M.call(L,E[0],E[1]);case 3:return M.call(L,E[0],E[1],E[2])}return M.apply(L,E)}function bf(M,L,E,B){for(var X=-1,un=M==null?0:M.length;++X<un;){var bn=M[X];L(B,bn,E(bn),M)}return B}function st(M,L){for(var E=-1,B=M==null?0:M.length;++E<B&&L(M[E],E,M)!==!1;);return M}function zf(M,L){for(var E=M==null?0:M.length;E--&&L(M[E],E,M)!==!1;);return M}function Js(M,L){for(var E=-1,B=M==null?0:M.length;++E<B;)if(!L(M[E],E,M))return!1;return!0}function Bt(M,L){for(var E=-1,B=M==null?0:M.length,X=0,un=[];++E<B;){var bn=M[E];L(bn,E,M)&&(un[X++]=bn)}return un}function rr(M,L){var E=M==null?0:M.length;return!!E&&fe(M,L,0)>-1}function hi(M,L,E){for(var B=-1,X=M==null?0:M.length;++B<X;)if(E(L,M[B]))return!0;return!1}function An(M,L){for(var E=-1,B=M==null?0:M.length,X=Array(B);++E<B;)X[E]=L(M[E],E,M);return X}function Wt(M,L){for(var E=-1,B=L.length,X=M.length;++E<B;)M[X+E]=L[E];return M}function li(M,L,E,B){var X=-1,un=M==null?0:M.length;for(B&&un&&(E=M[++X]);++X<un;)E=L(E,M[X],X,M);return E}function Cf(M,L,E,B){var X=M==null?0:M.length;for(B&&X&&(E=M[--X]);X--;)E=L(E,M[X],X,M);return E}function ui(M,L){for(var E=-1,B=M==null?0:M.length;++E<B;)if(L(M[E],E,M))return!0;return!1}var Of=oi("length");function Pf(M){return M.split("")}function qf(M){return M.match(H1)||[]}function Vs(M,L,E){var B;return E(M,function(X,un,bn){if(L(X,un,bn))return B=un,!1}),B}function ir(M,L,E,B){for(var X=M.length,un=E+(B?1:-1);B?un--:++un<X;)if(L(M[un],un,M))return un;return-1}function fe(M,L,E){return L===L?Kf(M,L,E):ir(M,ks,E)}function Df(M,L,E,B){for(var X=E-1,un=M.length;++X<un;)if(B(M[X],L))return X;return-1}function ks(M){return M!==M}function js(M,L){var E=M==null?0:M.length;return E?gi(M,L)/E:Xt}function oi(M){return function(L){return L==null?e:L[M]}}function pi(M){return function(L){return M==null?e:M[L]}}function nc(M,L,E,B,X){return X(M,function(un,bn,vn){E=B?(B=!1,un):L(E,un,bn,vn)}),E}function Ff(M,L){var E=M.length;for(M.sort(L);E--;)M[E]=M[E].value;return M}function gi(M,L){for(var E,B=-1,X=M.length;++B<X;){var un=L(M[B]);un!==e&&(E=E===e?un:E+un)}return E}function di(M,L){for(var E=-1,B=Array(M);++E<M;)B[E]=L(E);return B}function Uf(M,L){return An(L,function(E){return[E,M[E]]})}function tc(M){return M&&M.slice(0,sc(M)+1).replace(ti,"")}function Jn(M){return function(L){return M(L)}}function _i(M,L){return An(L,function(E){return M[E]})}function Ie(M,L){return M.has(L)}function ec(M,L){for(var E=-1,B=M.length;++E<B&&fe(L,M[E],0)>-1;);return E}function rc(M,L){for(var E=M.length;E--&&fe(L,M[E],0)>-1;);return E}function Bf(M,L){for(var E=M.length,B=0;E--;)M[E]===L&&++B;return B}var Wf=pi(Af),Nf=pi(Ef);function Hf(M){return"\\"+Tf[M]}function Gf(M,L){return M==null?e:M[L]}function he(M){return Mf.test(M)}function Yf(M){return mf.test(M)}function Zf(M){for(var L,E=[];!(L=M.next()).done;)E.push(L.value);return E}function xi(M){var L=-1,E=Array(M.size);return M.forEach(function(B,X){E[++L]=[X,B]}),E}function ic(M,L){return function(E){return M(L(E))}}function Nt(M,L){for(var E=-1,B=M.length,X=0,un=[];++E<B;){var bn=M[E];(bn===L||bn===v)&&(M[E]=v,un[X++]=E)}return un}function sr(M){var L=-1,E=Array(M.size);return M.forEach(function(B){E[++L]=B}),E}function $f(M){var L=-1,E=Array(M.size);return M.forEach(function(B){E[++L]=[B,B]}),E}function Kf(M,L,E){for(var B=E-1,X=M.length;++B<X;)if(M[B]===L)return B;return-1}function Xf(M,L,E){for(var B=E+1;B--;)if(M[B]===L)return B;return B}function le(M){return he(M)?Jf(M):Of(M)}function gt(M){return he(M)?Vf(M):Pf(M)}function sc(M){for(var L=M.length;L--&&U1.test(M.charAt(L)););return L}var Qf=pi(Sf);function Jf(M){for(var L=ci.lastIndex=0;ci.test(M);)++L;return L}function Vf(M){return M.match(ci)||[]}function kf(M){return M.match(vf)||[]}var jf=function M(L){L=L==null?Pn:ue.defaults(Pn.Object(),L,ue.pick(Pn,yf));var E=L.Array,B=L.Date,X=L.Error,un=L.Function,bn=L.Math,vn=L.Object,vi=L.RegExp,n0=L.String,ct=L.TypeError,cr=E.prototype,t0=un.prototype,oe=vn.prototype,ar=L["__core-js_shared__"],fr=t0.toString,_n=oe.hasOwnProperty,e0=0,cc=function(){var t=/[^.]+$/.exec(ar&&ar.keys&&ar.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),hr=oe.toString,r0=fr.call(vn),i0=Pn._,s0=vi("^"+fr.call(_n).replace(ni,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),lr=Gs?L.Buffer:e,Ht=L.Symbol,ur=L.Uint8Array,ac=lr?lr.allocUnsafe:e,or=ic(vn.getPrototypeOf,vn),fc=vn.create,hc=oe.propertyIsEnumerable,pr=cr.splice,lc=Ht?Ht.isConcatSpreadable:e,be=Ht?Ht.iterator:e,Jt=Ht?Ht.toStringTag:e,gr=function(){try{var t=te(vn,"defineProperty");return t({},"",{}),t}catch{}}(),c0=L.clearTimeout!==Pn.clearTimeout&&L.clearTimeout,a0=B&&B.now!==Pn.Date.now&&B.now,f0=L.setTimeout!==Pn.setTimeout&&L.setTimeout,dr=bn.ceil,_r=bn.floor,Mi=vn.getOwnPropertySymbols,h0=lr?lr.isBuffer:e,uc=L.isFinite,l0=cr.join,u0=ic(vn.keys,vn),zn=bn.max,Dn=bn.min,o0=B.now,p0=L.parseInt,oc=bn.random,g0=cr.reverse,mi=te(L,"DataView"),ze=te(L,"Map"),yi=te(L,"Promise"),pe=te(L,"Set"),Ce=te(L,"WeakMap"),Oe=te(vn,"create"),xr=Ce&&new Ce,ge={},d0=ee(mi),_0=ee(ze),x0=ee(yi),v0=ee(pe),M0=ee(Ce),vr=Ht?Ht.prototype:e,Pe=vr?vr.valueOf:e,pc=vr?vr.toString:e;function u(t){if(Tn(t)&&!Q(t)&&!(t instanceof cn)){if(t instanceof at)return t;if(_n.call(t,"__wrapped__"))return ga(t)}return new at(t)}var de=function(){function t(){}return function(r){if(!Sn(r))return{};if(fc)return fc(r);t.prototype=r;var i=new t;return t.prototype=e,i}}();function Mr(){}function at(t,r){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!r,this.__index__=0,this.__values__=e}u.templateSettings={escape:C1,evaluate:O1,interpolate:ws,variable:"",imports:{_:u}},u.prototype=Mr.prototype,u.prototype.constructor=u,at.prototype=de(Mr.prototype),at.prototype.constructor=at;function cn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=wt,this.__views__=[]}function m0(){var t=new cn(this.__wrapped__);return t.__actions__=Hn(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Hn(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Hn(this.__views__),t}function y0(){if(this.__filtered__){var t=new cn(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function w0(){var t=this.__wrapped__.value(),r=this.__dir__,i=Q(t),c=r<0,h=i?t.length:0,o=Ph(0,h,this.__views__),d=o.start,_=o.end,y=_-d,I=c?_:d-1,b=this.__iteratees__,C=b.length,P=0,N=Dn(y,this.__takeCount__);if(!i||!c&&h==y&&N==y)return Fc(t,this.__actions__);var Y=[];n:for(;y--&&P<N;){I+=r;for(var nn=-1,Z=t[I];++nn<C;){var sn=b[nn],fn=sn.iteratee,jn=sn.type,Wn=fn(Z);if(jn==K)Z=Wn;else if(!Wn){if(jn==pn)continue n;break n}}Y[P++]=Z}return Y}cn.prototype=de(Mr.prototype),cn.prototype.constructor=cn;function Vt(t){var r=-1,i=t==null?0:t.length;for(this.clear();++r<i;){var c=t[r];this.set(c[0],c[1])}}function A0(){this.__data__=Oe?Oe(null):{},this.size=0}function E0(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}function S0(t){var r=this.__data__;if(Oe){var i=r[t];return i===g?e:i}return _n.call(r,t)?r[t]:e}function T0(t){var r=this.__data__;return Oe?r[t]!==e:_n.call(r,t)}function L0(t,r){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=Oe&&r===e?g:r,this}Vt.prototype.clear=A0,Vt.prototype.delete=E0,Vt.prototype.get=S0,Vt.prototype.has=T0,Vt.prototype.set=L0;function It(t){var r=-1,i=t==null?0:t.length;for(this.clear();++r<i;){var c=t[r];this.set(c[0],c[1])}}function R0(){this.__data__=[],this.size=0}function I0(t){var r=this.__data__,i=mr(r,t);if(i<0)return!1;var c=r.length-1;return i==c?r.pop():pr.call(r,i,1),--this.size,!0}function b0(t){var r=this.__data__,i=mr(r,t);return i<0?e:r[i][1]}function z0(t){return mr(this.__data__,t)>-1}function C0(t,r){var i=this.__data__,c=mr(i,t);return c<0?(++this.size,i.push([t,r])):i[c][1]=r,this}It.prototype.clear=R0,It.prototype.delete=I0,It.prototype.get=b0,It.prototype.has=z0,It.prototype.set=C0;function bt(t){var r=-1,i=t==null?0:t.length;for(this.clear();++r<i;){var c=t[r];this.set(c[0],c[1])}}function O0(){this.size=0,this.__data__={hash:new Vt,map:new(ze||It),string:new Vt}}function P0(t){var r=Cr(this,t).delete(t);return this.size-=r?1:0,r}function q0(t){return Cr(this,t).get(t)}function D0(t){return Cr(this,t).has(t)}function F0(t,r){var i=Cr(this,t),c=i.size;return i.set(t,r),this.size+=i.size==c?0:1,this}bt.prototype.clear=O0,bt.prototype.delete=P0,bt.prototype.get=q0,bt.prototype.has=D0,bt.prototype.set=F0;function kt(t){var r=-1,i=t==null?0:t.length;for(this.__data__=new bt;++r<i;)this.add(t[r])}function U0(t){return this.__data__.set(t,g),this}function B0(t){return this.__data__.has(t)}kt.prototype.add=kt.prototype.push=U0,kt.prototype.has=B0;function dt(t){var r=this.__data__=new It(t);this.size=r.size}function W0(){this.__data__=new It,this.size=0}function N0(t){var r=this.__data__,i=r.delete(t);return this.size=r.size,i}function H0(t){return this.__data__.get(t)}function G0(t){return this.__data__.has(t)}function Y0(t,r){var i=this.__data__;if(i instanceof It){var c=i.__data__;if(!ze||c.length<a-1)return c.push([t,r]),this.size=++i.size,this;i=this.__data__=new bt(c)}return i.set(t,r),this.size=i.size,this}dt.prototype.clear=W0,dt.prototype.delete=N0,dt.prototype.get=H0,dt.prototype.has=G0,dt.prototype.set=Y0;function gc(t,r){var i=Q(t),c=!i&&re(t),h=!i&&!c&&Kt(t),o=!i&&!c&&!h&&Me(t),d=i||c||h||o,_=d?di(t.length,n0):[],y=_.length;for(var I in t)(r||_n.call(t,I))&&!(d&&(I=="length"||h&&(I=="offset"||I=="parent")||o&&(I=="buffer"||I=="byteLength"||I=="byteOffset")||Pt(I,y)))&&_.push(I);return _}function dc(t){var r=t.length;return r?t[Ci(0,r-1)]:e}function Z0(t,r){return Or(Hn(t),jt(r,0,t.length))}function $0(t){return Or(Hn(t))}function wi(t,r,i){(i!==e&&!_t(t[r],i)||i===e&&!(r in t))&&zt(t,r,i)}function qe(t,r,i){var c=t[r];(!(_n.call(t,r)&&_t(c,i))||i===e&&!(r in t))&&zt(t,r,i)}function mr(t,r){for(var i=t.length;i--;)if(_t(t[i][0],r))return i;return-1}function K0(t,r,i,c){return Gt(t,function(h,o,d){r(c,h,i(h),d)}),c}function _c(t,r){return t&&Et(r,Cn(r),t)}function X0(t,r){return t&&Et(r,Yn(r),t)}function zt(t,r,i){r=="__proto__"&&gr?gr(t,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[r]=i}function Ai(t,r){for(var i=-1,c=r.length,h=E(c),o=t==null;++i<c;)h[i]=o?e:rs(t,r[i]);return h}function jt(t,r,i){return t===t&&(i!==e&&(t=t<=i?t:i),r!==e&&(t=t>=r?t:r)),t}function ft(t,r,i,c,h,o){var d,_=r&m,y=r&T,I=r&A;if(i&&(d=h?i(t,c,h,o):i(t)),d!==e)return d;if(!Sn(t))return t;var b=Q(t);if(b){if(d=Dh(t),!_)return Hn(t,d)}else{var C=Fn(t),P=C==ke||C==vs;if(Kt(t))return Wc(t,_);if(C==Rt||C==se||P&&!h){if(d=y||P?{}:sa(t),!_)return y?Sh(t,X0(d,t)):Eh(t,_c(d,t))}else{if(!Mn[C])return h?t:{};d=Fh(t,C,_)}}o||(o=new dt);var N=o.get(t);if(N)return N;o.set(t,d),Pa(t)?t.forEach(function(Z){d.add(ft(Z,r,i,Z,t,o))}):Ca(t)&&t.forEach(function(Z,sn){d.set(sn,ft(Z,r,i,sn,t,o))});var Y=I?y?Gi:Hi:y?Yn:Cn,nn=b?e:Y(t);return st(nn||t,function(Z,sn){nn&&(sn=Z,Z=t[sn]),qe(d,sn,ft(Z,r,i,sn,t,o))}),d}function Q0(t){var r=Cn(t);return function(i){return xc(i,t,r)}}function xc(t,r,i){var c=i.length;if(t==null)return!c;for(t=vn(t);c--;){var h=i[c],o=r[h],d=t[h];if(d===e&&!(h in t)||!o(d))return!1}return!0}function vc(t,r,i){if(typeof t!="function")throw new ct(l);return He(function(){t.apply(e,i)},r)}function De(t,r,i,c){var h=-1,o=rr,d=!0,_=t.length,y=[],I=r.length;if(!_)return y;i&&(r=An(r,Jn(i))),c?(o=hi,d=!1):r.length>=a&&(o=Ie,d=!1,r=new kt(r));n:for(;++h<_;){var b=t[h],C=i==null?b:i(b);if(b=c||b!==0?b:0,d&&C===C){for(var P=I;P--;)if(r[P]===C)continue n;y.push(b)}else o(r,C,c)||y.push(b)}return y}var Gt=Zc(At),Mc=Zc(Si,!0);function J0(t,r){var i=!0;return Gt(t,function(c,h,o){return i=!!r(c,h,o),i}),i}function yr(t,r,i){for(var c=-1,h=t.length;++c<h;){var o=t[c],d=r(o);if(d!=null&&(_===e?d===d&&!kn(d):i(d,_)))var _=d,y=o}return y}function V0(t,r,i,c){var h=t.length;for(i=k(i),i<0&&(i=-i>h?0:h+i),c=c===e||c>h?h:k(c),c<0&&(c+=h),c=i>c?0:Da(c);i<c;)t[i++]=r;return t}function mc(t,r){var i=[];return Gt(t,function(c,h,o){r(c,h,o)&&i.push(c)}),i}function qn(t,r,i,c,h){var o=-1,d=t.length;for(i||(i=Bh),h||(h=[]);++o<d;){var _=t[o];r>0&&i(_)?r>1?qn(_,r-1,i,c,h):Wt(h,_):c||(h[h.length]=_)}return h}var Ei=$c(),yc=$c(!0);function At(t,r){return t&&Ei(t,r,Cn)}function Si(t,r){return t&&yc(t,r,Cn)}function wr(t,r){return Bt(r,function(i){return qt(t[i])})}function ne(t,r){r=Zt(r,t);for(var i=0,c=r.length;t!=null&&i<c;)t=t[St(r[i++])];return i&&i==c?t:e}function wc(t,r,i){var c=r(t);return Q(t)?c:Wt(c,i(t))}function Un(t){return t==null?t===e?S1:A1:Jt&&Jt in vn(t)?Oh(t):$h(t)}function Ti(t,r){return t>r}function k0(t,r){return t!=null&&_n.call(t,r)}function j0(t,r){return t!=null&&r in vn(t)}function nh(t,r,i){return t>=Dn(r,i)&&t<zn(r,i)}function Li(t,r,i){for(var c=i?hi:rr,h=t[0].length,o=t.length,d=o,_=E(o),y=1/0,I=[];d--;){var b=t[d];d&&r&&(b=An(b,Jn(r))),y=Dn(b.length,y),_[d]=!i&&(r||h>=120&&b.length>=120)?new kt(d&&b):e}b=t[0];var C=-1,P=_[0];n:for(;++C<h&&I.length<y;){var N=b[C],Y=r?r(N):N;if(N=i||N!==0?N:0,!(P?Ie(P,Y):c(I,Y,i))){for(d=o;--d;){var nn=_[d];if(!(nn?Ie(nn,Y):c(t[d],Y,i)))continue n}P&&P.push(Y),I.push(N)}}return I}function th(t,r,i,c){return At(t,function(h,o,d){r(c,i(h),o,d)}),c}function Fe(t,r,i){r=Zt(r,t),t=ha(t,r);var c=t==null?t:t[St(lt(r))];return c==null?e:Qn(c,t,i)}function Ac(t){return Tn(t)&&Un(t)==se}function eh(t){return Tn(t)&&Un(t)==Re}function rh(t){return Tn(t)&&Un(t)==Ae}function Ue(t,r,i,c,h){return t===r?!0:t==null||r==null||!Tn(t)&&!Tn(r)?t!==t&&r!==r:ih(t,r,i,c,Ue,h)}function ih(t,r,i,c,h,o){var d=Q(t),_=Q(r),y=d?Je:Fn(t),I=_?Je:Fn(r);y=y==se?Rt:y,I=I==se?Rt:I;var b=y==Rt,C=I==Rt,P=y==I;if(P&&Kt(t)){if(!Kt(r))return!1;d=!0,b=!1}if(P&&!b)return o||(o=new dt),d||Me(t)?ea(t,r,i,c,h,o):zh(t,r,y,i,c,h,o);if(!(i&w)){var N=b&&_n.call(t,"__wrapped__"),Y=C&&_n.call(r,"__wrapped__");if(N||Y){var nn=N?t.value():t,Z=Y?r.value():r;return o||(o=new dt),h(nn,Z,i,c,o)}}return P?(o||(o=new dt),Ch(t,r,i,c,h,o)):!1}function sh(t){return Tn(t)&&Fn(t)==ot}function Ri(t,r,i,c){var h=i.length,o=h,d=!c;if(t==null)return!o;for(t=vn(t);h--;){var _=i[h];if(d&&_[2]?_[1]!==t[_[0]]:!(_[0]in t))return!1}for(;++h<o;){_=i[h];var y=_[0],I=t[y],b=_[1];if(d&&_[2]){if(I===e&&!(y in t))return!1}else{var C=new dt;if(c)var P=c(I,b,y,t,r,C);if(!(P===e?Ue(b,I,w|S,c,C):P))return!1}}return!0}function Ec(t){if(!Sn(t)||Nh(t))return!1;var r=qt(t)?s0:X1;return r.test(ee(t))}function ch(t){return Tn(t)&&Un(t)==Se}function ah(t){return Tn(t)&&Fn(t)==pt}function fh(t){return Tn(t)&&Br(t.length)&&!!mn[Un(t)]}function Sc(t){return typeof t=="function"?t:t==null?Zn:typeof t=="object"?Q(t)?Rc(t[0],t[1]):Lc(t):Ka(t)}function Ii(t){if(!Ne(t))return u0(t);var r=[];for(var i in vn(t))_n.call(t,i)&&i!="constructor"&&r.push(i);return r}function hh(t){if(!Sn(t))return Zh(t);var r=Ne(t),i=[];for(var c in t)c=="constructor"&&(r||!_n.call(t,c))||i.push(c);return i}function bi(t,r){return t<r}function Tc(t,r){var i=-1,c=Gn(t)?E(t.length):[];return Gt(t,function(h,o,d){c[++i]=r(h,o,d)}),c}function Lc(t){var r=Zi(t);return r.length==1&&r[0][2]?aa(r[0][0],r[0][1]):function(i){return i===t||Ri(i,t,r)}}function Rc(t,r){return Ki(t)&&ca(r)?aa(St(t),r):function(i){var c=rs(i,t);return c===e&&c===r?is(i,t):Ue(r,c,w|S)}}function Ar(t,r,i,c,h){t!==r&&Ei(r,function(o,d){if(h||(h=new dt),Sn(o))lh(t,r,d,i,Ar,c,h);else{var _=c?c(Qi(t,d),o,d+"",t,r,h):e;_===e&&(_=o),wi(t,d,_)}},Yn)}function lh(t,r,i,c,h,o,d){var _=Qi(t,i),y=Qi(r,i),I=d.get(y);if(I){wi(t,i,I);return}var b=o?o(_,y,i+"",t,r,d):e,C=b===e;if(C){var P=Q(y),N=!P&&Kt(y),Y=!P&&!N&&Me(y);b=y,P||N||Y?Q(_)?b=_:Ln(_)?b=Hn(_):N?(C=!1,b=Wc(y,!0)):Y?(C=!1,b=Nc(y,!0)):b=[]:Ge(y)||re(y)?(b=_,re(_)?b=Fa(_):(!Sn(_)||qt(_))&&(b=sa(y))):C=!1}C&&(d.set(y,b),h(b,y,c,o,d),d.delete(y)),wi(t,i,b)}function Ic(t,r){var i=t.length;if(i)return r+=r<0?i:0,Pt(r,i)?t[r]:e}function bc(t,r,i){r.length?r=An(r,function(o){return Q(o)?function(d){return ne(d,o.length===1?o[0]:o)}:o}):r=[Zn];var c=-1;r=An(r,Jn(G()));var h=Tc(t,function(o,d,_){var y=An(r,function(I){return I(o)});return{criteria:y,index:++c,value:o}});return Ff(h,function(o,d){return Ah(o,d,i)})}function uh(t,r){return zc(t,r,function(i,c){return is(t,c)})}function zc(t,r,i){for(var c=-1,h=r.length,o={};++c<h;){var d=r[c],_=ne(t,d);i(_,d)&&Be(o,Zt(d,t),_)}return o}function oh(t){return function(r){return ne(r,t)}}function zi(t,r,i,c){var h=c?Df:fe,o=-1,d=r.length,_=t;for(t===r&&(r=Hn(r)),i&&(_=An(t,Jn(i)));++o<d;)for(var y=0,I=r[o],b=i?i(I):I;(y=h(_,b,y,c))>-1;)_!==t&&pr.call(_,y,1),pr.call(t,y,1);return t}function Cc(t,r){for(var i=t?r.length:0,c=i-1;i--;){var h=r[i];if(i==c||h!==o){var o=h;Pt(h)?pr.call(t,h,1):qi(t,h)}}return t}function Ci(t,r){return t+_r(oc()*(r-t+1))}function ph(t,r,i,c){for(var h=-1,o=zn(dr((r-t)/(i||1)),0),d=E(o);o--;)d[c?o:++h]=t,t+=i;return d}function Oi(t,r){var i="";if(!t||r<1||r>Nn)return i;do r%2&&(i+=t),r=_r(r/2),r&&(t+=t);while(r);return i}function rn(t,r){return Ji(fa(t,r,Zn),t+"")}function gh(t){return dc(me(t))}function dh(t,r){var i=me(t);return Or(i,jt(r,0,i.length))}function Be(t,r,i,c){if(!Sn(t))return t;r=Zt(r,t);for(var h=-1,o=r.length,d=o-1,_=t;_!=null&&++h<o;){var y=St(r[h]),I=i;if(y==="__proto__"||y==="constructor"||y==="prototype")return t;if(h!=d){var b=_[y];I=c?c(b,y,_):e,I===e&&(I=Sn(b)?b:Pt(r[h+1])?[]:{})}qe(_,y,I),_=_[y]}return t}var Oc=xr?function(t,r){return xr.set(t,r),t}:Zn,_h=gr?function(t,r){return gr(t,"toString",{configurable:!0,enumerable:!1,value:cs(r),writable:!0})}:Zn;function xh(t){return Or(me(t))}function ht(t,r,i){var c=-1,h=t.length;r<0&&(r=-r>h?0:h+r),i=i>h?h:i,i<0&&(i+=h),h=r>i?0:i-r>>>0,r>>>=0;for(var o=E(h);++c<h;)o[c]=t[c+r];return o}function vh(t,r){var i;return Gt(t,function(c,h,o){return i=r(c,h,o),!i}),!!i}function Er(t,r,i){var c=0,h=t==null?c:t.length;if(typeof r=="number"&&r===r&&h<=M1){for(;c<h;){var o=c+h>>>1,d=t[o];d!==null&&!kn(d)&&(i?d<=r:d<r)?c=o+1:h=o}return h}return Pi(t,r,Zn,i)}function Pi(t,r,i,c){var h=0,o=t==null?0:t.length;if(o===0)return 0;r=i(r);for(var d=r!==r,_=r===null,y=kn(r),I=r===e;h<o;){var b=_r((h+o)/2),C=i(t[b]),P=C!==e,N=C===null,Y=C===C,nn=kn(C);if(d)var Z=c||Y;else I?Z=Y&&(c||P):_?Z=Y&&P&&(c||!N):y?Z=Y&&P&&!N&&(c||!nn):N||nn?Z=!1:Z=c?C<=r:C<r;Z?h=b+1:o=b}return Dn(o,v1)}function Pc(t,r){for(var i=-1,c=t.length,h=0,o=[];++i<c;){var d=t[i],_=r?r(d):d;if(!i||!_t(_,y)){var y=_;o[h++]=d===0?0:d}}return o}function qc(t){return typeof t=="number"?t:kn(t)?Xt:+t}function Vn(t){if(typeof t=="string")return t;if(Q(t))return An(t,Vn)+"";if(kn(t))return pc?pc.call(t):"";var r=t+"";return r=="0"&&1/t==-Xn?"-0":r}function Yt(t,r,i){var c=-1,h=rr,o=t.length,d=!0,_=[],y=_;if(i)d=!1,h=hi;else if(o>=a){var I=r?null:Ih(t);if(I)return sr(I);d=!1,h=Ie,y=new kt}else y=r?[]:_;n:for(;++c<o;){var b=t[c],C=r?r(b):b;if(b=i||b!==0?b:0,d&&C===C){for(var P=y.length;P--;)if(y[P]===C)continue n;r&&y.push(C),_.push(b)}else h(y,C,i)||(y!==_&&y.push(C),_.push(b))}return _}function qi(t,r){return r=Zt(r,t),t=ha(t,r),t==null||delete t[St(lt(r))]}function Dc(t,r,i,c){return Be(t,r,i(ne(t,r)),c)}function Sr(t,r,i,c){for(var h=t.length,o=c?h:-1;(c?o--:++o<h)&&r(t[o],o,t););return i?ht(t,c?0:o,c?o+1:h):ht(t,c?o+1:0,c?h:o)}function Fc(t,r){var i=t;return i instanceof cn&&(i=i.value()),li(r,function(c,h){return h.func.apply(h.thisArg,Wt([c],h.args))},i)}function Di(t,r,i){var c=t.length;if(c<2)return c?Yt(t[0]):[];for(var h=-1,o=E(c);++h<c;)for(var d=t[h],_=-1;++_<c;)_!=h&&(o[h]=De(o[h]||d,t[_],r,i));return Yt(qn(o,1),r,i)}function Uc(t,r,i){for(var c=-1,h=t.length,o=r.length,d={};++c<h;){var _=c<o?r[c]:e;i(d,t[c],_)}return d}function Fi(t){return Ln(t)?t:[]}function Ui(t){return typeof t=="function"?t:Zn}function Zt(t,r){return Q(t)?t:Ki(t,r)?[t]:pa(gn(t))}var Mh=rn;function $t(t,r,i){var c=t.length;return i=i===e?c:i,!r&&i>=c?t:ht(t,r,i)}var Bc=c0||function(t){return Pn.clearTimeout(t)};function Wc(t,r){if(r)return t.slice();var i=t.length,c=ac?ac(i):new t.constructor(i);return t.copy(c),c}function Bi(t){var r=new t.constructor(t.byteLength);return new ur(r).set(new ur(t)),r}function mh(t,r){var i=r?Bi(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.byteLength)}function yh(t){var r=new t.constructor(t.source,As.exec(t));return r.lastIndex=t.lastIndex,r}function wh(t){return Pe?vn(Pe.call(t)):{}}function Nc(t,r){var i=r?Bi(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}function Hc(t,r){if(t!==r){var i=t!==e,c=t===null,h=t===t,o=kn(t),d=r!==e,_=r===null,y=r===r,I=kn(r);if(!_&&!I&&!o&&t>r||o&&d&&y&&!_&&!I||c&&d&&y||!i&&y||!h)return 1;if(!c&&!o&&!I&&t<r||I&&i&&h&&!c&&!o||_&&i&&h||!d&&h||!y)return-1}return 0}function Ah(t,r,i){for(var c=-1,h=t.criteria,o=r.criteria,d=h.length,_=i.length;++c<d;){var y=Hc(h[c],o[c]);if(y){if(c>=_)return y;var I=i[c];return y*(I=="desc"?-1:1)}}return t.index-r.index}function Gc(t,r,i,c){for(var h=-1,o=t.length,d=i.length,_=-1,y=r.length,I=zn(o-d,0),b=E(y+I),C=!c;++_<y;)b[_]=r[_];for(;++h<d;)(C||h<o)&&(b[i[h]]=t[h]);for(;I--;)b[_++]=t[h++];return b}function Yc(t,r,i,c){for(var h=-1,o=t.length,d=-1,_=i.length,y=-1,I=r.length,b=zn(o-_,0),C=E(b+I),P=!c;++h<b;)C[h]=t[h];for(var N=h;++y<I;)C[N+y]=r[y];for(;++d<_;)(P||h<o)&&(C[N+i[d]]=t[h++]);return C}function Hn(t,r){var i=-1,c=t.length;for(r||(r=E(c));++i<c;)r[i]=t[i];return r}function Et(t,r,i,c){var h=!i;i||(i={});for(var o=-1,d=r.length;++o<d;){var _=r[o],y=c?c(i[_],t[_],_,i,t):e;y===e&&(y=t[_]),h?zt(i,_,y):qe(i,_,y)}return i}function Eh(t,r){return Et(t,$i(t),r)}function Sh(t,r){return Et(t,ra(t),r)}function Tr(t,r){return function(i,c){var h=Q(i)?bf:K0,o=r?r():{};return h(i,t,G(c,2),o)}}function _e(t){return rn(function(r,i){var c=-1,h=i.length,o=h>1?i[h-1]:e,d=h>2?i[2]:e;for(o=t.length>3&&typeof o=="function"?(h--,o):e,d&&Bn(i[0],i[1],d)&&(o=h<3?e:o,h=1),r=vn(r);++c<h;){var _=i[c];_&&t(r,_,c,o)}return r})}function Zc(t,r){return function(i,c){if(i==null)return i;if(!Gn(i))return t(i,c);for(var h=i.length,o=r?h:-1,d=vn(i);(r?o--:++o<h)&&c(d[o],o,d)!==!1;);return i}}function $c(t){return function(r,i,c){for(var h=-1,o=vn(r),d=c(r),_=d.length;_--;){var y=d[t?_:++h];if(i(o[y],y,o)===!1)break}return r}}function Th(t,r,i){var c=r&R,h=We(t);function o(){var d=this&&this!==Pn&&this instanceof o?h:t;return d.apply(c?i:this,arguments)}return o}function Kc(t){return function(r){r=gn(r);var i=he(r)?gt(r):e,c=i?i[0]:r.charAt(0),h=i?$t(i,1).join(""):r.slice(1);return c[t]()+h}}function xe(t){return function(r){return li(Za(Ya(r).replace(_f,"")),t,"")}}function We(t){return function(){var r=arguments;switch(r.length){case 0:return new t;case 1:return new t(r[0]);case 2:return new t(r[0],r[1]);case 3:return new t(r[0],r[1],r[2]);case 4:return new t(r[0],r[1],r[2],r[3]);case 5:return new t(r[0],r[1],r[2],r[3],r[4]);case 6:return new t(r[0],r[1],r[2],r[3],r[4],r[5]);case 7:return new t(r[0],r[1],r[2],r[3],r[4],r[5],r[6])}var i=de(t.prototype),c=t.apply(i,r);return Sn(c)?c:i}}function Lh(t,r,i){var c=We(t);function h(){for(var o=arguments.length,d=E(o),_=o,y=ve(h);_--;)d[_]=arguments[_];var I=o<3&&d[0]!==y&&d[o-1]!==y?[]:Nt(d,y);if(o-=I.length,o<i)return kc(t,r,Lr,h.placeholder,e,d,I,e,e,i-o);var b=this&&this!==Pn&&this instanceof h?c:t;return Qn(b,this,d)}return h}function Xc(t){return function(r,i,c){var h=vn(r);if(!Gn(r)){var o=G(i,3);r=Cn(r),i=function(_){return o(h[_],_,h)}}var d=t(r,i,c);return d>-1?h[o?r[d]:d]:e}}function Qc(t){return Ot(function(r){var i=r.length,c=i,h=at.prototype.thru;for(t&&r.reverse();c--;){var o=r[c];if(typeof o!="function")throw new ct(l);if(h&&!d&&zr(o)=="wrapper")var d=new at([],!0)}for(c=d?c:i;++c<i;){o=r[c];var _=zr(o),y=_=="wrapper"?Yi(o):e;y&&Xi(y[0])&&y[1]==(q|W|O|en)&&!y[4].length&&y[9]==1?d=d[zr(y[0])].apply(d,y[3]):d=o.length==1&&Xi(o)?d[_]():d.thru(o)}return function(){var I=arguments,b=I[0];if(d&&I.length==1&&Q(b))return d.plant(b).value();for(var C=0,P=i?r[C].apply(this,I):b;++C<i;)P=r[C].call(this,P);return P}})}function Lr(t,r,i,c,h,o,d,_,y,I){var b=r&q,C=r&R,P=r&z,N=r&(W|F),Y=r&j,nn=P?e:We(t);function Z(){for(var sn=arguments.length,fn=E(sn),jn=sn;jn--;)fn[jn]=arguments[jn];if(N)var Wn=ve(Z),nt=Bf(fn,Wn);if(c&&(fn=Gc(fn,c,h,N)),o&&(fn=Yc(fn,o,d,N)),sn-=nt,N&&sn<I){var Rn=Nt(fn,Wn);return kc(t,r,Lr,Z.placeholder,i,fn,Rn,_,y,I-sn)}var xt=C?i:this,Ft=P?xt[t]:t;return sn=fn.length,_?fn=Kh(fn,_):Y&&sn>1&&fn.reverse(),b&&y<sn&&(fn.length=y),this&&this!==Pn&&this instanceof Z&&(Ft=nn||We(Ft)),Ft.apply(xt,fn)}return Z}function Jc(t,r){return function(i,c){return th(i,t,r(c),{})}}function Rr(t,r){return function(i,c){var h;if(i===e&&c===e)return r;if(i!==e&&(h=i),c!==e){if(h===e)return c;typeof i=="string"||typeof c=="string"?(i=Vn(i),c=Vn(c)):(i=qc(i),c=qc(c)),h=t(i,c)}return h}}function Wi(t){return Ot(function(r){return r=An(r,Jn(G())),rn(function(i){var c=this;return t(r,function(h){return Qn(h,c,i)})})})}function Ir(t,r){r=r===e?" ":Vn(r);var i=r.length;if(i<2)return i?Oi(r,t):r;var c=Oi(r,dr(t/le(r)));return he(r)?$t(gt(c),0,t).join(""):c.slice(0,t)}function Rh(t,r,i,c){var h=r&R,o=We(t);function d(){for(var _=-1,y=arguments.length,I=-1,b=c.length,C=E(b+y),P=this&&this!==Pn&&this instanceof d?o:t;++I<b;)C[I]=c[I];for(;y--;)C[I++]=arguments[++_];return Qn(P,h?i:this,C)}return d}function Vc(t){return function(r,i,c){return c&&typeof c!="number"&&Bn(r,i,c)&&(i=c=e),r=Dt(r),i===e?(i=r,r=0):i=Dt(i),c=c===e?r<i?1:-1:Dt(c),ph(r,i,c,t)}}function br(t){return function(r,i){return typeof r=="string"&&typeof i=="string"||(r=ut(r),i=ut(i)),t(r,i)}}function kc(t,r,i,c,h,o,d,_,y,I){var b=r&W,C=b?d:e,P=b?e:d,N=b?o:e,Y=b?e:o;r|=b?O:U,r&=~(b?U:O),r&D||(r&=~(R|z));var nn=[t,r,h,N,C,Y,P,_,y,I],Z=i.apply(e,nn);return Xi(t)&&la(Z,nn),Z.placeholder=c,ua(Z,t,r)}function Ni(t){var r=bn[t];return function(i,c){if(i=ut(i),c=c==null?0:Dn(k(c),292),c&&uc(i)){var h=(gn(i)+"e").split("e"),o=r(h[0]+"e"+(+h[1]+c));return h=(gn(o)+"e").split("e"),+(h[0]+"e"+(+h[1]-c))}return r(i)}}var Ih=pe&&1/sr(new pe([,-0]))[1]==Xn?function(t){return new pe(t)}:hs;function jc(t){return function(r){var i=Fn(r);return i==ot?xi(r):i==pt?$f(r):Uf(r,t(r))}}function Ct(t,r,i,c,h,o,d,_){var y=r&z;if(!y&&typeof t!="function")throw new ct(l);var I=c?c.length:0;if(I||(r&=~(O|U),c=h=e),d=d===e?d:zn(k(d),0),_=_===e?_:k(_),I-=h?h.length:0,r&U){var b=c,C=h;c=h=e}var P=y?e:Yi(t),N=[t,r,i,c,h,b,C,o,d,_];if(P&&Yh(N,P),t=N[0],r=N[1],i=N[2],c=N[3],h=N[4],_=N[9]=N[9]===e?y?0:t.length:zn(N[9]-I,0),!_&&r&(W|F)&&(r&=~(W|F)),!r||r==R)var Y=Th(t,r,i);else r==W||r==F?Y=Lh(t,r,_):(r==O||r==(R|O))&&!h.length?Y=Rh(t,r,i,c):Y=Lr.apply(e,N);var nn=P?Oc:la;return ua(nn(Y,N),t,r)}function na(t,r,i,c){return t===e||_t(t,oe[i])&&!_n.call(c,i)?r:t}function ta(t,r,i,c,h,o){return Sn(t)&&Sn(r)&&(o.set(r,t),Ar(t,r,e,ta,o),o.delete(r)),t}function bh(t){return Ge(t)?e:t}function ea(t,r,i,c,h,o){var d=i&w,_=t.length,y=r.length;if(_!=y&&!(d&&y>_))return!1;var I=o.get(t),b=o.get(r);if(I&&b)return I==r&&b==t;var C=-1,P=!0,N=i&S?new kt:e;for(o.set(t,r),o.set(r,t);++C<_;){var Y=t[C],nn=r[C];if(c)var Z=d?c(nn,Y,C,r,t,o):c(Y,nn,C,t,r,o);if(Z!==e){if(Z)continue;P=!1;break}if(N){if(!ui(r,function(sn,fn){if(!Ie(N,fn)&&(Y===sn||h(Y,sn,i,c,o)))return N.push(fn)})){P=!1;break}}else if(!(Y===nn||h(Y,nn,i,c,o))){P=!1;break}}return o.delete(t),o.delete(r),P}function zh(t,r,i,c,h,o,d){switch(i){case ce:if(t.byteLength!=r.byteLength||t.byteOffset!=r.byteOffset)return!1;t=t.buffer,r=r.buffer;case Re:return!(t.byteLength!=r.byteLength||!o(new ur(t),new ur(r)));case we:case Ae:case Ee:return _t(+t,+r);case Ve:return t.name==r.name&&t.message==r.message;case Se:case Te:return t==r+"";case ot:var _=xi;case pt:var y=c&w;if(_||(_=sr),t.size!=r.size&&!y)return!1;var I=d.get(t);if(I)return I==r;c|=S,d.set(t,r);var b=ea(_(t),_(r),c,h,o,d);return d.delete(t),b;case je:if(Pe)return Pe.call(t)==Pe.call(r)}return!1}function Ch(t,r,i,c,h,o){var d=i&w,_=Hi(t),y=_.length,I=Hi(r),b=I.length;if(y!=b&&!d)return!1;for(var C=y;C--;){var P=_[C];if(!(d?P in r:_n.call(r,P)))return!1}var N=o.get(t),Y=o.get(r);if(N&&Y)return N==r&&Y==t;var nn=!0;o.set(t,r),o.set(r,t);for(var Z=d;++C<y;){P=_[C];var sn=t[P],fn=r[P];if(c)var jn=d?c(fn,sn,P,r,t,o):c(sn,fn,P,t,r,o);if(!(jn===e?sn===fn||h(sn,fn,i,c,o):jn)){nn=!1;break}Z||(Z=P=="constructor")}if(nn&&!Z){var Wn=t.constructor,nt=r.constructor;Wn!=nt&&"constructor"in t&&"constructor"in r&&!(typeof Wn=="function"&&Wn instanceof Wn&&typeof nt=="function"&&nt instanceof nt)&&(nn=!1)}return o.delete(t),o.delete(r),nn}function Ot(t){return Ji(fa(t,e,xa),t+"")}function Hi(t){return wc(t,Cn,$i)}function Gi(t){return wc(t,Yn,ra)}var Yi=xr?function(t){return xr.get(t)}:hs;function zr(t){for(var r=t.name+"",i=ge[r],c=_n.call(ge,r)?i.length:0;c--;){var h=i[c],o=h.func;if(o==null||o==t)return h.name}return r}function ve(t){var r=_n.call(u,"placeholder")?u:t;return r.placeholder}function G(){var t=u.iteratee||as;return t=t===as?Sc:t,arguments.length?t(arguments[0],arguments[1]):t}function Cr(t,r){var i=t.__data__;return Wh(r)?i[typeof r=="string"?"string":"hash"]:i.map}function Zi(t){for(var r=Cn(t),i=r.length;i--;){var c=r[i],h=t[c];r[i]=[c,h,ca(h)]}return r}function te(t,r){var i=Gf(t,r);return Ec(i)?i:e}function Oh(t){var r=_n.call(t,Jt),i=t[Jt];try{t[Jt]=e;var c=!0}catch{}var h=hr.call(t);return c&&(r?t[Jt]=i:delete t[Jt]),h}var $i=Mi?function(t){return t==null?[]:(t=vn(t),Bt(Mi(t),function(r){return hc.call(t,r)}))}:ls,ra=Mi?function(t){for(var r=[];t;)Wt(r,$i(t)),t=or(t);return r}:ls,Fn=Un;(mi&&Fn(new mi(new ArrayBuffer(1)))!=ce||ze&&Fn(new ze)!=ot||yi&&Fn(yi.resolve())!=Ms||pe&&Fn(new pe)!=pt||Ce&&Fn(new Ce)!=Le)&&(Fn=function(t){var r=Un(t),i=r==Rt?t.constructor:e,c=i?ee(i):"";if(c)switch(c){case d0:return ce;case _0:return ot;case x0:return Ms;case v0:return pt;case M0:return Le}return r});function Ph(t,r,i){for(var c=-1,h=i.length;++c<h;){var o=i[c],d=o.size;switch(o.type){case"drop":t+=d;break;case"dropRight":r-=d;break;case"take":r=Dn(r,t+d);break;case"takeRight":t=zn(t,r-d);break}}return{start:t,end:r}}function qh(t){var r=t.match(W1);return r?r[1].split(N1):[]}function ia(t,r,i){r=Zt(r,t);for(var c=-1,h=r.length,o=!1;++c<h;){var d=St(r[c]);if(!(o=t!=null&&i(t,d)))break;t=t[d]}return o||++c!=h?o:(h=t==null?0:t.length,!!h&&Br(h)&&Pt(d,h)&&(Q(t)||re(t)))}function Dh(t){var r=t.length,i=new t.constructor(r);return r&&typeof t[0]=="string"&&_n.call(t,"index")&&(i.index=t.index,i.input=t.input),i}function sa(t){return typeof t.constructor=="function"&&!Ne(t)?de(or(t)):{}}function Fh(t,r,i){var c=t.constructor;switch(r){case Re:return Bi(t);case we:case Ae:return new c(+t);case ce:return mh(t,i);case Zr:case $r:case Kr:case Xr:case Qr:case Jr:case Vr:case kr:case jr:return Nc(t,i);case ot:return new c;case Ee:case Te:return new c(t);case Se:return yh(t);case pt:return new c;case je:return wh(t)}}function Uh(t,r){var i=r.length;if(!i)return t;var c=i-1;return r[c]=(i>1?"& ":"")+r[c],r=r.join(i>2?", ":" "),t.replace(B1,`{
/* [wrapped with `+r+`] */
`)}function Bh(t){return Q(t)||re(t)||!!(lc&&t&&t[lc])}function Pt(t,r){var i=typeof t;return r=r??Nn,!!r&&(i=="number"||i!="symbol"&&J1.test(t))&&t>-1&&t%1==0&&t<r}function Bn(t,r,i){if(!Sn(i))return!1;var c=typeof r;return(c=="number"?Gn(i)&&Pt(r,i.length):c=="string"&&r in i)?_t(i[r],t):!1}function Ki(t,r){if(Q(t))return!1;var i=typeof t;return i=="number"||i=="symbol"||i=="boolean"||t==null||kn(t)?!0:q1.test(t)||!P1.test(t)||r!=null&&t in vn(r)}function Wh(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}function Xi(t){var r=zr(t),i=u[r];if(typeof i!="function"||!(r in cn.prototype))return!1;if(t===i)return!0;var c=Yi(i);return!!c&&t===c[0]}function Nh(t){return!!cc&&cc in t}var Hh=ar?qt:us;function Ne(t){var r=t&&t.constructor,i=typeof r=="function"&&r.prototype||oe;return t===i}function ca(t){return t===t&&!Sn(t)}function aa(t,r){return function(i){return i==null?!1:i[t]===r&&(r!==e||t in vn(i))}}function Gh(t){var r=Fr(t,function(c){return i.size===x&&i.clear(),c}),i=r.cache;return r}function Yh(t,r){var i=t[1],c=r[1],h=i|c,o=h<(R|z|q),d=c==q&&i==W||c==q&&i==en&&t[7].length<=r[8]||c==(q|en)&&r[7].length<=r[8]&&i==W;if(!(o||d))return t;c&R&&(t[2]=r[2],h|=i&R?0:D);var _=r[3];if(_){var y=t[3];t[3]=y?Gc(y,_,r[4]):_,t[4]=y?Nt(t[3],v):r[4]}return _=r[5],_&&(y=t[5],t[5]=y?Yc(y,_,r[6]):_,t[6]=y?Nt(t[5],v):r[6]),_=r[7],_&&(t[7]=_),c&q&&(t[8]=t[8]==null?r[8]:Dn(t[8],r[8])),t[9]==null&&(t[9]=r[9]),t[0]=r[0],t[1]=h,t}function Zh(t){var r=[];if(t!=null)for(var i in vn(t))r.push(i);return r}function $h(t){return hr.call(t)}function fa(t,r,i){return r=zn(r===e?t.length-1:r,0),function(){for(var c=arguments,h=-1,o=zn(c.length-r,0),d=E(o);++h<o;)d[h]=c[r+h];h=-1;for(var _=E(r+1);++h<r;)_[h]=c[h];return _[r]=i(d),Qn(t,this,_)}}function ha(t,r){return r.length<2?t:ne(t,ht(r,0,-1))}function Kh(t,r){for(var i=t.length,c=Dn(r.length,i),h=Hn(t);c--;){var o=r[c];t[c]=Pt(o,i)?h[o]:e}return t}function Qi(t,r){if(!(r==="constructor"&&typeof t[r]=="function")&&r!="__proto__")return t[r]}var la=oa(Oc),He=f0||function(t,r){return Pn.setTimeout(t,r)},Ji=oa(_h);function ua(t,r,i){var c=r+"";return Ji(t,Uh(c,Xh(qh(c),i)))}function oa(t){var r=0,i=0;return function(){var c=o0(),h=dn-(c-i);if(i=c,h>0){if(++r>=xn)return arguments[0]}else r=0;return t.apply(e,arguments)}}function Or(t,r){var i=-1,c=t.length,h=c-1;for(r=r===e?c:r;++i<r;){var o=Ci(i,h),d=t[o];t[o]=t[i],t[i]=d}return t.length=r,t}var pa=Gh(function(t){var r=[];return t.charCodeAt(0)===46&&r.push(""),t.replace(D1,function(i,c,h,o){r.push(h?o.replace(Y1,"$1"):c||i)}),r});function St(t){if(typeof t=="string"||kn(t))return t;var r=t+"";return r=="0"&&1/t==-Xn?"-0":r}function ee(t){if(t!=null){try{return fr.call(t)}catch{}try{return t+""}catch{}}return""}function Xh(t,r){return st(m1,function(i){var c="_."+i[0];r&i[1]&&!rr(t,c)&&t.push(c)}),t.sort()}function ga(t){if(t instanceof cn)return t.clone();var r=new at(t.__wrapped__,t.__chain__);return r.__actions__=Hn(t.__actions__),r.__index__=t.__index__,r.__values__=t.__values__,r}function Qh(t,r,i){(i?Bn(t,r,i):r===e)?r=1:r=zn(k(r),0);var c=t==null?0:t.length;if(!c||r<1)return[];for(var h=0,o=0,d=E(dr(c/r));h<c;)d[o++]=ht(t,h,h+=r);return d}function Jh(t){for(var r=-1,i=t==null?0:t.length,c=0,h=[];++r<i;){var o=t[r];o&&(h[c++]=o)}return h}function Vh(){var t=arguments.length;if(!t)return[];for(var r=E(t-1),i=arguments[0],c=t;c--;)r[c-1]=arguments[c];return Wt(Q(i)?Hn(i):[i],qn(r,1))}var kh=rn(function(t,r){return Ln(t)?De(t,qn(r,1,Ln,!0)):[]}),jh=rn(function(t,r){var i=lt(r);return Ln(i)&&(i=e),Ln(t)?De(t,qn(r,1,Ln,!0),G(i,2)):[]}),nl=rn(function(t,r){var i=lt(r);return Ln(i)&&(i=e),Ln(t)?De(t,qn(r,1,Ln,!0),e,i):[]});function tl(t,r,i){var c=t==null?0:t.length;return c?(r=i||r===e?1:k(r),ht(t,r<0?0:r,c)):[]}function el(t,r,i){var c=t==null?0:t.length;return c?(r=i||r===e?1:k(r),r=c-r,ht(t,0,r<0?0:r)):[]}function rl(t,r){return t&&t.length?Sr(t,G(r,3),!0,!0):[]}function il(t,r){return t&&t.length?Sr(t,G(r,3),!0):[]}function sl(t,r,i,c){var h=t==null?0:t.length;return h?(i&&typeof i!="number"&&Bn(t,r,i)&&(i=0,c=h),V0(t,r,i,c)):[]}function da(t,r,i){var c=t==null?0:t.length;if(!c)return-1;var h=i==null?0:k(i);return h<0&&(h=zn(c+h,0)),ir(t,G(r,3),h)}function _a(t,r,i){var c=t==null?0:t.length;if(!c)return-1;var h=c-1;return i!==e&&(h=k(i),h=i<0?zn(c+h,0):Dn(h,c-1)),ir(t,G(r,3),h,!0)}function xa(t){var r=t==null?0:t.length;return r?qn(t,1):[]}function cl(t){var r=t==null?0:t.length;return r?qn(t,Xn):[]}function al(t,r){var i=t==null?0:t.length;return i?(r=r===e?1:k(r),qn(t,r)):[]}function fl(t){for(var r=-1,i=t==null?0:t.length,c={};++r<i;){var h=t[r];c[h[0]]=h[1]}return c}function va(t){return t&&t.length?t[0]:e}function hl(t,r,i){var c=t==null?0:t.length;if(!c)return-1;var h=i==null?0:k(i);return h<0&&(h=zn(c+h,0)),fe(t,r,h)}function ll(t){var r=t==null?0:t.length;return r?ht(t,0,-1):[]}var ul=rn(function(t){var r=An(t,Fi);return r.length&&r[0]===t[0]?Li(r):[]}),ol=rn(function(t){var r=lt(t),i=An(t,Fi);return r===lt(i)?r=e:i.pop(),i.length&&i[0]===t[0]?Li(i,G(r,2)):[]}),pl=rn(function(t){var r=lt(t),i=An(t,Fi);return r=typeof r=="function"?r:e,r&&i.pop(),i.length&&i[0]===t[0]?Li(i,e,r):[]});function gl(t,r){return t==null?"":l0.call(t,r)}function lt(t){var r=t==null?0:t.length;return r?t[r-1]:e}function dl(t,r,i){var c=t==null?0:t.length;if(!c)return-1;var h=c;return i!==e&&(h=k(i),h=h<0?zn(c+h,0):Dn(h,c-1)),r===r?Xf(t,r,h):ir(t,ks,h,!0)}function _l(t,r){return t&&t.length?Ic(t,k(r)):e}var xl=rn(Ma);function Ma(t,r){return t&&t.length&&r&&r.length?zi(t,r):t}function vl(t,r,i){return t&&t.length&&r&&r.length?zi(t,r,G(i,2)):t}function Ml(t,r,i){return t&&t.length&&r&&r.length?zi(t,r,e,i):t}var ml=Ot(function(t,r){var i=t==null?0:t.length,c=Ai(t,r);return Cc(t,An(r,function(h){return Pt(h,i)?+h:h}).sort(Hc)),c});function yl(t,r){var i=[];if(!(t&&t.length))return i;var c=-1,h=[],o=t.length;for(r=G(r,3);++c<o;){var d=t[c];r(d,c,t)&&(i.push(d),h.push(c))}return Cc(t,h),i}function Vi(t){return t==null?t:g0.call(t)}function wl(t,r,i){var c=t==null?0:t.length;return c?(i&&typeof i!="number"&&Bn(t,r,i)?(r=0,i=c):(r=r==null?0:k(r),i=i===e?c:k(i)),ht(t,r,i)):[]}function Al(t,r){return Er(t,r)}function El(t,r,i){return Pi(t,r,G(i,2))}function Sl(t,r){var i=t==null?0:t.length;if(i){var c=Er(t,r);if(c<i&&_t(t[c],r))return c}return-1}function Tl(t,r){return Er(t,r,!0)}function Ll(t,r,i){return Pi(t,r,G(i,2),!0)}function Rl(t,r){var i=t==null?0:t.length;if(i){var c=Er(t,r,!0)-1;if(_t(t[c],r))return c}return-1}function Il(t){return t&&t.length?Pc(t):[]}function bl(t,r){return t&&t.length?Pc(t,G(r,2)):[]}function zl(t){var r=t==null?0:t.length;return r?ht(t,1,r):[]}function Cl(t,r,i){return t&&t.length?(r=i||r===e?1:k(r),ht(t,0,r<0?0:r)):[]}function Ol(t,r,i){var c=t==null?0:t.length;return c?(r=i||r===e?1:k(r),r=c-r,ht(t,r<0?0:r,c)):[]}function Pl(t,r){return t&&t.length?Sr(t,G(r,3),!1,!0):[]}function ql(t,r){return t&&t.length?Sr(t,G(r,3)):[]}var Dl=rn(function(t){return Yt(qn(t,1,Ln,!0))}),Fl=rn(function(t){var r=lt(t);return Ln(r)&&(r=e),Yt(qn(t,1,Ln,!0),G(r,2))}),Ul=rn(function(t){var r=lt(t);return r=typeof r=="function"?r:e,Yt(qn(t,1,Ln,!0),e,r)});function Bl(t){return t&&t.length?Yt(t):[]}function Wl(t,r){return t&&t.length?Yt(t,G(r,2)):[]}function Nl(t,r){return r=typeof r=="function"?r:e,t&&t.length?Yt(t,e,r):[]}function ki(t){if(!(t&&t.length))return[];var r=0;return t=Bt(t,function(i){if(Ln(i))return r=zn(i.length,r),!0}),di(r,function(i){return An(t,oi(i))})}function ma(t,r){if(!(t&&t.length))return[];var i=ki(t);return r==null?i:An(i,function(c){return Qn(r,e,c)})}var Hl=rn(function(t,r){return Ln(t)?De(t,r):[]}),Gl=rn(function(t){return Di(Bt(t,Ln))}),Yl=rn(function(t){var r=lt(t);return Ln(r)&&(r=e),Di(Bt(t,Ln),G(r,2))}),Zl=rn(function(t){var r=lt(t);return r=typeof r=="function"?r:e,Di(Bt(t,Ln),e,r)}),$l=rn(ki);function Kl(t,r){return Uc(t||[],r||[],qe)}function Xl(t,r){return Uc(t||[],r||[],Be)}var Ql=rn(function(t){var r=t.length,i=r>1?t[r-1]:e;return i=typeof i=="function"?(t.pop(),i):e,ma(t,i)});function ya(t){var r=u(t);return r.__chain__=!0,r}function Jl(t,r){return r(t),t}function Pr(t,r){return r(t)}var Vl=Ot(function(t){var r=t.length,i=r?t[0]:0,c=this.__wrapped__,h=function(o){return Ai(o,t)};return r>1||this.__actions__.length||!(c instanceof cn)||!Pt(i)?this.thru(h):(c=c.slice(i,+i+(r?1:0)),c.__actions__.push({func:Pr,args:[h],thisArg:e}),new at(c,this.__chain__).thru(function(o){return r&&!o.length&&o.push(e),o}))});function kl(){return ya(this)}function jl(){return new at(this.value(),this.__chain__)}function nu(){this.__values__===e&&(this.__values__=qa(this.value()));var t=this.__index__>=this.__values__.length,r=t?e:this.__values__[this.__index__++];return{done:t,value:r}}function tu(){return this}function eu(t){for(var r,i=this;i instanceof Mr;){var c=ga(i);c.__index__=0,c.__values__=e,r?h.__wrapped__=c:r=c;var h=c;i=i.__wrapped__}return h.__wrapped__=t,r}function ru(){var t=this.__wrapped__;if(t instanceof cn){var r=t;return this.__actions__.length&&(r=new cn(this)),r=r.reverse(),r.__actions__.push({func:Pr,args:[Vi],thisArg:e}),new at(r,this.__chain__)}return this.thru(Vi)}function iu(){return Fc(this.__wrapped__,this.__actions__)}var su=Tr(function(t,r,i){_n.call(t,i)?++t[i]:zt(t,i,1)});function cu(t,r,i){var c=Q(t)?Js:J0;return i&&Bn(t,r,i)&&(r=e),c(t,G(r,3))}function au(t,r){var i=Q(t)?Bt:mc;return i(t,G(r,3))}var fu=Xc(da),hu=Xc(_a);function lu(t,r){return qn(qr(t,r),1)}function uu(t,r){return qn(qr(t,r),Xn)}function ou(t,r,i){return i=i===e?1:k(i),qn(qr(t,r),i)}function wa(t,r){var i=Q(t)?st:Gt;return i(t,G(r,3))}function Aa(t,r){var i=Q(t)?zf:Mc;return i(t,G(r,3))}var pu=Tr(function(t,r,i){_n.call(t,i)?t[i].push(r):zt(t,i,[r])});function gu(t,r,i,c){t=Gn(t)?t:me(t),i=i&&!c?k(i):0;var h=t.length;return i<0&&(i=zn(h+i,0)),Wr(t)?i<=h&&t.indexOf(r,i)>-1:!!h&&fe(t,r,i)>-1}var du=rn(function(t,r,i){var c=-1,h=typeof r=="function",o=Gn(t)?E(t.length):[];return Gt(t,function(d){o[++c]=h?Qn(r,d,i):Fe(d,r,i)}),o}),_u=Tr(function(t,r,i){zt(t,i,r)});function qr(t,r){var i=Q(t)?An:Tc;return i(t,G(r,3))}function xu(t,r,i,c){return t==null?[]:(Q(r)||(r=r==null?[]:[r]),i=c?e:i,Q(i)||(i=i==null?[]:[i]),bc(t,r,i))}var vu=Tr(function(t,r,i){t[i?0:1].push(r)},function(){return[[],[]]});function Mu(t,r,i){var c=Q(t)?li:nc,h=arguments.length<3;return c(t,G(r,4),i,h,Gt)}function mu(t,r,i){var c=Q(t)?Cf:nc,h=arguments.length<3;return c(t,G(r,4),i,h,Mc)}function yu(t,r){var i=Q(t)?Bt:mc;return i(t,Ur(G(r,3)))}function wu(t){var r=Q(t)?dc:gh;return r(t)}function Au(t,r,i){(i?Bn(t,r,i):r===e)?r=1:r=k(r);var c=Q(t)?Z0:dh;return c(t,r)}function Eu(t){var r=Q(t)?$0:xh;return r(t)}function Su(t){if(t==null)return 0;if(Gn(t))return Wr(t)?le(t):t.length;var r=Fn(t);return r==ot||r==pt?t.size:Ii(t).length}function Tu(t,r,i){var c=Q(t)?ui:vh;return i&&Bn(t,r,i)&&(r=e),c(t,G(r,3))}var Lu=rn(function(t,r){if(t==null)return[];var i=r.length;return i>1&&Bn(t,r[0],r[1])?r=[]:i>2&&Bn(r[0],r[1],r[2])&&(r=[r[0]]),bc(t,qn(r,1),[])}),Dr=a0||function(){return Pn.Date.now()};function Ru(t,r){if(typeof r!="function")throw new ct(l);return t=k(t),function(){if(--t<1)return r.apply(this,arguments)}}function Ea(t,r,i){return r=i?e:r,r=t&&r==null?t.length:r,Ct(t,q,e,e,e,e,r)}function Sa(t,r){var i;if(typeof r!="function")throw new ct(l);return t=k(t),function(){return--t>0&&(i=r.apply(this,arguments)),t<=1&&(r=e),i}}var ji=rn(function(t,r,i){var c=R;if(i.length){var h=Nt(i,ve(ji));c|=O}return Ct(t,c,r,i,h)}),Ta=rn(function(t,r,i){var c=R|z;if(i.length){var h=Nt(i,ve(Ta));c|=O}return Ct(r,c,t,i,h)});function La(t,r,i){r=i?e:r;var c=Ct(t,W,e,e,e,e,e,r);return c.placeholder=La.placeholder,c}function Ra(t,r,i){r=i?e:r;var c=Ct(t,F,e,e,e,e,e,r);return c.placeholder=Ra.placeholder,c}function Ia(t,r,i){var c,h,o,d,_,y,I=0,b=!1,C=!1,P=!0;if(typeof t!="function")throw new ct(l);r=ut(r)||0,Sn(i)&&(b=!!i.leading,C="maxWait"in i,o=C?zn(ut(i.maxWait)||0,r):o,P="trailing"in i?!!i.trailing:P);function N(Rn){var xt=c,Ft=h;return c=h=e,I=Rn,d=t.apply(Ft,xt),d}function Y(Rn){return I=Rn,_=He(sn,r),b?N(Rn):d}function nn(Rn){var xt=Rn-y,Ft=Rn-I,Xa=r-xt;return C?Dn(Xa,o-Ft):Xa}function Z(Rn){var xt=Rn-y,Ft=Rn-I;return y===e||xt>=r||xt<0||C&&Ft>=o}function sn(){var Rn=Dr();if(Z(Rn))return fn(Rn);_=He(sn,nn(Rn))}function fn(Rn){return _=e,P&&c?N(Rn):(c=h=e,d)}function jn(){_!==e&&Bc(_),I=0,c=y=h=_=e}function Wn(){return _===e?d:fn(Dr())}function nt(){var Rn=Dr(),xt=Z(Rn);if(c=arguments,h=this,y=Rn,xt){if(_===e)return Y(y);if(C)return Bc(_),_=He(sn,r),N(y)}return _===e&&(_=He(sn,r)),d}return nt.cancel=jn,nt.flush=Wn,nt}var Iu=rn(function(t,r){return vc(t,1,r)}),bu=rn(function(t,r,i){return vc(t,ut(r)||0,i)});function zu(t){return Ct(t,j)}function Fr(t,r){if(typeof t!="function"||r!=null&&typeof r!="function")throw new ct(l);var i=function(){var c=arguments,h=r?r.apply(this,c):c[0],o=i.cache;if(o.has(h))return o.get(h);var d=t.apply(this,c);return i.cache=o.set(h,d)||o,d};return i.cache=new(Fr.Cache||bt),i}Fr.Cache=bt;function Ur(t){if(typeof t!="function")throw new ct(l);return function(){var r=arguments;switch(r.length){case 0:return!t.call(this);case 1:return!t.call(this,r[0]);case 2:return!t.call(this,r[0],r[1]);case 3:return!t.call(this,r[0],r[1],r[2])}return!t.apply(this,r)}}function Cu(t){return Sa(2,t)}var Ou=Mh(function(t,r){r=r.length==1&&Q(r[0])?An(r[0],Jn(G())):An(qn(r,1),Jn(G()));var i=r.length;return rn(function(c){for(var h=-1,o=Dn(c.length,i);++h<o;)c[h]=r[h].call(this,c[h]);return Qn(t,this,c)})}),ns=rn(function(t,r){var i=Nt(r,ve(ns));return Ct(t,O,e,r,i)}),ba=rn(function(t,r){var i=Nt(r,ve(ba));return Ct(t,U,e,r,i)}),Pu=Ot(function(t,r){return Ct(t,en,e,e,e,r)});function qu(t,r){if(typeof t!="function")throw new ct(l);return r=r===e?r:k(r),rn(t,r)}function Du(t,r){if(typeof t!="function")throw new ct(l);return r=r==null?0:zn(k(r),0),rn(function(i){var c=i[r],h=$t(i,0,r);return c&&Wt(h,c),Qn(t,this,h)})}function Fu(t,r,i){var c=!0,h=!0;if(typeof t!="function")throw new ct(l);return Sn(i)&&(c="leading"in i?!!i.leading:c,h="trailing"in i?!!i.trailing:h),Ia(t,r,{leading:c,maxWait:r,trailing:h})}function Uu(t){return Ea(t,1)}function Bu(t,r){return ns(Ui(r),t)}function Wu(){if(!arguments.length)return[];var t=arguments[0];return Q(t)?t:[t]}function Nu(t){return ft(t,A)}function Hu(t,r){return r=typeof r=="function"?r:e,ft(t,A,r)}function Gu(t){return ft(t,m|A)}function Yu(t,r){return r=typeof r=="function"?r:e,ft(t,m|A,r)}function Zu(t,r){return r==null||xc(t,r,Cn(r))}function _t(t,r){return t===r||t!==t&&r!==r}var $u=br(Ti),Ku=br(function(t,r){return t>=r}),re=Ac(function(){return arguments}())?Ac:function(t){return Tn(t)&&_n.call(t,"callee")&&!hc.call(t,"callee")},Q=E.isArray,Xu=Ys?Jn(Ys):eh;function Gn(t){return t!=null&&Br(t.length)&&!qt(t)}function Ln(t){return Tn(t)&&Gn(t)}function Qu(t){return t===!0||t===!1||Tn(t)&&Un(t)==we}var Kt=h0||us,Ju=Zs?Jn(Zs):rh;function Vu(t){return Tn(t)&&t.nodeType===1&&!Ge(t)}function ku(t){if(t==null)return!0;if(Gn(t)&&(Q(t)||typeof t=="string"||typeof t.splice=="function"||Kt(t)||Me(t)||re(t)))return!t.length;var r=Fn(t);if(r==ot||r==pt)return!t.size;if(Ne(t))return!Ii(t).length;for(var i in t)if(_n.call(t,i))return!1;return!0}function ju(t,r){return Ue(t,r)}function no(t,r,i){i=typeof i=="function"?i:e;var c=i?i(t,r):e;return c===e?Ue(t,r,e,i):!!c}function ts(t){if(!Tn(t))return!1;var r=Un(t);return r==Ve||r==w1||typeof t.message=="string"&&typeof t.name=="string"&&!Ge(t)}function to(t){return typeof t=="number"&&uc(t)}function qt(t){if(!Sn(t))return!1;var r=Un(t);return r==ke||r==vs||r==y1||r==E1}function za(t){return typeof t=="number"&&t==k(t)}function Br(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Nn}function Sn(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}function Tn(t){return t!=null&&typeof t=="object"}var Ca=$s?Jn($s):sh;function eo(t,r){return t===r||Ri(t,r,Zi(r))}function ro(t,r,i){return i=typeof i=="function"?i:e,Ri(t,r,Zi(r),i)}function io(t){return Oa(t)&&t!=+t}function so(t){if(Hh(t))throw new X(f);return Ec(t)}function co(t){return t===null}function ao(t){return t==null}function Oa(t){return typeof t=="number"||Tn(t)&&Un(t)==Ee}function Ge(t){if(!Tn(t)||Un(t)!=Rt)return!1;var r=or(t);if(r===null)return!0;var i=_n.call(r,"constructor")&&r.constructor;return typeof i=="function"&&i instanceof i&&fr.call(i)==r0}var es=Ks?Jn(Ks):ch;function fo(t){return za(t)&&t>=-Nn&&t<=Nn}var Pa=Xs?Jn(Xs):ah;function Wr(t){return typeof t=="string"||!Q(t)&&Tn(t)&&Un(t)==Te}function kn(t){return typeof t=="symbol"||Tn(t)&&Un(t)==je}var Me=Qs?Jn(Qs):fh;function ho(t){return t===e}function lo(t){return Tn(t)&&Fn(t)==Le}function uo(t){return Tn(t)&&Un(t)==T1}var oo=br(bi),po=br(function(t,r){return t<=r});function qa(t){if(!t)return[];if(Gn(t))return Wr(t)?gt(t):Hn(t);if(be&&t[be])return Zf(t[be]());var r=Fn(t),i=r==ot?xi:r==pt?sr:me;return i(t)}function Dt(t){if(!t)return t===0?t:0;if(t=ut(t),t===Xn||t===-Xn){var r=t<0?-1:1;return r*Qe}return t===t?t:0}function k(t){var r=Dt(t),i=r%1;return r===r?i?r-i:r:0}function Da(t){return t?jt(k(t),0,wt):0}function ut(t){if(typeof t=="number")return t;if(kn(t))return Xt;if(Sn(t)){var r=typeof t.valueOf=="function"?t.valueOf():t;t=Sn(r)?r+"":r}if(typeof t!="string")return t===0?t:+t;t=tc(t);var i=K1.test(t);return i||Q1.test(t)?Rf(t.slice(2),i?2:8):$1.test(t)?Xt:+t}function Fa(t){return Et(t,Yn(t))}function go(t){return t?jt(k(t),-Nn,Nn):t===0?t:0}function gn(t){return t==null?"":Vn(t)}var _o=_e(function(t,r){if(Ne(r)||Gn(r)){Et(r,Cn(r),t);return}for(var i in r)_n.call(r,i)&&qe(t,i,r[i])}),Ua=_e(function(t,r){Et(r,Yn(r),t)}),Nr=_e(function(t,r,i,c){Et(r,Yn(r),t,c)}),xo=_e(function(t,r,i,c){Et(r,Cn(r),t,c)}),vo=Ot(Ai);function Mo(t,r){var i=de(t);return r==null?i:_c(i,r)}var mo=rn(function(t,r){t=vn(t);var i=-1,c=r.length,h=c>2?r[2]:e;for(h&&Bn(r[0],r[1],h)&&(c=1);++i<c;)for(var o=r[i],d=Yn(o),_=-1,y=d.length;++_<y;){var I=d[_],b=t[I];(b===e||_t(b,oe[I])&&!_n.call(t,I))&&(t[I]=o[I])}return t}),yo=rn(function(t){return t.push(e,ta),Qn(Ba,e,t)});function wo(t,r){return Vs(t,G(r,3),At)}function Ao(t,r){return Vs(t,G(r,3),Si)}function Eo(t,r){return t==null?t:Ei(t,G(r,3),Yn)}function So(t,r){return t==null?t:yc(t,G(r,3),Yn)}function To(t,r){return t&&At(t,G(r,3))}function Lo(t,r){return t&&Si(t,G(r,3))}function Ro(t){return t==null?[]:wr(t,Cn(t))}function Io(t){return t==null?[]:wr(t,Yn(t))}function rs(t,r,i){var c=t==null?e:ne(t,r);return c===e?i:c}function bo(t,r){return t!=null&&ia(t,r,k0)}function is(t,r){return t!=null&&ia(t,r,j0)}var zo=Jc(function(t,r,i){r!=null&&typeof r.toString!="function"&&(r=hr.call(r)),t[r]=i},cs(Zn)),Co=Jc(function(t,r,i){r!=null&&typeof r.toString!="function"&&(r=hr.call(r)),_n.call(t,r)?t[r].push(i):t[r]=[i]},G),Oo=rn(Fe);function Cn(t){return Gn(t)?gc(t):Ii(t)}function Yn(t){return Gn(t)?gc(t,!0):hh(t)}function Po(t,r){var i={};return r=G(r,3),At(t,function(c,h,o){zt(i,r(c,h,o),c)}),i}function qo(t,r){var i={};return r=G(r,3),At(t,function(c,h,o){zt(i,h,r(c,h,o))}),i}var Do=_e(function(t,r,i){Ar(t,r,i)}),Ba=_e(function(t,r,i,c){Ar(t,r,i,c)}),Fo=Ot(function(t,r){var i={};if(t==null)return i;var c=!1;r=An(r,function(o){return o=Zt(o,t),c||(c=o.length>1),o}),Et(t,Gi(t),i),c&&(i=ft(i,m|T|A,bh));for(var h=r.length;h--;)qi(i,r[h]);return i});function Uo(t,r){return Wa(t,Ur(G(r)))}var Bo=Ot(function(t,r){return t==null?{}:uh(t,r)});function Wa(t,r){if(t==null)return{};var i=An(Gi(t),function(c){return[c]});return r=G(r),zc(t,i,function(c,h){return r(c,h[0])})}function Wo(t,r,i){r=Zt(r,t);var c=-1,h=r.length;for(h||(h=1,t=e);++c<h;){var o=t==null?e:t[St(r[c])];o===e&&(c=h,o=i),t=qt(o)?o.call(t):o}return t}function No(t,r,i){return t==null?t:Be(t,r,i)}function Ho(t,r,i,c){return c=typeof c=="function"?c:e,t==null?t:Be(t,r,i,c)}var Na=jc(Cn),Ha=jc(Yn);function Go(t,r,i){var c=Q(t),h=c||Kt(t)||Me(t);if(r=G(r,4),i==null){var o=t&&t.constructor;h?i=c?new o:[]:Sn(t)?i=qt(o)?de(or(t)):{}:i={}}return(h?st:At)(t,function(d,_,y){return r(i,d,_,y)}),i}function Yo(t,r){return t==null?!0:qi(t,r)}function Zo(t,r,i){return t==null?t:Dc(t,r,Ui(i))}function $o(t,r,i,c){return c=typeof c=="function"?c:e,t==null?t:Dc(t,r,Ui(i),c)}function me(t){return t==null?[]:_i(t,Cn(t))}function Ko(t){return t==null?[]:_i(t,Yn(t))}function Xo(t,r,i){return i===e&&(i=r,r=e),i!==e&&(i=ut(i),i=i===i?i:0),r!==e&&(r=ut(r),r=r===r?r:0),jt(ut(t),r,i)}function Qo(t,r,i){return r=Dt(r),i===e?(i=r,r=0):i=Dt(i),t=ut(t),nh(t,r,i)}function Jo(t,r,i){if(i&&typeof i!="boolean"&&Bn(t,r,i)&&(r=i=e),i===e&&(typeof r=="boolean"?(i=r,r=e):typeof t=="boolean"&&(i=t,t=e)),t===e&&r===e?(t=0,r=1):(t=Dt(t),r===e?(r=t,t=0):r=Dt(r)),t>r){var c=t;t=r,r=c}if(i||t%1||r%1){var h=oc();return Dn(t+h*(r-t+Lf("1e-"+((h+"").length-1))),r)}return Ci(t,r)}var Vo=xe(function(t,r,i){return r=r.toLowerCase(),t+(i?Ga(r):r)});function Ga(t){return ss(gn(t).toLowerCase())}function Ya(t){return t=gn(t),t&&t.replace(V1,Wf).replace(xf,"")}function ko(t,r,i){t=gn(t),r=Vn(r);var c=t.length;i=i===e?c:jt(k(i),0,c);var h=i;return i-=r.length,i>=0&&t.slice(i,h)==r}function jo(t){return t=gn(t),t&&z1.test(t)?t.replace(ys,Nf):t}function n2(t){return t=gn(t),t&&F1.test(t)?t.replace(ni,"\\$&"):t}var t2=xe(function(t,r,i){return t+(i?"-":"")+r.toLowerCase()}),e2=xe(function(t,r,i){return t+(i?" ":"")+r.toLowerCase()}),r2=Kc("toLowerCase");function i2(t,r,i){t=gn(t),r=k(r);var c=r?le(t):0;if(!r||c>=r)return t;var h=(r-c)/2;return Ir(_r(h),i)+t+Ir(dr(h),i)}function s2(t,r,i){t=gn(t),r=k(r);var c=r?le(t):0;return r&&c<r?t+Ir(r-c,i):t}function c2(t,r,i){t=gn(t),r=k(r);var c=r?le(t):0;return r&&c<r?Ir(r-c,i)+t:t}function a2(t,r,i){return i||r==null?r=0:r&&(r=+r),p0(gn(t).replace(ti,""),r||0)}function f2(t,r,i){return(i?Bn(t,r,i):r===e)?r=1:r=k(r),Oi(gn(t),r)}function h2(){var t=arguments,r=gn(t[0]);return t.length<3?r:r.replace(t[1],t[2])}var l2=xe(function(t,r,i){return t+(i?"_":"")+r.toLowerCase()});function u2(t,r,i){return i&&typeof i!="number"&&Bn(t,r,i)&&(r=i=e),i=i===e?wt:i>>>0,i?(t=gn(t),t&&(typeof r=="string"||r!=null&&!es(r))&&(r=Vn(r),!r&&he(t))?$t(gt(t),0,i):t.split(r,i)):[]}var o2=xe(function(t,r,i){return t+(i?" ":"")+ss(r)});function p2(t,r,i){return t=gn(t),i=i==null?0:jt(k(i),0,t.length),r=Vn(r),t.slice(i,i+r.length)==r}function g2(t,r,i){var c=u.templateSettings;i&&Bn(t,r,i)&&(r=e),t=gn(t),r=Nr({},r,c,na);var h=Nr({},r.imports,c.imports,na),o=Cn(h),d=_i(h,o),_,y,I=0,b=r.interpolate||nr,C="__p += '",P=vi((r.escape||nr).source+"|"+b.source+"|"+(b===ws?Z1:nr).source+"|"+(r.evaluate||nr).source+"|$","g"),N="//# sourceURL="+(_n.call(r,"sourceURL")?(r.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++wf+"]")+`
`;t.replace(P,function(Z,sn,fn,jn,Wn,nt){return fn||(fn=jn),C+=t.slice(I,nt).replace(k1,Hf),sn&&(_=!0,C+=`' +
__e(`+sn+`) +
'`),Wn&&(y=!0,C+=`';
`+Wn+`;
__p += '`),fn&&(C+=`' +
((__t = (`+fn+`)) == null ? '' : __t) +
'`),I=nt+Z.length,Z}),C+=`';
`;var Y=_n.call(r,"variable")&&r.variable;if(!Y)C=`with (obj) {
`+C+`
}
`;else if(G1.test(Y))throw new X(p);C=(y?C.replace(L1,""):C).replace(R1,"$1").replace(I1,"$1;"),C="function("+(Y||"obj")+`) {
`+(Y?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(_?", __e = _.escape":"")+(y?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+C+`return __p
}`;var nn=$a(function(){return un(o,N+"return "+C).apply(e,d)});if(nn.source=C,ts(nn))throw nn;return nn}function d2(t){return gn(t).toLowerCase()}function _2(t){return gn(t).toUpperCase()}function x2(t,r,i){if(t=gn(t),t&&(i||r===e))return tc(t);if(!t||!(r=Vn(r)))return t;var c=gt(t),h=gt(r),o=ec(c,h),d=rc(c,h)+1;return $t(c,o,d).join("")}function v2(t,r,i){if(t=gn(t),t&&(i||r===e))return t.slice(0,sc(t)+1);if(!t||!(r=Vn(r)))return t;var c=gt(t),h=rc(c,gt(r))+1;return $t(c,0,h).join("")}function M2(t,r,i){if(t=gn(t),t&&(i||r===e))return t.replace(ti,"");if(!t||!(r=Vn(r)))return t;var c=gt(t),h=ec(c,gt(r));return $t(c,h).join("")}function m2(t,r){var i=hn,c=H;if(Sn(r)){var h="separator"in r?r.separator:h;i="length"in r?k(r.length):i,c="omission"in r?Vn(r.omission):c}t=gn(t);var o=t.length;if(he(t)){var d=gt(t);o=d.length}if(i>=o)return t;var _=i-le(c);if(_<1)return c;var y=d?$t(d,0,_).join(""):t.slice(0,_);if(h===e)return y+c;if(d&&(_+=y.length-_),es(h)){if(t.slice(_).search(h)){var I,b=y;for(h.global||(h=vi(h.source,gn(As.exec(h))+"g")),h.lastIndex=0;I=h.exec(b);)var C=I.index;y=y.slice(0,C===e?_:C)}}else if(t.indexOf(Vn(h),_)!=_){var P=y.lastIndexOf(h);P>-1&&(y=y.slice(0,P))}return y+c}function y2(t){return t=gn(t),t&&b1.test(t)?t.replace(ms,Qf):t}var w2=xe(function(t,r,i){return t+(i?" ":"")+r.toUpperCase()}),ss=Kc("toUpperCase");function Za(t,r,i){return t=gn(t),r=i?e:r,r===e?Yf(t)?kf(t):qf(t):t.match(r)||[]}var $a=rn(function(t,r){try{return Qn(t,e,r)}catch(i){return ts(i)?i:new X(i)}}),A2=Ot(function(t,r){return st(r,function(i){i=St(i),zt(t,i,ji(t[i],t))}),t});function E2(t){var r=t==null?0:t.length,i=G();return t=r?An(t,function(c){if(typeof c[1]!="function")throw new ct(l);return[i(c[0]),c[1]]}):[],rn(function(c){for(var h=-1;++h<r;){var o=t[h];if(Qn(o[0],this,c))return Qn(o[1],this,c)}})}function S2(t){return Q0(ft(t,m))}function cs(t){return function(){return t}}function T2(t,r){return t==null||t!==t?r:t}var L2=Qc(),R2=Qc(!0);function Zn(t){return t}function as(t){return Sc(typeof t=="function"?t:ft(t,m))}function I2(t){return Lc(ft(t,m))}function b2(t,r){return Rc(t,ft(r,m))}var z2=rn(function(t,r){return function(i){return Fe(i,t,r)}}),C2=rn(function(t,r){return function(i){return Fe(t,i,r)}});function fs(t,r,i){var c=Cn(r),h=wr(r,c);i==null&&!(Sn(r)&&(h.length||!c.length))&&(i=r,r=t,t=this,h=wr(r,Cn(r)));var o=!(Sn(i)&&"chain"in i)||!!i.chain,d=qt(t);return st(h,function(_){var y=r[_];t[_]=y,d&&(t.prototype[_]=function(){var I=this.__chain__;if(o||I){var b=t(this.__wrapped__),C=b.__actions__=Hn(this.__actions__);return C.push({func:y,args:arguments,thisArg:t}),b.__chain__=I,b}return y.apply(t,Wt([this.value()],arguments))})}),t}function O2(){return Pn._===this&&(Pn._=i0),this}function hs(){}function P2(t){return t=k(t),rn(function(r){return Ic(r,t)})}var q2=Wi(An),D2=Wi(Js),F2=Wi(ui);function Ka(t){return Ki(t)?oi(St(t)):oh(t)}function U2(t){return function(r){return t==null?e:ne(t,r)}}var B2=Vc(),W2=Vc(!0);function ls(){return[]}function us(){return!1}function N2(){return{}}function H2(){return""}function G2(){return!0}function Y2(t,r){if(t=k(t),t<1||t>Nn)return[];var i=wt,c=Dn(t,wt);r=G(r),t-=wt;for(var h=di(c,r);++i<t;)r(i);return h}function Z2(t){return Q(t)?An(t,St):kn(t)?[t]:Hn(pa(gn(t)))}function $2(t){var r=++e0;return gn(t)+r}var K2=Rr(function(t,r){return t+r},0),X2=Ni("ceil"),Q2=Rr(function(t,r){return t/r},1),J2=Ni("floor");function V2(t){return t&&t.length?yr(t,Zn,Ti):e}function k2(t,r){return t&&t.length?yr(t,G(r,2),Ti):e}function j2(t){return js(t,Zn)}function np(t,r){return js(t,G(r,2))}function tp(t){return t&&t.length?yr(t,Zn,bi):e}function ep(t,r){return t&&t.length?yr(t,G(r,2),bi):e}var rp=Rr(function(t,r){return t*r},1),ip=Ni("round"),sp=Rr(function(t,r){return t-r},0);function cp(t){return t&&t.length?gi(t,Zn):0}function ap(t,r){return t&&t.length?gi(t,G(r,2)):0}return u.after=Ru,u.ary=Ea,u.assign=_o,u.assignIn=Ua,u.assignInWith=Nr,u.assignWith=xo,u.at=vo,u.before=Sa,u.bind=ji,u.bindAll=A2,u.bindKey=Ta,u.castArray=Wu,u.chain=ya,u.chunk=Qh,u.compact=Jh,u.concat=Vh,u.cond=E2,u.conforms=S2,u.constant=cs,u.countBy=su,u.create=Mo,u.curry=La,u.curryRight=Ra,u.debounce=Ia,u.defaults=mo,u.defaultsDeep=yo,u.defer=Iu,u.delay=bu,u.difference=kh,u.differenceBy=jh,u.differenceWith=nl,u.drop=tl,u.dropRight=el,u.dropRightWhile=rl,u.dropWhile=il,u.fill=sl,u.filter=au,u.flatMap=lu,u.flatMapDeep=uu,u.flatMapDepth=ou,u.flatten=xa,u.flattenDeep=cl,u.flattenDepth=al,u.flip=zu,u.flow=L2,u.flowRight=R2,u.fromPairs=fl,u.functions=Ro,u.functionsIn=Io,u.groupBy=pu,u.initial=ll,u.intersection=ul,u.intersectionBy=ol,u.intersectionWith=pl,u.invert=zo,u.invertBy=Co,u.invokeMap=du,u.iteratee=as,u.keyBy=_u,u.keys=Cn,u.keysIn=Yn,u.map=qr,u.mapKeys=Po,u.mapValues=qo,u.matches=I2,u.matchesProperty=b2,u.memoize=Fr,u.merge=Do,u.mergeWith=Ba,u.method=z2,u.methodOf=C2,u.mixin=fs,u.negate=Ur,u.nthArg=P2,u.omit=Fo,u.omitBy=Uo,u.once=Cu,u.orderBy=xu,u.over=q2,u.overArgs=Ou,u.overEvery=D2,u.overSome=F2,u.partial=ns,u.partialRight=ba,u.partition=vu,u.pick=Bo,u.pickBy=Wa,u.property=Ka,u.propertyOf=U2,u.pull=xl,u.pullAll=Ma,u.pullAllBy=vl,u.pullAllWith=Ml,u.pullAt=ml,u.range=B2,u.rangeRight=W2,u.rearg=Pu,u.reject=yu,u.remove=yl,u.rest=qu,u.reverse=Vi,u.sampleSize=Au,u.set=No,u.setWith=Ho,u.shuffle=Eu,u.slice=wl,u.sortBy=Lu,u.sortedUniq=Il,u.sortedUniqBy=bl,u.split=u2,u.spread=Du,u.tail=zl,u.take=Cl,u.takeRight=Ol,u.takeRightWhile=Pl,u.takeWhile=ql,u.tap=Jl,u.throttle=Fu,u.thru=Pr,u.toArray=qa,u.toPairs=Na,u.toPairsIn=Ha,u.toPath=Z2,u.toPlainObject=Fa,u.transform=Go,u.unary=Uu,u.union=Dl,u.unionBy=Fl,u.unionWith=Ul,u.uniq=Bl,u.uniqBy=Wl,u.uniqWith=Nl,u.unset=Yo,u.unzip=ki,u.unzipWith=ma,u.update=Zo,u.updateWith=$o,u.values=me,u.valuesIn=Ko,u.without=Hl,u.words=Za,u.wrap=Bu,u.xor=Gl,u.xorBy=Yl,u.xorWith=Zl,u.zip=$l,u.zipObject=Kl,u.zipObjectDeep=Xl,u.zipWith=Ql,u.entries=Na,u.entriesIn=Ha,u.extend=Ua,u.extendWith=Nr,fs(u,u),u.add=K2,u.attempt=$a,u.camelCase=Vo,u.capitalize=Ga,u.ceil=X2,u.clamp=Xo,u.clone=Nu,u.cloneDeep=Gu,u.cloneDeepWith=Yu,u.cloneWith=Hu,u.conformsTo=Zu,u.deburr=Ya,u.defaultTo=T2,u.divide=Q2,u.endsWith=ko,u.eq=_t,u.escape=jo,u.escapeRegExp=n2,u.every=cu,u.find=fu,u.findIndex=da,u.findKey=wo,u.findLast=hu,u.findLastIndex=_a,u.findLastKey=Ao,u.floor=J2,u.forEach=wa,u.forEachRight=Aa,u.forIn=Eo,u.forInRight=So,u.forOwn=To,u.forOwnRight=Lo,u.get=rs,u.gt=$u,u.gte=Ku,u.has=bo,u.hasIn=is,u.head=va,u.identity=Zn,u.includes=gu,u.indexOf=hl,u.inRange=Qo,u.invoke=Oo,u.isArguments=re,u.isArray=Q,u.isArrayBuffer=Xu,u.isArrayLike=Gn,u.isArrayLikeObject=Ln,u.isBoolean=Qu,u.isBuffer=Kt,u.isDate=Ju,u.isElement=Vu,u.isEmpty=ku,u.isEqual=ju,u.isEqualWith=no,u.isError=ts,u.isFinite=to,u.isFunction=qt,u.isInteger=za,u.isLength=Br,u.isMap=Ca,u.isMatch=eo,u.isMatchWith=ro,u.isNaN=io,u.isNative=so,u.isNil=ao,u.isNull=co,u.isNumber=Oa,u.isObject=Sn,u.isObjectLike=Tn,u.isPlainObject=Ge,u.isRegExp=es,u.isSafeInteger=fo,u.isSet=Pa,u.isString=Wr,u.isSymbol=kn,u.isTypedArray=Me,u.isUndefined=ho,u.isWeakMap=lo,u.isWeakSet=uo,u.join=gl,u.kebabCase=t2,u.last=lt,u.lastIndexOf=dl,u.lowerCase=e2,u.lowerFirst=r2,u.lt=oo,u.lte=po,u.max=V2,u.maxBy=k2,u.mean=j2,u.meanBy=np,u.min=tp,u.minBy=ep,u.stubArray=ls,u.stubFalse=us,u.stubObject=N2,u.stubString=H2,u.stubTrue=G2,u.multiply=rp,u.nth=_l,u.noConflict=O2,u.noop=hs,u.now=Dr,u.pad=i2,u.padEnd=s2,u.padStart=c2,u.parseInt=a2,u.random=Jo,u.reduce=Mu,u.reduceRight=mu,u.repeat=f2,u.replace=h2,u.result=Wo,u.round=ip,u.runInContext=M,u.sample=wu,u.size=Su,u.snakeCase=l2,u.some=Tu,u.sortedIndex=Al,u.sortedIndexBy=El,u.sortedIndexOf=Sl,u.sortedLastIndex=Tl,u.sortedLastIndexBy=Ll,u.sortedLastIndexOf=Rl,u.startCase=o2,u.startsWith=p2,u.subtract=sp,u.sum=cp,u.sumBy=ap,u.template=g2,u.times=Y2,u.toFinite=Dt,u.toInteger=k,u.toLength=Da,u.toLower=d2,u.toNumber=ut,u.toSafeInteger=go,u.toString=gn,u.toUpper=_2,u.trim=x2,u.trimEnd=v2,u.trimStart=M2,u.truncate=m2,u.unescape=y2,u.uniqueId=$2,u.upperCase=w2,u.upperFirst=ss,u.each=wa,u.eachRight=Aa,u.first=va,fs(u,function(){var t={};return At(u,function(r,i){_n.call(u.prototype,i)||(t[i]=r)}),t}(),{chain:!1}),u.VERSION=s,st(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){u[t].placeholder=u}),st(["drop","take"],function(t,r){cn.prototype[t]=function(i){i=i===e?1:zn(k(i),0);var c=this.__filtered__&&!r?new cn(this):this.clone();return c.__filtered__?c.__takeCount__=Dn(i,c.__takeCount__):c.__views__.push({size:Dn(i,wt),type:t+(c.__dir__<0?"Right":"")}),c},cn.prototype[t+"Right"]=function(i){return this.reverse()[t](i).reverse()}}),st(["filter","map","takeWhile"],function(t,r){var i=r+1,c=i==pn||i==rt;cn.prototype[t]=function(h){var o=this.clone();return o.__iteratees__.push({iteratee:G(h,3),type:i}),o.__filtered__=o.__filtered__||c,o}}),st(["head","last"],function(t,r){var i="take"+(r?"Right":"");cn.prototype[t]=function(){return this[i](1).value()[0]}}),st(["initial","tail"],function(t,r){var i="drop"+(r?"":"Right");cn.prototype[t]=function(){return this.__filtered__?new cn(this):this[i](1)}}),cn.prototype.compact=function(){return this.filter(Zn)},cn.prototype.find=function(t){return this.filter(t).head()},cn.prototype.findLast=function(t){return this.reverse().find(t)},cn.prototype.invokeMap=rn(function(t,r){return typeof t=="function"?new cn(this):this.map(function(i){return Fe(i,t,r)})}),cn.prototype.reject=function(t){return this.filter(Ur(G(t)))},cn.prototype.slice=function(t,r){t=k(t);var i=this;return i.__filtered__&&(t>0||r<0)?new cn(i):(t<0?i=i.takeRight(-t):t&&(i=i.drop(t)),r!==e&&(r=k(r),i=r<0?i.dropRight(-r):i.take(r-t)),i)},cn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},cn.prototype.toArray=function(){return this.take(wt)},At(cn.prototype,function(t,r){var i=/^(?:filter|find|map|reject)|While$/.test(r),c=/^(?:head|last)$/.test(r),h=u[c?"take"+(r=="last"?"Right":""):r],o=c||/^find/.test(r);h&&(u.prototype[r]=function(){var d=this.__wrapped__,_=c?[1]:arguments,y=d instanceof cn,I=_[0],b=y||Q(d),C=function(sn){var fn=h.apply(u,Wt([sn],_));return c&&P?fn[0]:fn};b&&i&&typeof I=="function"&&I.length!=1&&(y=b=!1);var P=this.__chain__,N=!!this.__actions__.length,Y=o&&!P,nn=y&&!N;if(!o&&b){d=nn?d:new cn(this);var Z=t.apply(d,_);return Z.__actions__.push({func:Pr,args:[C],thisArg:e}),new at(Z,P)}return Y&&nn?t.apply(this,_):(Z=this.thru(C),Y?c?Z.value()[0]:Z.value():Z)})}),st(["pop","push","shift","sort","splice","unshift"],function(t){var r=cr[t],i=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",c=/^(?:pop|shift)$/.test(t);u.prototype[t]=function(){var h=arguments;if(c&&!this.__chain__){var o=this.value();return r.apply(Q(o)?o:[],h)}return this[i](function(d){return r.apply(Q(d)?d:[],h)})}}),At(cn.prototype,function(t,r){var i=u[r];if(i){var c=i.name+"";_n.call(ge,c)||(ge[c]=[]),ge[c].push({name:r,func:i})}}),ge[Lr(e,z).name]=[{name:"wrapper",func:e}],cn.prototype.clone=m0,cn.prototype.reverse=y0,cn.prototype.value=w0,u.prototype.at=Vl,u.prototype.chain=kl,u.prototype.commit=jl,u.prototype.next=nu,u.prototype.plant=eu,u.prototype.reverse=ru,u.prototype.toJSON=u.prototype.valueOf=u.prototype.value=iu,u.prototype.first=u.prototype.head,be&&(u.prototype[be]=tu),u},ue=jf();Qt?((Qt.exports=ue)._=ue,ai._=ue):Pn._=ue}).call(On)}(Tt,Tt.exports);var Qa=Tt.exports;function Ja(an){const n=document.createElement("canvas");return n.style.display="block",n.style.width=an.style.width,n.style.height=an.style.height,an.style.position="relative",n.setAttribute("id",Qa.uniqueId("canvas")),an.append(n),n}class Ye{}$(Ye,"gl");class Va{constructor(n){$(this,"canvas");$(this,"gl");const e=window.devicePixelRatio||1,s=Ja(n),a=s.getBoundingClientRect();s.width=a.width*e,s.height=a.height*e,this.canvas=s,this.gl=s.getContext("webgl2",{stencil:!1}),Ye.gl=this.gl,console.log(Ye.gl);const f=new Set;f.add("OES_element_index_uint"),f.add("OES_vertex_array_object"),f.add("WEBGL_depth_texture"),f.forEach(l=>{this.gl.getExtension(l)})}init(){}}class ka extends Set{}class Ze{create(n){}destroy(n){}tie(n){}untie(){}}class os extends Ze{constructor(e,s){super();$(this,"source");$(this,"shader");$(this,"type");this.type=s,this.source=e}tie(e){this.create(e),this.shaderSource(e,this.source),this.compile(e),e.getShaderParameter(this.shader,e.COMPILE_STATUS)||console.error("Shader compilation error:",e.getShaderInfoLog(this.shader))}create(e){this.shader=e.createShader({0:e.VERTEX_SHADER,1:e.FRAGMENT_SHADER}[this.type])}shaderSource(e,s){e.shaderSource(this.shader,s)}compile(e){e.compileShader(this.shader)}}class ja extends os{constructor(n){super(n,1)}}class n1 extends os{constructor(n){super(n,0)}}const Xe=class Xe extends Ze{constructor(e,s){super();$(this,"VertexShader");$(this,"FragmentShader");$(this,"id");$(this,"gl");$(this,"m_attributeLocations",{});$(this,"m_uniformLocations",{});this.gl=e;for(let a of s)a.tie(e),a instanceof n1&&(this.VertexShader=a),a instanceof ja&&(this.FragmentShader=a)}create(e){this.id=e.createProgram()}initAttribute(e){const s=e.getProgramParameter(this.id,e.ACTIVE_ATTRIBUTES);for(let a=0;a<s;a++){const l=e.getActiveAttrib(this.id,a).name;console.log("name",l);const p=e.getAttribLocation(this.id,l);console.log("location",p),this.m_attributeLocations[l]={location:p}}}initUniform(e){const s=e.getProgramParameter(this.id,e.ACTIVE_UNIFORMS);for(let a=0;a<s;a++){const f=e.getActiveUniform(this.id,a),l=f.name;console.log("name",l);const p=e.getUniformLocation(this.id,l);console.log("location",p),this.m_uniformLocations[l]={location:p,type:f.type}}}tie(e){this.create(e),this.attach(),this.link(),this.use(),e.getProgramParameter(this.id,e.LINK_STATUS)||console.error("Program link error:",this.gl.getProgramInfoLog(this.id)),this.initAttribute(e),this.initUniform(e)}attach(){this.gl.attachShader(this.id,this.VertexShader.shader),this.gl.attachShader(this.id,this.FragmentShader.shader)}link(){this.gl.linkProgram(this.id)}use(){this.gl.useProgram(this.id),Xe.current=this}};$(Xe,"current");let ye=Xe,t1=class extends Ze{constructor(){super()}};class Hr extends t1{constructor(){super()}static default(){return new Hr}}class e1 extends Array{constructor(){super();$(this,"queue",[])}build(e){this.createQueue(e)}createQueue(e){const s=[];s.push(Hr.default()),this.forEach(a=>{s.push(new ye(e,a.material.shader)),this.camera.defaultUniform.forEach(f=>{s.push(f)}),a.material.state.forEach(f=>{s.push(f)}),a.material.uniform.forEach(f=>{s.push(f)}),a.geometry.vbos.forEach(f=>{s.push(f)}),a.geometry.drawers.forEach(f=>{s.push(f)})}),this.camera.defaultUniform.forEach(a=>{console.log(a),s.push(a)}),console.log(s),this.queue=s}destroyQueue(e){}render(e){this.destroyQueue(e),this.createQueue(e),e.clearColor(0,0,0,.5),e.clearDepth(1),e.enable(e.DEPTH_TEST),e.depthFunc(e.LEQUAL),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),this.queue.forEach(a=>{a.tie(e)});const s=e.getError();s!==e.NO_ERROR&&console.error("WebGL Error:",s)}}class r1{constructor(){}}class i1{constructor(){$(this,"context")}setContext(n){this.context=n}}class s1 extends i1{constructor(){super()}end(){}start(){console.log("JJJ"),this.context.chain.setNext(this.context.cameraChain)}}class ps{constructor(){$(this,"nextHandler")}setNext(n){return this.nextHandler=n,n}mousedown(n){return this.nextHandler?this.nextHandler.mousedown(n):null}mouseup(n){return this.nextHandler?this.nextHandler.mouseup(n):null}mousemove(n){return this.nextHandler?this.nextHandler.mousemove(n):null}}class c1 extends ps{}const V=1e-6,gs=new Float32Array([1,0,0,0,1,0,0,0,1]),Kn=class Kn extends Float32Array{constructor(...n){switch(n.length){case 9:super(n);break;case 2:super(n[0],n[1],9);break;case 1:const e=n[0];typeof e=="number"?super([e,e,e,e,e,e,e,e,e]):super(e,0,9);break;default:super(gs);break}}get str(){return Kn.str(this)}copy(n){return this.set(n),this}identity(){return this.set(gs),this}multiply(n){return Kn.multiply(this,this,n)}mul(n){return this}transpose(){return Kn.transpose(this,this)}invert(){return Kn.invert(this,this)}translate(n){return Kn.translate(this,this,n)}rotate(n){return Kn.rotate(this,this,n)}scale(n){return Kn.scale(this,this,n)}static create(){return new Kn}static clone(n){return new Kn(n)}static copy(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n}static fromValues(...n){return new Kn(...n)}static set(n,...e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n}static identity(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=1,n[5]=0,n[6]=0,n[7]=0,n[8]=1,n}static transpose(n,e){if(n===e){const s=e[1],a=e[2],f=e[5];n[1]=e[3],n[2]=e[6],n[3]=s,n[5]=e[7],n[6]=a,n[7]=f}else n[0]=e[0],n[1]=e[3],n[2]=e[6],n[3]=e[1],n[4]=e[4],n[5]=e[7],n[6]=e[2],n[7]=e[5],n[8]=e[8];return n}static invert(n,e){const s=e[0],a=e[1],f=e[2],l=e[3],p=e[4],g=e[5],x=e[6],v=e[7],m=e[8],T=m*p-g*v,A=-m*l+g*x,w=v*l-p*x;let S=s*T+a*A+f*w;return S?(S=1/S,n[0]=T*S,n[1]=(-m*a+f*v)*S,n[2]=(g*a-f*p)*S,n[3]=A*S,n[4]=(m*s-f*x)*S,n[5]=(-g*s+f*l)*S,n[6]=w*S,n[7]=(-v*s+a*x)*S,n[8]=(p*s-a*l)*S,n):null}static adjoint(n,e){const s=e[0],a=e[1],f=e[2],l=e[3],p=e[4],g=e[5],x=e[6],v=e[7],m=e[8];return n[0]=p*m-g*v,n[1]=f*v-a*m,n[2]=a*g-f*p,n[3]=g*x-l*m,n[4]=s*m-f*x,n[5]=f*l-s*g,n[6]=l*v-p*x,n[7]=a*x-s*v,n[8]=s*p-a*l,n}static determinant(n){const e=n[0],s=n[1],a=n[2],f=n[3],l=n[4],p=n[5],g=n[6],x=n[7],v=n[8];return e*(v*l-p*x)+s*(-v*f+p*g)+a*(x*f-l*g)}static add(n,e,s){return n[0]=e[0]+s[0],n[1]=e[1]+s[1],n[2]=e[2]+s[2],n[3]=e[3]+s[3],n[4]=e[4]+s[4],n[5]=e[5]+s[5],n[6]=e[6]+s[6],n[7]=e[7]+s[7],n[8]=e[8]+s[8],n}static subtract(n,e,s){return n[0]=e[0]-s[0],n[1]=e[1]-s[1],n[2]=e[2]-s[2],n[3]=e[3]-s[3],n[4]=e[4]-s[4],n[5]=e[5]-s[5],n[6]=e[6]-s[6],n[7]=e[7]-s[7],n[8]=e[8]-s[8],n}static sub(n,e,s){return n}static multiply(n,e,s){const a=e[0],f=e[1],l=e[2],p=e[3],g=e[4],x=e[5],v=e[6],m=e[7],T=e[8];let A=s[0],w=s[1],S=s[2];return n[0]=A*a+w*p+S*v,n[1]=A*f+w*g+S*m,n[2]=A*l+w*x+S*T,A=s[3],w=s[4],S=s[5],n[3]=A*a+w*p+S*v,n[4]=A*f+w*g+S*m,n[5]=A*l+w*x+S*T,A=s[6],w=s[7],S=s[8],n[6]=A*a+w*p+S*v,n[7]=A*f+w*g+S*m,n[8]=A*l+w*x+S*T,n}static mul(n,e,s){return n}static translate(n,e,s){const a=e[0],f=e[1],l=e[2],p=e[3],g=e[4],x=e[5],v=e[6],m=e[7],T=e[8],A=s[0],w=s[1];return n[0]=a,n[1]=f,n[2]=l,n[3]=p,n[4]=g,n[5]=x,n[6]=A*a+w*p+v,n[7]=A*f+w*g+m,n[8]=A*l+w*x+T,n}static rotate(n,e,s){const a=e[0],f=e[1],l=e[2],p=e[3],g=e[4],x=e[5],v=e[6],m=e[7],T=e[8],A=Math.sin(s),w=Math.cos(s);return n[0]=w*a+A*p,n[1]=w*f+A*g,n[2]=w*l+A*x,n[3]=w*p-A*a,n[4]=w*g-A*f,n[5]=w*x-A*l,n[6]=v,n[7]=m,n[8]=T,n}static scale(n,e,s){const a=s[0],f=s[1];return n[0]=a*e[0],n[1]=a*e[1],n[2]=a*e[2],n[3]=f*e[3],n[4]=f*e[4],n[5]=f*e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n}static fromTranslation(n,e){return n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=1,n[5]=0,n[6]=e[0],n[7]=e[1],n[8]=1,n}static fromRotation(n,e){const s=Math.sin(e),a=Math.cos(e);return n[0]=a,n[1]=s,n[2]=0,n[3]=-s,n[4]=a,n[5]=0,n[6]=0,n[7]=0,n[8]=1,n}static fromScaling(n,e){return n[0]=e[0],n[1]=0,n[2]=0,n[3]=0,n[4]=e[1],n[5]=0,n[6]=0,n[7]=0,n[8]=1,n}static fromMat2d(n,e){return n[0]=e[0],n[1]=e[1],n[2]=0,n[3]=e[2],n[4]=e[3],n[5]=0,n[6]=e[4],n[7]=e[5],n[8]=1,n}static fromQuat(n,e){const s=e[0],a=e[1],f=e[2],l=e[3],p=s+s,g=a+a,x=f+f,v=s*p,m=a*p,T=a*g,A=f*p,w=f*g,S=f*x,R=l*p,z=l*g,D=l*x;return n[0]=1-T-S,n[3]=m-D,n[6]=A+z,n[1]=m+D,n[4]=1-v-S,n[7]=w-R,n[2]=A-z,n[5]=w+R,n[8]=1-v-T,n}static fromMat4(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[4],n[4]=e[5],n[5]=e[6],n[6]=e[8],n[7]=e[9],n[8]=e[10],n}static normalFromMat4(n,e){const s=e[0],a=e[1],f=e[2],l=e[3],p=e[4],g=e[5],x=e[6],v=e[7],m=e[8],T=e[9],A=e[10],w=e[11],S=e[12],R=e[13],z=e[14],D=e[15],W=s*g-a*p,F=s*x-f*p,O=s*v-l*p,U=a*x-f*g,q=a*v-l*g,en=f*v-l*x,j=m*R-T*S,hn=m*z-A*S,H=m*D-w*S,xn=T*z-A*R,dn=T*D-w*R,pn=A*D-w*z;let K=W*pn-F*dn+O*xn+U*H-q*hn+en*j;return K?(K=1/K,n[0]=(g*pn-x*dn+v*xn)*K,n[1]=(x*H-p*pn-v*hn)*K,n[2]=(p*dn-g*H+v*j)*K,n[3]=(f*dn-a*pn-l*xn)*K,n[4]=(s*pn-f*H+l*hn)*K,n[5]=(a*H-s*dn-l*j)*K,n[6]=(R*en-z*q+D*U)*K,n[7]=(z*O-S*en-D*F)*K,n[8]=(S*q-R*O+D*W)*K,n):null}static projection(n,e,s){return n[0]=2/e,n[1]=0,n[2]=0,n[3]=0,n[4]=-2/s,n[5]=0,n[6]=-1,n[7]=1,n[8]=1,n}static frob(n){return Math.sqrt(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]+n[3]*n[3]+n[4]*n[4]+n[5]*n[5]+n[6]*n[6]+n[7]*n[7]+n[8]*n[8])}static multiplyScalar(n,e,s){return n[0]=e[0]*s,n[1]=e[1]*s,n[2]=e[2]*s,n[3]=e[3]*s,n[4]=e[4]*s,n[5]=e[5]*s,n[6]=e[6]*s,n[7]=e[7]*s,n[8]=e[8]*s,n}static multiplyScalarAndAdd(n,e,s,a){return n[0]=e[0]+s[0]*a,n[1]=e[1]+s[1]*a,n[2]=e[2]+s[2]*a,n[3]=e[3]+s[3]*a,n[4]=e[4]+s[4]*a,n[5]=e[5]+s[5]*a,n[6]=e[6]+s[6]*a,n[7]=e[7]+s[7]*a,n[8]=e[8]+s[8]*a,n}static exactEquals(n,e){return n[0]===e[0]&&n[1]===e[1]&&n[2]===e[2]&&n[3]===e[3]&&n[4]===e[4]&&n[5]===e[5]&&n[6]===e[6]&&n[7]===e[7]&&n[8]===e[8]}static equals(n,e){const s=n[0],a=n[1],f=n[2],l=n[3],p=n[4],g=n[5],x=n[6],v=n[7],m=n[8],T=e[0],A=e[1],w=e[2],S=e[3],R=e[4],z=e[5],D=e[6],W=e[7],F=e[8];return Math.abs(s-T)<=V*Math.max(1,Math.abs(s),Math.abs(T))&&Math.abs(a-A)<=V*Math.max(1,Math.abs(a),Math.abs(A))&&Math.abs(f-w)<=V*Math.max(1,Math.abs(f),Math.abs(w))&&Math.abs(l-S)<=V*Math.max(1,Math.abs(l),Math.abs(S))&&Math.abs(p-R)<=V*Math.max(1,Math.abs(p),Math.abs(R))&&Math.abs(g-z)<=V*Math.max(1,Math.abs(g),Math.abs(z))&&Math.abs(x-D)<=V*Math.max(1,Math.abs(x),Math.abs(D))&&Math.abs(v-W)<=V*Math.max(1,Math.abs(v),Math.abs(W))&&Math.abs(m-F)<=V*Math.max(1,Math.abs(m),Math.abs(F))}static str(n){return`Mat3(${n.join(", ")})`}};$(Kn,"BYTE_LENGTH",9*Float32Array.BYTES_PER_ELEMENT);let Lt=Kn;Lt.prototype.mul=Lt.prototype.multiply,Lt.mul=Lt.multiply,Lt.sub=Lt.subtract;const et=class et extends Float32Array{constructor(...n){switch(n.length){case 3:super(n);break;case 2:super(n[0],n[1],3);break;case 1:{const e=n[0];typeof e=="number"?super([e,e,e]):super(e,0,3);break}default:super(3);break}}get x(){return this[0]}set x(n){this[0]=n}get y(){return this[1]}set y(n){this[1]=n}get z(){return this[2]}set z(n){this[2]=n}get r(){return this[0]}set r(n){this[0]=n}get g(){return this[1]}set g(n){this[1]=n}get b(){return this[2]}set b(n){this[2]=n}get magnitude(){const n=this[0],e=this[1],s=this[2];return Math.sqrt(n*n+e*e+s*s)}get mag(){return this.magnitude}get squaredMagnitude(){const n=this[0],e=this[1],s=this[2];return n*n+e*e+s*s}get sqrMag(){return this.squaredMagnitude}get str(){return et.str(this)}copy(n){return this.set(n),this}add(n){return this[0]+=n[0],this[1]+=n[1],this[2]+=n[2],this}subtract(n){return this[0]-=n[0],this[1]-=n[1],this[2]-=n[2],this}sub(n){return this}multiply(n){return this[0]*=n[0],this[1]*=n[1],this[2]*=n[2],this}mul(n){return this}divide(n){return this[0]/=n[0],this[1]/=n[1],this[2]/=n[2],this}div(n){return this}scale(n){return this[0]*=n,this[1]*=n,this[2]*=n,this}scaleAndAdd(n,e){return this[0]+=n[0]*e,this[1]+=n[1]*e,this[2]+=n[2]*e,this}distance(n){return et.distance(this,n)}dist(n){return 0}squaredDistance(n){return et.squaredDistance(this,n)}sqrDist(n){return 0}negate(){return this[0]*=-1,this[1]*=-1,this[2]*=-1,this}invert(){return this[0]=1/this[0],this[1]=1/this[1],this[2]=1/this[2],this}dot(n){return this[0]*n[0]+this[1]*n[1]+this[2]*n[2]}normalize(){return et.normalize(this,this)}static create(){return new et}static clone(n){return new et(n)}static magnitude(n){let e=n[0],s=n[1],a=n[2];return Math.sqrt(e*e+s*s+a*a)}static mag(n){return 0}static length(n){return 0}static len(n){return 0}static fromValues(n,e,s){return new et(n,e,s)}static copy(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n}static set(n,e,s,a){return n[0]=e,n[1]=s,n[2]=a,n}static add(n,e,s){return n[0]=e[0]+s[0],n[1]=e[1]+s[1],n[2]=e[2]+s[2],n}static subtract(n,e,s){return n[0]=e[0]-s[0],n[1]=e[1]-s[1],n[2]=e[2]-s[2],n}static sub(n,e,s){return[0,0,0]}static multiply(n,e,s){return n[0]=e[0]*s[0],n[1]=e[1]*s[1],n[2]=e[2]*s[2],n}static mul(n,e,s){return[0,0,0]}static divide(n,e,s){return n[0]=e[0]/s[0],n[1]=e[1]/s[1],n[2]=e[2]/s[2],n}static div(n,e,s){return[0,0,0]}static ceil(n,e){return n[0]=Math.ceil(e[0]),n[1]=Math.ceil(e[1]),n[2]=Math.ceil(e[2]),n}static floor(n,e){return n[0]=Math.floor(e[0]),n[1]=Math.floor(e[1]),n[2]=Math.floor(e[2]),n}static min(n,e,s){return n[0]=Math.min(e[0],s[0]),n[1]=Math.min(e[1],s[1]),n[2]=Math.min(e[2],s[2]),n}static max(n,e,s){return n[0]=Math.max(e[0],s[0]),n[1]=Math.max(e[1],s[1]),n[2]=Math.max(e[2],s[2]),n}static scale(n,e,s){return n[0]=e[0]*s,n[1]=e[1]*s,n[2]=e[2]*s,n}static scaleAndAdd(n,e,s,a){return n[0]=e[0]+s[0]*a,n[1]=e[1]+s[1]*a,n[2]=e[2]+s[2]*a,n}static distance(n,e){const s=e[0]-n[0],a=e[1]-n[1],f=e[2]-n[2];return Math.sqrt(s*s+a*a+f*f)}static dist(n,e){return 0}static squaredDistance(n,e){const s=e[0]-n[0],a=e[1]-n[1],f=e[2]-n[2];return s*s+a*a+f*f}static sqrDist(n,e){return 0}static squaredLength(n){const e=n[0],s=n[1],a=n[2];return e*e+s*s+a*a}static sqrLen(n,e){return 0}static negate(n,e){return n[0]=-e[0],n[1]=-e[1],n[2]=-e[2],n}static inverse(n,e){return n[0]=1/e[0],n[1]=1/e[1],n[2]=1/e[2],n}static normalize(n,e){const s=e[0],a=e[1],f=e[2];let l=s*s+a*a+f*f;return l>0&&(l=1/Math.sqrt(l)),n[0]=e[0]*l,n[1]=e[1]*l,n[2]=e[2]*l,n}static dot(n,e){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]}static cross(n,e,s){const a=e[0],f=e[1],l=e[2],p=s[0],g=s[1],x=s[2];return n[0]=f*x-l*g,n[1]=l*p-a*x,n[2]=a*g-f*p,n}static lerp(n,e,s,a){const f=e[0],l=e[1],p=e[2];return n[0]=f+a*(s[0]-f),n[1]=l+a*(s[1]-l),n[2]=p+a*(s[2]-p),n}static slerp(n,e,s,a){const f=Math.acos(Math.min(Math.max(et.dot(e,s),-1),1)),l=Math.sin(f),p=Math.sin((1-a)*f)/l,g=Math.sin(a*f)/l;return n[0]=p*e[0]+g*s[0],n[1]=p*e[1]+g*s[1],n[2]=p*e[2]+g*s[2],n}static hermite(n,e,s,a,f,l){const p=l*l,g=p*(2*l-3)+1,x=p*(l-2)+l,v=p*(l-1),m=p*(3-2*l);return n[0]=e[0]*g+s[0]*x+a[0]*v+f[0]*m,n[1]=e[1]*g+s[1]*x+a[1]*v+f[1]*m,n[2]=e[2]*g+s[2]*x+a[2]*v+f[2]*m,n}static bezier(n,e,s,a,f,l){const p=1-l,g=p*p,x=l*l,v=g*p,m=3*l*g,T=3*x*p,A=x*l;return n[0]=e[0]*v+s[0]*m+a[0]*T+f[0]*A,n[1]=e[1]*v+s[1]*m+a[1]*T+f[1]*A,n[2]=e[2]*v+s[2]*m+a[2]*T+f[2]*A,n}static transformMat4(n,e,s){const a=e[0],f=e[1],l=e[2],p=s[3]*a+s[7]*f+s[11]*l+s[15]||1;return n[0]=(s[0]*a+s[4]*f+s[8]*l+s[12])/p,n[1]=(s[1]*a+s[5]*f+s[9]*l+s[13])/p,n[2]=(s[2]*a+s[6]*f+s[10]*l+s[14])/p,n}static transformMat3(n,e,s){let a=e[0],f=e[1],l=e[2];return n[0]=a*s[0]+f*s[3]+l*s[6],n[1]=a*s[1]+f*s[4]+l*s[7],n[2]=a*s[2]+f*s[5]+l*s[8],n}static transformQuat(n,e,s){const a=s[0],f=s[1],l=s[2],p=s[3]*2,g=e[0],x=e[1],v=e[2],m=f*v-l*x,T=l*g-a*v,A=a*x-f*g,w=(f*A-l*T)*2,S=(l*m-a*A)*2,R=(a*T-f*m)*2;return n[0]=g+m*p+w,n[1]=x+T*p+S,n[2]=v+A*p+R,n}static rotateX(n,e,s,a){const f=s[1],l=s[2],p=e[1]-f,g=e[2]-l;return n[0]=e[0],n[1]=p*Math.cos(a)-g*Math.sin(a)+f,n[2]=p*Math.sin(a)+g*Math.cos(a)+l,n}static rotateY(n,e,s,a){const f=s[0],l=s[2],p=e[0]-f,g=e[2]-l;return n[0]=g*Math.sin(a)+p*Math.cos(a)+f,n[1]=e[1],n[2]=g*Math.cos(a)-p*Math.sin(a)+l,n}static rotateZ(n,e,s,a){const f=s[0],l=s[1],p=e[0]-f,g=e[1]-l;return n[0]=p*Math.cos(a)-g*Math.sin(a)+f,n[1]=p*Math.sin(a)+g*Math.cos(a)+l,n[2]=s[2],n}static angle(n,e){const s=n[0],a=n[1],f=n[2],l=e[0],p=e[1],g=e[2],x=Math.sqrt((s*s+a*a+f*f)*(l*l+p*p+g*g)),v=x&&et.dot(n,e)/x;return Math.acos(Math.min(Math.max(v,-1),1))}static zero(n){return n[0]=0,n[1]=0,n[2]=0,n}static str(n){return`Vec3(${n.join(", ")})`}static exactEquals(n,e){return n[0]===e[0]&&n[1]===e[1]&&n[2]===e[2]}static equals(n,e){const s=n[0],a=n[1],f=n[2],l=e[0],p=e[1],g=e[2];return Math.abs(s-l)<=V*Math.max(1,Math.abs(s),Math.abs(l))&&Math.abs(a-p)<=V*Math.max(1,Math.abs(a),Math.abs(p))&&Math.abs(f-g)<=V*Math.max(1,Math.abs(f),Math.abs(g))}};$(et,"BYTE_LENGTH",3*Float32Array.BYTES_PER_ELEMENT);let J=et;J.prototype.sub=J.prototype.subtract,J.prototype.mul=J.prototype.multiply,J.prototype.div=J.prototype.divide,J.prototype.dist=J.prototype.distance,J.prototype.sqrDist=J.prototype.squaredDistance,J.sub=J.subtract,J.mul=J.multiply,J.div=J.divide,J.dist=J.distance,J.sqrDist=J.squaredDistance,J.sqrLen=J.squaredLength,J.mag=J.magnitude,J.length=J.magnitude,J.len=J.magnitude;const on=J,ds=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),En=class En extends Float32Array{constructor(...n){switch(n.length){case 16:super(n);break;case 2:super(n[0],n[1],16);break;case 1:const e=n[0];typeof e=="number"?super([e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e]):super(e,0,16);break;default:super(ds);break}}get str(){return En.str(this)}copy(n){return this.set(n),this}identity(){return this.set(ds),this}multiply(n){return En.multiply(this,this,n)}mul(n){return this}transpose(){return En.transpose(this,this)}invert(){return En.invert(this,this)}translate(n){return En.translate(this,this,n)}rotate(n,e){return En.rotate(this,this,n,e)}scale(n){return En.scale(this,this,n)}rotateX(n){return En.rotateX(this,this,n)}rotateY(n){return En.rotateY(this,this,n)}rotateZ(n){return En.rotateZ(this,this,n)}perspectiveNO(n,e,s,a){return En.perspectiveNO(this,n,e,s,a)}perspectiveZO(n,e,s,a){return En.perspectiveZO(this,n,e,s,a)}orthoNO(n,e,s,a,f,l){return En.orthoNO(this,n,e,s,a,f,l)}orthoZO(n,e,s,a,f,l){return En.orthoZO(this,n,e,s,a,f,l)}static create(){return new En}static clone(n){return new En(n)}static copy(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n[9]=e[9],n[10]=e[10],n[11]=e[11],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15],n}static fromValues(...n){return new En(...n)}static set(n,...e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n[9]=e[9],n[10]=e[10],n[11]=e[11],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15],n}static identity(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}static transpose(n,e){if(n===e){const s=e[1],a=e[2],f=e[3],l=e[6],p=e[7],g=e[11];n[1]=e[4],n[2]=e[8],n[3]=e[12],n[4]=s,n[6]=e[9],n[7]=e[13],n[8]=a,n[9]=l,n[11]=e[14],n[12]=f,n[13]=p,n[14]=g}else n[0]=e[0],n[1]=e[4],n[2]=e[8],n[3]=e[12],n[4]=e[1],n[5]=e[5],n[6]=e[9],n[7]=e[13],n[8]=e[2],n[9]=e[6],n[10]=e[10],n[11]=e[14],n[12]=e[3],n[13]=e[7],n[14]=e[11],n[15]=e[15];return n}static invert(n,e){const s=e[0],a=e[1],f=e[2],l=e[3],p=e[4],g=e[5],x=e[6],v=e[7],m=e[8],T=e[9],A=e[10],w=e[11],S=e[12],R=e[13],z=e[14],D=e[15],W=s*g-a*p,F=s*x-f*p,O=s*v-l*p,U=a*x-f*g,q=a*v-l*g,en=f*v-l*x,j=m*R-T*S,hn=m*z-A*S,H=m*D-w*S,xn=T*z-A*R,dn=T*D-w*R,pn=A*D-w*z;let K=W*pn-F*dn+O*xn+U*H-q*hn+en*j;return K?(K=1/K,n[0]=(g*pn-x*dn+v*xn)*K,n[1]=(f*dn-a*pn-l*xn)*K,n[2]=(R*en-z*q+D*U)*K,n[3]=(A*q-T*en-w*U)*K,n[4]=(x*H-p*pn-v*hn)*K,n[5]=(s*pn-f*H+l*hn)*K,n[6]=(z*O-S*en-D*F)*K,n[7]=(m*en-A*O+w*F)*K,n[8]=(p*dn-g*H+v*j)*K,n[9]=(a*H-s*dn-l*j)*K,n[10]=(S*q-R*O+D*W)*K,n[11]=(T*O-m*q-w*W)*K,n[12]=(g*hn-p*xn-x*j)*K,n[13]=(s*xn-a*hn+f*j)*K,n[14]=(R*F-S*U-z*W)*K,n[15]=(m*U-T*F+A*W)*K,n):null}static adjoint(n,e){const s=e[0],a=e[1],f=e[2],l=e[3],p=e[4],g=e[5],x=e[6],v=e[7],m=e[8],T=e[9],A=e[10],w=e[11],S=e[12],R=e[13],z=e[14],D=e[15],W=s*g-a*p,F=s*x-f*p,O=s*v-l*p,U=a*x-f*g,q=a*v-l*g,en=f*v-l*x,j=m*R-T*S,hn=m*z-A*S,H=m*D-w*S,xn=T*z-A*R,dn=T*D-w*R,pn=A*D-w*z;return n[0]=g*pn-x*dn+v*xn,n[1]=f*dn-a*pn-l*xn,n[2]=R*en-z*q+D*U,n[3]=A*q-T*en-w*U,n[4]=x*H-p*pn-v*hn,n[5]=s*pn-f*H+l*hn,n[6]=z*O-S*en-D*F,n[7]=m*en-A*O+w*F,n[8]=p*dn-g*H+v*j,n[9]=a*H-s*dn-l*j,n[10]=S*q-R*O+D*W,n[11]=T*O-m*q-w*W,n[12]=g*hn-p*xn-x*j,n[13]=s*xn-a*hn+f*j,n[14]=R*F-S*U-z*W,n[15]=m*U-T*F+A*W,n}static determinant(n){const e=n[0],s=n[1],a=n[2],f=n[3],l=n[4],p=n[5],g=n[6],x=n[7],v=n[8],m=n[9],T=n[10],A=n[11],w=n[12],S=n[13],R=n[14],z=n[15],D=e*p-s*l,W=e*g-a*l,F=s*g-a*p,O=v*S-m*w,U=v*R-T*w,q=m*R-T*S,en=e*q-s*U+a*O,j=l*q-p*U+g*O,hn=v*F-m*W+T*D,H=w*F-S*W+R*D;return x*en-f*j+z*hn-A*H}static multiply(n,e,s){const a=e[0],f=e[1],l=e[2],p=e[3],g=e[4],x=e[5],v=e[6],m=e[7],T=e[8],A=e[9],w=e[10],S=e[11],R=e[12],z=e[13],D=e[14],W=e[15];let F=s[0],O=s[1],U=s[2],q=s[3];return n[0]=F*a+O*g+U*T+q*R,n[1]=F*f+O*x+U*A+q*z,n[2]=F*l+O*v+U*w+q*D,n[3]=F*p+O*m+U*S+q*W,F=s[4],O=s[5],U=s[6],q=s[7],n[4]=F*a+O*g+U*T+q*R,n[5]=F*f+O*x+U*A+q*z,n[6]=F*l+O*v+U*w+q*D,n[7]=F*p+O*m+U*S+q*W,F=s[8],O=s[9],U=s[10],q=s[11],n[8]=F*a+O*g+U*T+q*R,n[9]=F*f+O*x+U*A+q*z,n[10]=F*l+O*v+U*w+q*D,n[11]=F*p+O*m+U*S+q*W,F=s[12],O=s[13],U=s[14],q=s[15],n[12]=F*a+O*g+U*T+q*R,n[13]=F*f+O*x+U*A+q*z,n[14]=F*l+O*v+U*w+q*D,n[15]=F*p+O*m+U*S+q*W,n}static mul(n,e,s){return n}static translate(n,e,s){const a=s[0],f=s[1],l=s[2];if(e===n)n[12]=e[0]*a+e[4]*f+e[8]*l+e[12],n[13]=e[1]*a+e[5]*f+e[9]*l+e[13],n[14]=e[2]*a+e[6]*f+e[10]*l+e[14],n[15]=e[3]*a+e[7]*f+e[11]*l+e[15];else{const p=e[0],g=e[1],x=e[2],v=e[3],m=e[4],T=e[5],A=e[6],w=e[7],S=e[8],R=e[9],z=e[10],D=e[11];n[0]=p,n[1]=g,n[2]=x,n[3]=v,n[4]=m,n[5]=T,n[6]=A,n[7]=w,n[8]=S,n[9]=R,n[10]=z,n[11]=D,n[12]=p*a+m*f+S*l+e[12],n[13]=g*a+T*f+R*l+e[13],n[14]=x*a+A*f+z*l+e[14],n[15]=v*a+w*f+D*l+e[15]}return n}static scale(n,e,s){const a=s[0],f=s[1],l=s[2];return n[0]=e[0]*a,n[1]=e[1]*a,n[2]=e[2]*a,n[3]=e[3]*a,n[4]=e[4]*f,n[5]=e[5]*f,n[6]=e[6]*f,n[7]=e[7]*f,n[8]=e[8]*l,n[9]=e[9]*l,n[10]=e[10]*l,n[11]=e[11]*l,n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15],n}static rotate(n,e,s,a){let f=a[0],l=a[1],p=a[2],g=Math.sqrt(f*f+l*l+p*p);if(g<V)return null;g=1/g,f*=g,l*=g,p*=g;const x=Math.sin(s),v=Math.cos(s),m=1-v,T=e[0],A=e[1],w=e[2],S=e[3],R=e[4],z=e[5],D=e[6],W=e[7],F=e[8],O=e[9],U=e[10],q=e[11],en=f*f*m+v,j=l*f*m+p*x,hn=p*f*m-l*x,H=f*l*m-p*x,xn=l*l*m+v,dn=p*l*m+f*x,pn=f*p*m+l*x,K=l*p*m-f*x,rt=p*p*m+v;return n[0]=T*en+R*j+F*hn,n[1]=A*en+z*j+O*hn,n[2]=w*en+D*j+U*hn,n[3]=S*en+W*j+q*hn,n[4]=T*H+R*xn+F*dn,n[5]=A*H+z*xn+O*dn,n[6]=w*H+D*xn+U*dn,n[7]=S*H+W*xn+q*dn,n[8]=T*pn+R*K+F*rt,n[9]=A*pn+z*K+O*rt,n[10]=w*pn+D*K+U*rt,n[11]=S*pn+W*K+q*rt,e!==n&&(n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]),n}static rotateX(n,e,s){let a=Math.sin(s),f=Math.cos(s),l=e[4],p=e[5],g=e[6],x=e[7],v=e[8],m=e[9],T=e[10],A=e[11];return e!==n&&(n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]),n[4]=l*f+v*a,n[5]=p*f+m*a,n[6]=g*f+T*a,n[7]=x*f+A*a,n[8]=v*f-l*a,n[9]=m*f-p*a,n[10]=T*f-g*a,n[11]=A*f-x*a,n}static rotateY(n,e,s){let a=Math.sin(s),f=Math.cos(s),l=e[0],p=e[1],g=e[2],x=e[3],v=e[8],m=e[9],T=e[10],A=e[11];return e!==n&&(n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]),n[0]=l*f-v*a,n[1]=p*f-m*a,n[2]=g*f-T*a,n[3]=x*f-A*a,n[8]=l*a+v*f,n[9]=p*a+m*f,n[10]=g*a+T*f,n[11]=x*a+A*f,n}static rotateZ(n,e,s){let a=Math.sin(s),f=Math.cos(s),l=e[0],p=e[1],g=e[2],x=e[3],v=e[4],m=e[5],T=e[6],A=e[7];return e!==n&&(n[8]=e[8],n[9]=e[9],n[10]=e[10],n[11]=e[11],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]),n[0]=l*f+v*a,n[1]=p*f+m*a,n[2]=g*f+T*a,n[3]=x*f+A*a,n[4]=v*f-l*a,n[5]=m*f-p*a,n[6]=T*f-g*a,n[7]=A*f-x*a,n}static fromTranslation(n,e){return n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=e[0],n[13]=e[1],n[14]=e[2],n[15]=1,n}static fromScaling(n,e){return n[0]=e[0],n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=e[1],n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=e[2],n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}static fromRotation(n,e,s){let a=s[0],f=s[1],l=s[2],p=Math.sqrt(a*a+f*f+l*l);if(p<V)return null;p=1/p,a*=p,f*=p,l*=p;const g=Math.sin(e),x=Math.cos(e),v=1-x;return n[0]=a*a*v+x,n[1]=f*a*v+l*g,n[2]=l*a*v-f*g,n[3]=0,n[4]=a*f*v-l*g,n[5]=f*f*v+x,n[6]=l*f*v+a*g,n[7]=0,n[8]=a*l*v+f*g,n[9]=f*l*v-a*g,n[10]=l*l*v+x,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}static fromXRotation(n,e){let s=Math.sin(e),a=Math.cos(e);return n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=a,n[6]=s,n[7]=0,n[8]=0,n[9]=-s,n[10]=a,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}static fromYRotation(n,e){let s=Math.sin(e),a=Math.cos(e);return n[0]=a,n[1]=0,n[2]=-s,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=s,n[9]=0,n[10]=a,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}static fromZRotation(n,e){const s=Math.sin(e),a=Math.cos(e);return n[0]=a,n[1]=s,n[2]=0,n[3]=0,n[4]=-s,n[5]=a,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}static fromRotationTranslation(n,e,s){const a=e[0],f=e[1],l=e[2],p=e[3],g=a+a,x=f+f,v=l+l,m=a*g,T=a*x,A=a*v,w=f*x,S=f*v,R=l*v,z=p*g,D=p*x,W=p*v;return n[0]=1-(w+R),n[1]=T+W,n[2]=A-D,n[3]=0,n[4]=T-W,n[5]=1-(m+R),n[6]=S+z,n[7]=0,n[8]=A+D,n[9]=S-z,n[10]=1-(m+w),n[11]=0,n[12]=s[0],n[13]=s[1],n[14]=s[2],n[15]=1,n}static fromQuat2(n,e){let s=new J;const a=-e[0],f=-e[1],l=-e[2],p=e[3],g=e[4],x=e[5],v=e[6],m=e[7];let T=a*a+f*f+l*l+p*p;return T>0?(s[0]=(g*p+m*a+x*l-v*f)*2/T,s[1]=(x*p+m*f+v*a-g*l)*2/T,s[2]=(v*p+m*l+g*f-x*a)*2/T):(s[0]=(g*p+m*a+x*l-v*f)*2,s[1]=(x*p+m*f+v*a-g*l)*2,s[2]=(v*p+m*l+g*f-x*a)*2),En.fromRotationTranslation(n,e,s),n}static getTranslation(n,e){return n[0]=e[12],n[1]=e[13],n[2]=e[14],n}static getScaling(n,e){const s=e[0],a=e[1],f=e[2],l=e[4],p=e[5],g=e[6],x=e[8],v=e[9],m=e[10];return n[0]=Math.sqrt(s*s+a*a+f*f),n[1]=Math.sqrt(l*l+p*p+g*g),n[2]=Math.sqrt(x*x+v*v+m*m),n}static getRotation(n,e){En.getScaling($e,e);const s=1/$e[0],a=1/$e[1],f=1/$e[2],l=e[0]*s,p=e[1]*a,g=e[2]*f,x=e[4]*s,v=e[5]*a,m=e[6]*f,T=e[8]*s,A=e[9]*a,w=e[10]*f,S=l+v+w;let R=0;return S>0?(R=Math.sqrt(S+1)*2,n[3]=.25*R,n[0]=(m-A)/R,n[1]=(T-g)/R,n[2]=(p-x)/R):l>v&&l>w?(R=Math.sqrt(1+l-v-w)*2,n[3]=(m-A)/R,n[0]=.25*R,n[1]=(p+x)/R,n[2]=(T+g)/R):v>w?(R=Math.sqrt(1+v-l-w)*2,n[3]=(T-g)/R,n[0]=(p+x)/R,n[1]=.25*R,n[2]=(m+A)/R):(R=Math.sqrt(1+w-l-v)*2,n[3]=(p-x)/R,n[0]=(T+g)/R,n[1]=(m+A)/R,n[2]=.25*R),n}static decompose(n,e,s,a){e[0]=a[12],e[1]=a[13],e[2]=a[14];const f=a[0],l=a[1],p=a[2],g=a[4],x=a[5],v=a[6],m=a[8],T=a[9],A=a[10];s[0]=Math.sqrt(f*f+l*l+p*p),s[1]=Math.sqrt(g*g+x*x+v*v),s[2]=Math.sqrt(m*m+T*T+A*A);const w=1/s[0],S=1/s[1],R=1/s[2],z=f*w,D=l*S,W=p*R,F=g*w,O=x*S,U=v*R,q=m*w,en=T*S,j=A*R,hn=z+O+j;let H=0;return hn>0?(H=Math.sqrt(hn+1)*2,n[3]=.25*H,n[0]=(U-en)/H,n[1]=(q-W)/H,n[2]=(D-F)/H):z>O&&z>j?(H=Math.sqrt(1+z-O-j)*2,n[3]=(U-en)/H,n[0]=.25*H,n[1]=(D+F)/H,n[2]=(q+W)/H):O>j?(H=Math.sqrt(1+O-z-j)*2,n[3]=(q-W)/H,n[0]=(D+F)/H,n[1]=.25*H,n[2]=(U+en)/H):(H=Math.sqrt(1+j-z-O)*2,n[3]=(D-F)/H,n[0]=(q+W)/H,n[1]=(U+en)/H,n[2]=.25*H),n}static fromRotationTranslationScale(n,e,s,a){const f=e[0],l=e[1],p=e[2],g=e[3],x=f+f,v=l+l,m=p+p,T=f*x,A=f*v,w=f*m,S=l*v,R=l*m,z=p*m,D=g*x,W=g*v,F=g*m,O=a[0],U=a[1],q=a[2];return n[0]=(1-(S+z))*O,n[1]=(A+F)*O,n[2]=(w-W)*O,n[3]=0,n[4]=(A-F)*U,n[5]=(1-(T+z))*U,n[6]=(R+D)*U,n[7]=0,n[8]=(w+W)*q,n[9]=(R-D)*q,n[10]=(1-(T+S))*q,n[11]=0,n[12]=s[0],n[13]=s[1],n[14]=s[2],n[15]=1,n}static fromRotationTranslationScaleOrigin(n,e,s,a,f){const l=e[0],p=e[1],g=e[2],x=e[3],v=l+l,m=p+p,T=g+g,A=l*v,w=l*m,S=l*T,R=p*m,z=p*T,D=g*T,W=x*v,F=x*m,O=x*T,U=a[0],q=a[1],en=a[2],j=f[0],hn=f[1],H=f[2],xn=(1-(R+D))*U,dn=(w+O)*U,pn=(S-F)*U,K=(w-O)*q,rt=(1-(A+D))*q,Xn=(z+W)*q,Nn=(S+F)*en,Qe=(z-W)*en,Xt=(1-(A+R))*en;return n[0]=xn,n[1]=dn,n[2]=pn,n[3]=0,n[4]=K,n[5]=rt,n[6]=Xn,n[7]=0,n[8]=Nn,n[9]=Qe,n[10]=Xt,n[11]=0,n[12]=s[0]+j-(xn*j+K*hn+Nn*H),n[13]=s[1]+hn-(dn*j+rt*hn+Qe*H),n[14]=s[2]+H-(pn*j+Xn*hn+Xt*H),n[15]=1,n}static fromQuat(n,e){const s=e[0],a=e[1],f=e[2],l=e[3],p=s+s,g=a+a,x=f+f,v=s*p,m=a*p,T=a*g,A=f*p,w=f*g,S=f*x,R=l*p,z=l*g,D=l*x;return n[0]=1-T-S,n[1]=m+D,n[2]=A-z,n[3]=0,n[4]=m-D,n[5]=1-v-S,n[6]=w+R,n[7]=0,n[8]=A+z,n[9]=w-R,n[10]=1-v-T,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}static frustum(n,e,s,a,f,l,p){const g=1/(s-e),x=1/(f-a),v=1/(l-p);return n[0]=l*2*g,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=l*2*x,n[6]=0,n[7]=0,n[8]=(s+e)*g,n[9]=(f+a)*x,n[10]=(p+l)*v,n[11]=-1,n[12]=0,n[13]=0,n[14]=p*l*2*v,n[15]=0,n}static perspectiveNO(n,e,s,a,f){const l=1/Math.tan(e/2);if(n[0]=l/s,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=l,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[11]=-1,n[12]=0,n[13]=0,n[15]=0,f!=null&&f!==1/0){const p=1/(a-f);n[10]=(f+a)*p,n[14]=2*f*a*p}else n[10]=-1,n[14]=-2*a;return n}static perspective(n,e,s,a,f){return n}static perspectiveZO(n,e,s,a,f){const l=1/Math.tan(e/2);if(n[0]=l/s,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=l,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[11]=-1,n[12]=0,n[13]=0,n[15]=0,f!=null&&f!==1/0){const p=1/(a-f);n[10]=f*p,n[14]=f*a*p}else n[10]=-1,n[14]=-a;return n}static perspectiveFromFieldOfView(n,e,s,a){const f=Math.tan(e.upDegrees*Math.PI/180),l=Math.tan(e.downDegrees*Math.PI/180),p=Math.tan(e.leftDegrees*Math.PI/180),g=Math.tan(e.rightDegrees*Math.PI/180),x=2/(p+g),v=2/(f+l);return n[0]=x,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=v,n[6]=0,n[7]=0,n[8]=-((p-g)*x*.5),n[9]=(f-l)*v*.5,n[10]=a/(s-a),n[11]=-1,n[12]=0,n[13]=0,n[14]=a*s/(s-a),n[15]=0,n}static orthoNO(n,e,s,a,f,l,p){const g=1/(e-s),x=1/(a-f),v=1/(l-p);return n[0]=-2*g,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=-2*x,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=2*v,n[11]=0,n[12]=(e+s)*g,n[13]=(f+a)*x,n[14]=(p+l)*v,n[15]=1,n}static ortho(n,e,s,a,f,l,p){return n}static orthoZO(n,e,s,a,f,l,p){const g=1/(e-s),x=1/(a-f),v=1/(l-p);return n[0]=-2*g,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=-2*x,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=v,n[11]=0,n[12]=(e+s)*g,n[13]=(f+a)*x,n[14]=l*v,n[15]=1,n}static lookAt(n,e,s,a){const f=e[0],l=e[1],p=e[2],g=a[0],x=a[1],v=a[2],m=s[0],T=s[1],A=s[2];if(Math.abs(f-m)<V&&Math.abs(l-T)<V&&Math.abs(p-A)<V)return En.identity(n);let w=f-m,S=l-T,R=p-A,z=1/Math.sqrt(w*w+S*S+R*R);w*=z,S*=z,R*=z;let D=x*R-v*S,W=v*w-g*R,F=g*S-x*w;z=Math.sqrt(D*D+W*W+F*F),z?(z=1/z,D*=z,W*=z,F*=z):(D=0,W=0,F=0);let O=S*F-R*W,U=R*D-w*F,q=w*W-S*D;return z=Math.sqrt(O*O+U*U+q*q),z?(z=1/z,O*=z,U*=z,q*=z):(O=0,U=0,q=0),n[0]=D,n[1]=O,n[2]=w,n[3]=0,n[4]=W,n[5]=U,n[6]=S,n[7]=0,n[8]=F,n[9]=q,n[10]=R,n[11]=0,n[12]=-(D*f+W*l+F*p),n[13]=-(O*f+U*l+q*p),n[14]=-(w*f+S*l+R*p),n[15]=1,n}static targetTo(n,e,s,a){const f=e[0],l=e[1],p=e[2],g=a[0],x=a[1],v=a[2];let m=f-s[0],T=l-s[1],A=p-s[2],w=m*m+T*T+A*A;w>0&&(w=1/Math.sqrt(w),m*=w,T*=w,A*=w);let S=x*A-v*T,R=v*m-g*A,z=g*T-x*m;return w=S*S+R*R+z*z,w>0&&(w=1/Math.sqrt(w),S*=w,R*=w,z*=w),n[0]=S,n[1]=R,n[2]=z,n[3]=0,n[4]=T*z-A*R,n[5]=A*S-m*z,n[6]=m*R-T*S,n[7]=0,n[8]=m,n[9]=T,n[10]=A,n[11]=0,n[12]=f,n[13]=l,n[14]=p,n[15]=1,n}static frob(n){return Math.sqrt(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]+n[3]*n[3]+n[4]*n[4]+n[5]*n[5]+n[6]*n[6]+n[7]*n[7]+n[8]*n[8]+n[9]*n[9]+n[10]*n[10]+n[11]*n[11]+n[12]*n[12]+n[13]*n[13]+n[14]*n[14]+n[15]*n[15])}static add(n,e,s){return n[0]=e[0]+s[0],n[1]=e[1]+s[1],n[2]=e[2]+s[2],n[3]=e[3]+s[3],n[4]=e[4]+s[4],n[5]=e[5]+s[5],n[6]=e[6]+s[6],n[7]=e[7]+s[7],n[8]=e[8]+s[8],n[9]=e[9]+s[9],n[10]=e[10]+s[10],n[11]=e[11]+s[11],n[12]=e[12]+s[12],n[13]=e[13]+s[13],n[14]=e[14]+s[14],n[15]=e[15]+s[15],n}static subtract(n,e,s){return n[0]=e[0]-s[0],n[1]=e[1]-s[1],n[2]=e[2]-s[2],n[3]=e[3]-s[3],n[4]=e[4]-s[4],n[5]=e[5]-s[5],n[6]=e[6]-s[6],n[7]=e[7]-s[7],n[8]=e[8]-s[8],n[9]=e[9]-s[9],n[10]=e[10]-s[10],n[11]=e[11]-s[11],n[12]=e[12]-s[12],n[13]=e[13]-s[13],n[14]=e[14]-s[14],n[15]=e[15]-s[15],n}static sub(n,e,s){return n}static multiplyScalar(n,e,s){return n[0]=e[0]*s,n[1]=e[1]*s,n[2]=e[2]*s,n[3]=e[3]*s,n[4]=e[4]*s,n[5]=e[5]*s,n[6]=e[6]*s,n[7]=e[7]*s,n[8]=e[8]*s,n[9]=e[9]*s,n[10]=e[10]*s,n[11]=e[11]*s,n[12]=e[12]*s,n[13]=e[13]*s,n[14]=e[14]*s,n[15]=e[15]*s,n}static multiplyScalarAndAdd(n,e,s,a){return n[0]=e[0]+s[0]*a,n[1]=e[1]+s[1]*a,n[2]=e[2]+s[2]*a,n[3]=e[3]+s[3]*a,n[4]=e[4]+s[4]*a,n[5]=e[5]+s[5]*a,n[6]=e[6]+s[6]*a,n[7]=e[7]+s[7]*a,n[8]=e[8]+s[8]*a,n[9]=e[9]+s[9]*a,n[10]=e[10]+s[10]*a,n[11]=e[11]+s[11]*a,n[12]=e[12]+s[12]*a,n[13]=e[13]+s[13]*a,n[14]=e[14]+s[14]*a,n[15]=e[15]+s[15]*a,n}static exactEquals(n,e){return n[0]===e[0]&&n[1]===e[1]&&n[2]===e[2]&&n[3]===e[3]&&n[4]===e[4]&&n[5]===e[5]&&n[6]===e[6]&&n[7]===e[7]&&n[8]===e[8]&&n[9]===e[9]&&n[10]===e[10]&&n[11]===e[11]&&n[12]===e[12]&&n[13]===e[13]&&n[14]===e[14]&&n[15]===e[15]}static equals(n,e){const s=n[0],a=n[1],f=n[2],l=n[3],p=n[4],g=n[5],x=n[6],v=n[7],m=n[8],T=n[9],A=n[10],w=n[11],S=n[12],R=n[13],z=n[14],D=n[15],W=e[0],F=e[1],O=e[2],U=e[3],q=e[4],en=e[5],j=e[6],hn=e[7],H=e[8],xn=e[9],dn=e[10],pn=e[11],K=e[12],rt=e[13],Xn=e[14],Nn=e[15];return Math.abs(s-W)<=V*Math.max(1,Math.abs(s),Math.abs(W))&&Math.abs(a-F)<=V*Math.max(1,Math.abs(a),Math.abs(F))&&Math.abs(f-O)<=V*Math.max(1,Math.abs(f),Math.abs(O))&&Math.abs(l-U)<=V*Math.max(1,Math.abs(l),Math.abs(U))&&Math.abs(p-q)<=V*Math.max(1,Math.abs(p),Math.abs(q))&&Math.abs(g-en)<=V*Math.max(1,Math.abs(g),Math.abs(en))&&Math.abs(x-j)<=V*Math.max(1,Math.abs(x),Math.abs(j))&&Math.abs(v-hn)<=V*Math.max(1,Math.abs(v),Math.abs(hn))&&Math.abs(m-H)<=V*Math.max(1,Math.abs(m),Math.abs(H))&&Math.abs(T-xn)<=V*Math.max(1,Math.abs(T),Math.abs(xn))&&Math.abs(A-dn)<=V*Math.max(1,Math.abs(A),Math.abs(dn))&&Math.abs(w-pn)<=V*Math.max(1,Math.abs(w),Math.abs(pn))&&Math.abs(S-K)<=V*Math.max(1,Math.abs(S),Math.abs(K))&&Math.abs(R-rt)<=V*Math.max(1,Math.abs(R),Math.abs(rt))&&Math.abs(z-Xn)<=V*Math.max(1,Math.abs(z),Math.abs(Xn))&&Math.abs(D-Nn)<=V*Math.max(1,Math.abs(D),Math.abs(Nn))}static str(n){return`Mat4(${n.join(", ")})`}};$(En,"BYTE_LENGTH",16*Float32Array.BYTES_PER_ELEMENT);let $n=En;const $e=new J;$n.prototype.mul=$n.prototype.multiply,$n.sub=$n.subtract,$n.mul=$n.multiply,$n.perspective=$n.perspectiveNO,$n.ortho=$n.orthoNO;const In=$n,mt=class mt extends Float32Array{constructor(...n){switch(n.length){case 4:super(n);break;case 2:super(n[0],n[1],4);break;case 1:{const e=n[0];typeof e=="number"?super([e,e,e,e]):super(e,0,4);break}default:super(4);break}}get x(){return this[0]}set x(n){this[0]=n}get y(){return this[1]}set y(n){this[1]=n}get z(){return this[2]}set z(n){this[2]=n}get w(){return this[3]}set w(n){this[3]=n}get r(){return this[0]}set r(n){this[0]=n}get g(){return this[1]}set g(n){this[1]=n}get b(){return this[2]}set b(n){this[2]=n}get a(){return this[3]}set a(n){this[3]=n}get magnitude(){const n=this[0],e=this[1],s=this[2],a=this[3];return Math.sqrt(n*n+e*e+s*s+a*a)}get mag(){return this.magnitude}get str(){return mt.str(this)}copy(n){return super.set(n),this}add(n){return this[0]+=n[0],this[1]+=n[1],this[2]+=n[2],this[3]+=n[3],this}subtract(n){return this[0]-=n[0],this[1]-=n[1],this[2]-=n[2],this[3]-=n[3],this}sub(n){return this}multiply(n){return this[0]*=n[0],this[1]*=n[1],this[2]*=n[2],this[3]*=n[3],this}mul(n){return this}divide(n){return this[0]/=n[0],this[1]/=n[1],this[2]/=n[2],this[3]/=n[3],this}div(n){return this}scale(n){return this[0]*=n,this[1]*=n,this[2]*=n,this[3]*=n,this}scaleAndAdd(n,e){return this[0]+=n[0]*e,this[1]+=n[1]*e,this[2]+=n[2]*e,this[3]+=n[3]*e,this}distance(n){return mt.distance(this,n)}dist(n){return 0}squaredDistance(n){return mt.squaredDistance(this,n)}sqrDist(n){return 0}negate(){return this[0]*=-1,this[1]*=-1,this[2]*=-1,this[3]*=-1,this}invert(){return this[0]=1/this[0],this[1]=1/this[1],this[2]=1/this[2],this[3]=1/this[3],this}dot(n){return this[0]*n[0]+this[1]*n[1]+this[2]*n[2]+this[3]*n[3]}normalize(){return mt.normalize(this,this)}static create(){return new mt}static clone(n){return new mt(n)}static fromValues(n,e,s,a){return new mt(n,e,s,a)}static copy(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n}static set(n,e,s,a,f){return n[0]=e,n[1]=s,n[2]=a,n[3]=f,n}static add(n,e,s){return n[0]=e[0]+s[0],n[1]=e[1]+s[1],n[2]=e[2]+s[2],n[3]=e[3]+s[3],n}static subtract(n,e,s){return n[0]=e[0]-s[0],n[1]=e[1]-s[1],n[2]=e[2]-s[2],n[3]=e[3]-s[3],n}static sub(n,e,s){return n}static multiply(n,e,s){return n[0]=e[0]*s[0],n[1]=e[1]*s[1],n[2]=e[2]*s[2],n[3]=e[3]*s[3],n}static mul(n,e,s){return n}static divide(n,e,s){return n[0]=e[0]/s[0],n[1]=e[1]/s[1],n[2]=e[2]/s[2],n[3]=e[3]/s[3],n}static div(n,e,s){return n}static ceil(n,e){return n[0]=Math.ceil(e[0]),n[1]=Math.ceil(e[1]),n[2]=Math.ceil(e[2]),n[3]=Math.ceil(e[3]),n}static floor(n,e){return n[0]=Math.floor(e[0]),n[1]=Math.floor(e[1]),n[2]=Math.floor(e[2]),n[3]=Math.floor(e[3]),n}static min(n,e,s){return n[0]=Math.min(e[0],s[0]),n[1]=Math.min(e[1],s[1]),n[2]=Math.min(e[2],s[2]),n[3]=Math.min(e[3],s[3]),n}static max(n,e,s){return n[0]=Math.max(e[0],s[0]),n[1]=Math.max(e[1],s[1]),n[2]=Math.max(e[2],s[2]),n[3]=Math.max(e[3],s[3]),n}static round(n,e){return n[0]=Math.round(e[0]),n[1]=Math.round(e[1]),n[2]=Math.round(e[2]),n[3]=Math.round(e[3]),n}static scale(n,e,s){return n[0]=e[0]*s,n[1]=e[1]*s,n[2]=e[2]*s,n[3]=e[3]*s,n}static scaleAndAdd(n,e,s,a){return n[0]=e[0]+s[0]*a,n[1]=e[1]+s[1]*a,n[2]=e[2]+s[2]*a,n[3]=e[3]+s[3]*a,n}static distance(n,e){const s=e[0]-n[0],a=e[1]-n[1],f=e[2]-n[2],l=e[3]-n[3];return Math.hypot(s,a,f,l)}static dist(n,e){return 0}static squaredDistance(n,e){const s=e[0]-n[0],a=e[1]-n[1],f=e[2]-n[2],l=e[3]-n[3];return s*s+a*a+f*f+l*l}static sqrDist(n,e){return 0}static magnitude(n){const e=n[0],s=n[1],a=n[2],f=n[3];return Math.sqrt(e*e+s*s+a*a+f*f)}static mag(n){return 0}static length(n){return 0}static len(n){return 0}static squaredLength(n){const e=n[0],s=n[1],a=n[2],f=n[3];return e*e+s*s+a*a+f*f}static sqrLen(n){return 0}static negate(n,e){return n[0]=-e[0],n[1]=-e[1],n[2]=-e[2],n[3]=-e[3],n}static inverse(n,e){return n[0]=1/e[0],n[1]=1/e[1],n[2]=1/e[2],n[3]=1/e[3],n}static normalize(n,e){const s=e[0],a=e[1],f=e[2],l=e[3];let p=s*s+a*a+f*f+l*l;return p>0&&(p=1/Math.sqrt(p)),n[0]=s*p,n[1]=a*p,n[2]=f*p,n[3]=l*p,n}static dot(n,e){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]+n[3]*e[3]}static cross(n,e,s,a){const f=s[0]*a[1]-s[1]*a[0],l=s[0]*a[2]-s[2]*a[0],p=s[0]*a[3]-s[3]*a[0],g=s[1]*a[2]-s[2]*a[1],x=s[1]*a[3]-s[3]*a[1],v=s[2]*a[3]-s[3]*a[2],m=e[0],T=e[1],A=e[2],w=e[3];return n[0]=T*v-A*x+w*g,n[1]=-(m*v)+A*p-w*l,n[2]=m*x-T*p+w*f,n[3]=-(m*g)+T*l-A*f,n}static lerp(n,e,s,a){const f=e[0],l=e[1],p=e[2],g=e[3];return n[0]=f+a*(s[0]-f),n[1]=l+a*(s[1]-l),n[2]=p+a*(s[2]-p),n[3]=g+a*(s[3]-g),n}static transformMat4(n,e,s){const a=e[0],f=e[1],l=e[2],p=e[3];return n[0]=s[0]*a+s[4]*f+s[8]*l+s[12]*p,n[1]=s[1]*a+s[5]*f+s[9]*l+s[13]*p,n[2]=s[2]*a+s[6]*f+s[10]*l+s[14]*p,n[3]=s[3]*a+s[7]*f+s[11]*l+s[15]*p,n}static transformQuat(n,e,s){const a=e[0],f=e[1],l=e[2],p=s[0],g=s[1],x=s[2],v=s[3],m=v*a+g*l-x*f,T=v*f+x*a-p*l,A=v*l+p*f-g*a,w=-p*a-g*f-x*l;return n[0]=m*v+w*-p+T*-x-A*-g,n[1]=T*v+w*-g+A*-p-m*-x,n[2]=A*v+w*-x+m*-g-T*-p,n[3]=e[3],n}static zero(n){return n[0]=0,n[1]=0,n[2]=0,n[3]=0,n}static str(n){return`Vec4(${n.join(", ")})`}static exactEquals(n,e){return n[0]===e[0]&&n[1]===e[1]&&n[2]===e[2]&&n[3]===e[3]}static equals(n,e){const s=n[0],a=n[1],f=n[2],l=n[3],p=e[0],g=e[1],x=e[2],v=e[3];return Math.abs(s-p)<=V*Math.max(1,Math.abs(s),Math.abs(p))&&Math.abs(a-g)<=V*Math.max(1,Math.abs(a),Math.abs(g))&&Math.abs(f-x)<=V*Math.max(1,Math.abs(f),Math.abs(x))&&Math.abs(l-v)<=V*Math.max(1,Math.abs(l),Math.abs(v))}};$(mt,"BYTE_LENGTH",4*Float32Array.BYTES_PER_ELEMENT);let tn=mt;tn.prototype.sub=tn.prototype.subtract,tn.prototype.mul=tn.prototype.multiply,tn.prototype.div=tn.prototype.divide,tn.prototype.dist=tn.prototype.distance,tn.prototype.sqrDist=tn.prototype.squaredDistance,tn.sub=tn.subtract,tn.mul=tn.multiply,tn.div=tn.divide,tn.dist=tn.distance,tn.sqrDist=tn.squaredDistance,tn.sqrLen=tn.squaredLength,tn.mag=tn.magnitude,tn.length=tn.magnitude,tn.len=tn.magnitude;const wn=class wn extends Float32Array{constructor(...n){switch(n.length){case 4:super(n);break;case 2:super(n[0],n[1],4);break;case 1:{const e=n[0];typeof e=="number"?super([e,e,e,e]):super(e,0,4);break}default:super(4),this[3]=1;break}}get x(){return this[0]}set x(n){this[0]=n}get y(){return this[1]}set y(n){this[1]=n}get z(){return this[2]}set z(n){this[2]=n}get w(){return this[3]}set w(n){this[3]=n}get magnitude(){const n=this[0],e=this[1],s=this[2],a=this[3];return Math.sqrt(n*n+e*e+s*s+a*a)}get mag(){return this.magnitude}get str(){return wn.str(this)}copy(n){return super.set(n),this}identity(){return this[0]=0,this[1]=0,this[2]=0,this[3]=1,this}multiply(n){return wn.multiply(this,this,n)}mul(n){return this}rotateX(n){return wn.rotateX(this,this,n)}rotateY(n){return wn.rotateY(this,this,n)}rotateZ(n){return wn.rotateZ(this,this,n)}invert(){return wn.invert(this,this)}scale(n){return this[0]*=n,this[1]*=n,this[2]*=n,this[3]*=n,this}dot(n){return wn.dot(this,n)}static create(){return new wn}static identity(n){return n[0]=0,n[1]=0,n[2]=0,n[3]=1,n}static setAxisAngle(n,e,s){s=s*.5;const a=Math.sin(s);return n[0]=a*e[0],n[1]=a*e[1],n[2]=a*e[2],n[3]=Math.cos(s),n}static getAxisAngle(n,e){const s=Math.acos(e[3])*2,a=Math.sin(s/2);return a>V?(n[0]=e[0]/a,n[1]=e[1]/a,n[2]=e[2]/a):(n[0]=1,n[1]=0,n[2]=0),s}static getAngle(n,e){const s=wn.dot(n,e);return Math.acos(2*s*s-1)}static multiply(n,e,s){const a=e[0],f=e[1],l=e[2],p=e[3],g=s[0],x=s[1],v=s[2],m=s[3];return n[0]=a*m+p*g+f*v-l*x,n[1]=f*m+p*x+l*g-a*v,n[2]=l*m+p*v+a*x-f*g,n[3]=p*m-a*g-f*x-l*v,n}static rotateX(n,e,s){s*=.5;const a=e[0],f=e[1],l=e[2],p=e[3],g=Math.sin(s),x=Math.cos(s);return n[0]=a*x+p*g,n[1]=f*x+l*g,n[2]=l*x-f*g,n[3]=p*x-a*g,n}static rotateY(n,e,s){s*=.5;const a=e[0],f=e[1],l=e[2],p=e[3],g=Math.sin(s),x=Math.cos(s);return n[0]=a*x-l*g,n[1]=f*x+p*g,n[2]=l*x+a*g,n[3]=p*x-f*g,n}static rotateZ(n,e,s){s*=.5;const a=e[0],f=e[1],l=e[2],p=e[3],g=Math.sin(s),x=Math.cos(s);return n[0]=a*x+f*g,n[1]=f*x-a*g,n[2]=l*x+p*g,n[3]=p*x-l*g,n}static calculateW(n,e){const s=e[0],a=e[1],f=e[2];return n[0]=s,n[1]=a,n[2]=f,n[3]=Math.sqrt(Math.abs(1-s*s-a*a-f*f)),n}static exp(n,e){const s=e[0],a=e[1],f=e[2],l=e[3],p=Math.sqrt(s*s+a*a+f*f),g=Math.exp(l),x=p>0?g*Math.sin(p)/p:0;return n[0]=s*x,n[1]=a*x,n[2]=f*x,n[3]=g*Math.cos(p),n}static ln(n,e){const s=e[0],a=e[1],f=e[2],l=e[3],p=Math.sqrt(s*s+a*a+f*f),g=p>0?Math.atan2(p,l)/p:0;return n[0]=s*g,n[1]=a*g,n[2]=f*g,n[3]=.5*Math.log(s*s+a*a+f*f+l*l),n}static pow(n,e,s){return wn.ln(n,e),wn.scale(n,n,s),wn.exp(n,n),n}static slerp(n,e,s,a){const f=e[0],l=e[1],p=e[2],g=e[3];let x=s[0],v=s[1],m=s[2],T=s[3],A,w,S=f*x+l*v+p*m+g*T;if(S<0&&(S=-S,x=-x,v=-v,m=-m,T=-T),1-S>V){const R=Math.acos(S),z=Math.sin(R);A=Math.sin((1-a)*R)/z,w=Math.sin(a*R)/z}else A=1-a,w=a;return n[0]=A*f+w*x,n[1]=A*l+w*v,n[2]=A*p+w*m,n[3]=A*g+w*T,n}static invert(n,e){const s=e[0],a=e[1],f=e[2],l=e[3],p=s*s+a*a+f*f+l*l,g=p?1/p:0;return n[0]=-s*g,n[1]=-a*g,n[2]=-f*g,n[3]=l*g,n}static conjugate(n,e){return n[0]=-e[0],n[1]=-e[1],n[2]=-e[2],n[3]=e[3],n}static fromMat3(n,e){const s=e[0]+e[4]+e[8];let a;if(s>0)a=Math.sqrt(s+1),n[3]=.5*a,a=.5/a,n[0]=(e[5]-e[7])*a,n[1]=(e[6]-e[2])*a,n[2]=(e[1]-e[3])*a;else{let f=0;e[4]>e[0]&&(f=1),e[8]>e[f*3+f]&&(f=2);let l=(f+1)%3,p=(f+2)%3;a=Math.sqrt(e[f*3+f]-e[l*3+l]-e[p*3+p]+1),n[f]=.5*a,a=.5/a,n[3]=(e[l*3+p]-e[p*3+l])*a,n[l]=(e[l*3+f]+e[f*3+l])*a,n[p]=(e[p*3+f]+e[f*3+p])*a}return n}static fromEuler(n,e,s,a){let f=.5*Math.PI/180;e*=f,s*=f,a*=f;let l=Math.sin(e),p=Math.cos(e),g=Math.sin(s),x=Math.cos(s),v=Math.sin(a),m=Math.cos(a);return n[0]=l*x*m-p*g*v,n[1]=p*g*m+l*x*v,n[2]=p*x*v-l*g*m,n[3]=p*x*m+l*g*v,n}static str(n){return`Quat(${n.join(", ")})`}static clone(n){return new wn(n)}static fromValues(n,e,s,a){return new wn(n,e,s,a)}static copy(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n}static set(n,e,s,a,f){return n}static add(n,e,s){return n}static mul(n,e,s){return n}static scale(n,e,s){return n[0]=e[0]*s,n[1]=e[1]*s,n[2]=e[2]*s,n[3]=e[3]*s,n}static dot(n,e){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]+n[3]*e[3]}static lerp(n,e,s,a){return n}static magnitude(n){return 0}static mag(n){return 0}static length(n){return 0}static len(n){return 0}static squaredLength(n){return 0}static sqrLen(n){return 0}static normalize(n,e){return n}static exactEquals(n,e){return!1}static equals(n,e){return!1}static rotationTo(n,e,s){let a=J.dot(e,s);return a<-.999999?(J.cross(Mt,a1,e),J.len(Mt)<1e-6&&J.cross(Mt,f1,e),J.normalize(Mt,Mt),wn.setAxisAngle(n,Mt,Math.PI),n):a>.999999?(n[0]=0,n[1]=0,n[2]=0,n[3]=1,n):(J.cross(Mt,e,s),n[0]=Mt[0],n[1]=Mt[1],n[2]=Mt[2],n[3]=1+a,wn.normalize(n,n))}static sqlerp(n,e,s,a,f,l){return wn.slerp(_s,e,f,l),wn.slerp(xs,s,a,l),wn.slerp(n,_s,xs,2*l*(1-l)),n}static setAxes(n,e,s,a){return vt[0]=s[0],vt[3]=s[1],vt[6]=s[2],vt[1]=a[0],vt[4]=a[1],vt[7]=a[2],vt[2]=-e[0],vt[5]=-e[1],vt[8]=-e[2],wn.normalize(n,wn.fromMat3(n,vt))}};$(wn,"BYTE_LENGTH",4*Float32Array.BYTES_PER_ELEMENT);let yn=wn;const _s=new yn,xs=new yn,vt=new Lt,Mt=new J,a1=new J(1,0,0),f1=new J(0,1,0);yn.set=tn.set,yn.add=tn.add,yn.lerp=tn.lerp,yn.normalize=tn.normalize,yn.squaredLength=tn.squaredLength,yn.sqrLen=tn.squaredLength,yn.exactEquals=tn.exactEquals,yn.equals=tn.equals,yn.magnitude=tn.magnitude,yn.prototype.mul=yn.prototype.multiply,yn.mul=yn.multiply,yn.mag=yn.magnitude,yn.length=yn.magnitude,yn.len=yn.magnitude;const Ke=yn,yt=class yt extends Float32Array{constructor(...n){switch(n.length){case 2:{const e=n[0];typeof e=="number"?super([e,n[1]]):super(e,n[1],2);break}case 1:{const e=n[0];typeof e=="number"?super([e,e]):super(e,0,2);break}default:super(2);break}}get x(){return this[0]}set x(n){this[0]=n}get y(){return this[1]}set y(n){this[1]=n}get r(){return this[0]}set r(n){this[0]=n}get g(){return this[1]}set g(n){this[1]=n}get magnitude(){return Math.hypot(this[0],this[1])}get mag(){return this.magnitude}get squaredMagnitude(){const n=this[0],e=this[1];return n*n+e*e}get sqrMag(){return this.squaredMagnitude}get str(){return yt.str(this)}copy(n){return this.set(n),this}add(n){return this[0]+=n[0],this[1]+=n[1],this}subtract(n){return this[0]-=n[0],this[1]-=n[1],this}sub(n){return this}multiply(n){return this[0]*=n[0],this[1]*=n[1],this}mul(n){return this}divide(n){return this[0]/=n[0],this[1]/=n[1],this}div(n){return this}scale(n){return this[0]*=n,this[1]*=n,this}scaleAndAdd(n,e){return this[0]+=n[0]*e,this[1]+=n[1]*e,this}distance(n){return yt.distance(this,n)}dist(n){return 0}squaredDistance(n){return yt.squaredDistance(this,n)}sqrDist(n){return 0}negate(){return this[0]*=-1,this[1]*=-1,this}invert(){return this[0]=1/this[0],this[1]=1/this[1],this}dot(n){return this[0]*n[0]+this[1]*n[1]}normalize(){return yt.normalize(this,this)}static create(){return new yt}static clone(n){return new yt(n)}static fromValues(n,e){return new yt(n,e)}static copy(n,e){return n[0]=e[0],n[1]=e[1],n}static set(n,e,s){return n[0]=e,n[1]=s,n}static add(n,e,s){return n[0]=e[0]+s[0],n[1]=e[1]+s[1],n}static subtract(n,e,s){return n[0]=e[0]-s[0],n[1]=e[1]-s[1],n}static sub(n,e,s){return[0,0]}static multiply(n,e,s){return n[0]=e[0]*s[0],n[1]=e[1]*s[1],n}static mul(n,e,s){return[0,0]}static divide(n,e,s){return n[0]=e[0]/s[0],n[1]=e[1]/s[1],n}static div(n,e,s){return[0,0]}static ceil(n,e){return n[0]=Math.ceil(e[0]),n[1]=Math.ceil(e[1]),n}static floor(n,e){return n[0]=Math.floor(e[0]),n[1]=Math.floor(e[1]),n}static min(n,e,s){return n[0]=Math.min(e[0],s[0]),n[1]=Math.min(e[1],s[1]),n}static max(n,e,s){return n[0]=Math.max(e[0],s[0]),n[1]=Math.max(e[1],s[1]),n}static round(n,e){return n[0]=Math.round(e[0]),n[1]=Math.round(e[1]),n}static scale(n,e,s){return n[0]=e[0]*s,n[1]=e[1]*s,n}static scaleAndAdd(n,e,s,a){return n[0]=e[0]+s[0]*a,n[1]=e[1]+s[1]*a,n}static distance(n,e){return Math.hypot(e[0]-n[0],e[1]-n[1])}static dist(n,e){return 0}static squaredDistance(n,e){const s=e[0]-n[0],a=e[1]-n[1];return s*s+a*a}static sqrDist(n,e){return 0}static magnitude(n){let e=n[0],s=n[1];return Math.sqrt(e*e+s*s)}static mag(n){return 0}static length(n){return 0}static len(n){return 0}static squaredLength(n){const e=n[0],s=n[1];return e*e+s*s}static sqrLen(n,e){return 0}static negate(n,e){return n[0]=-e[0],n[1]=-e[1],n}static inverse(n,e){return n[0]=1/e[0],n[1]=1/e[1],n}static normalize(n,e){const s=e[0],a=e[1];let f=s*s+a*a;return f>0&&(f=1/Math.sqrt(f)),n[0]=e[0]*f,n[1]=e[1]*f,n}static dot(n,e){return n[0]*e[0]+n[1]*e[1]}static cross(n,e,s){const a=e[0]*s[1]-e[1]*s[0];return n[0]=n[1]=0,n[2]=a,n}static lerp(n,e,s,a){const f=e[0],l=e[1];return n[0]=f+a*(s[0]-f),n[1]=l+a*(s[1]-l),n}static transformMat2(n,e,s){const a=e[0],f=e[1];return n[0]=s[0]*a+s[2]*f,n[1]=s[1]*a+s[3]*f,n}static transformMat2d(n,e,s){const a=e[0],f=e[1];return n[0]=s[0]*a+s[2]*f+s[4],n[1]=s[1]*a+s[3]*f+s[5],n}static transformMat3(n,e,s){const a=e[0],f=e[1];return n[0]=s[0]*a+s[3]*f+s[6],n[1]=s[1]*a+s[4]*f+s[7],n}static transformMat4(n,e,s){const a=e[0],f=e[1];return n[0]=s[0]*a+s[4]*f+s[12],n[1]=s[1]*a+s[5]*f+s[13],n}static rotate(n,e,s,a){const f=e[0]-s[0],l=e[1]-s[1],p=Math.sin(a),g=Math.cos(a);return n[0]=f*g-l*p+s[0],n[1]=f*p+l*g+s[1],n}static angle(n,e){const s=n[0],a=n[1],f=e[0],l=e[1],p=Math.sqrt(s*s+a*a)*Math.sqrt(f*f+l*l),g=p&&(s*f+a*l)/p;return Math.acos(Math.min(Math.max(g,-1),1))}static zero(n){return n[0]=0,n[1]=0,n}static exactEquals(n,e){return n[0]===e[0]&&n[1]===e[1]}static equals(n,e){const s=n[0],a=n[1],f=e[0],l=e[1];return Math.abs(s-f)<=V*Math.max(1,Math.abs(s),Math.abs(f))&&Math.abs(a-l)<=V*Math.max(1,Math.abs(a),Math.abs(l))}static str(n){return`Vec2(${n.join(", ")})`}};$(yt,"BYTE_LENGTH",2*Float32Array.BYTES_PER_ELEMENT);let ln=yt;ln.prototype.sub=ln.prototype.subtract,ln.prototype.mul=ln.prototype.multiply,ln.prototype.div=ln.prototype.divide,ln.prototype.dist=ln.prototype.distance,ln.prototype.sqrDist=ln.prototype.squaredDistance,ln.sub=ln.subtract,ln.mul=ln.multiply,ln.div=ln.divide,ln.dist=ln.distance,ln.sqrDist=ln.squaredDistance,ln.sqrLen=ln.squaredLength,ln.mag=ln.magnitude,ln.length=ln.magnitude,ln.len=ln.magnitude;const Ut=ln;class Gr extends Ze{constructor(){super();$(this,"name");$(this,"matrix",In.create());$(this,"location")}findUniformInfo(){return ye.current.m_uniformLocations[this.name]}update(){ye.current.gl.uniformMatrix4fv(this.location,!1,this.matrix)}updateMatrix(e){this.matrix=e}}class h1 extends Set{constructor(){super()}}class ie extends Gr{constructor(e){super();$(this,"defaultUniform");$(this,"name","uViewMatrix");$(this,"pos");this.defaultUniform=e;const s=on.fromValues(0,5,5),a=on.fromValues(0,0,0),f=on.fromValues(0,1,0),l=In.create();In.lookAt(l,s,a,f),this.matrix=l}tie(e){const s=this.findUniformInfo();this.location=s.location,this.update()}obr(e){if(!this.pos)return;const s=Ut.create();Ut.subtract(s,e,this.pos),s[1]=-s[1],this.pos=e;const a=[100,100],f=this.matrix,l=on.fromValues(f[0],f[4],f[8]),p=on.fromValues(f[1],f[5],f[9]),g=on.fromValues(f[2],f[6],f[10]),x=Ut.length(s)/a[1]*Math.PI*2;Ut.normalize(s,s),on.normalize(l,l);for(let z=0;z<l.length;++z)l[z]*=s[0];on.normalize(p,p);for(let z=0;z<p.length;++z)p[z]*=s[1];const v=on.create();on.add(v,v,l),on.add(v,v,p);const m=on.clone(g);on.cross(m,m,v),on.normalize(m,m);const T=Ke.create();Ke.setAxisAngle(T,m,x);const A=this.defaultUniform.orbitPoint,w=on.clone(A);on.negate(w,w);const S=In.create();In.translate(S,S,A);const R=In.create();In.fromQuat(R,T),In.multiply(S,S,R),In.translate(S,S,w),In.multiply(f,f,S),this.matrix=f,this.update()}wheel(e){if(!this.pos)return;const s=Ut.create();Ut.subtract(s,e,this.pos),s[1]=-s[1],this.pos=e;const a=[100,100],f=this.matrix,l=on.fromValues(f[0],f[4],f[8]),p=on.fromValues(f[1],f[5],f[9]),g=on.fromValues(f[2],f[6],f[10]),x=Ut.length(s)/a[1]*Math.PI*2;Ut.normalize(s,s),on.normalize(l,l);for(let z=0;z<l.length;++z)l[z]*=s[0];on.normalize(p,p);for(let z=0;z<p.length;++z)p[z]*=s[1];const v=on.create();on.add(v,v,l),on.add(v,v,p);const m=on.clone(g);on.cross(m,m,v),on.normalize(m,m);const T=Ke.create();Ke.setAxisAngle(T,m,x);const A=this.defaultUniform.orbitPoint,w=on.clone(A);on.negate(w,w);const S=In.create();In.translate(S,S,A);const R=In.create();In.fromQuat(R,T),In.multiply(S,S,R),In.translate(S,S,w),In.multiply(f,f,S),this.matrix=f,this.update()}}$(ie,"current");var Yr;(an=>{class n{static ZoomIn(){}static ZoomOut(){}}an.Zoom=n;class e{static update(a){ie.current.obr(a)}}an.Rotate=e})(Yr||(Yr={}));const l1=Yr.Rotate;class u1 extends ps{constructor(){super();$(this,"m")}mousedown(e){console.log(e);const s=[e.clientX,e.clientY],a=ie.current;return a.pos=s,null}mouseup(e){const s=ie.current;return s.pos=void 0,super.mouseup(e)}mousemove(e){const s=[e.clientX,e.clientY];return l1.update(s),null}}class o1{constructor(){$(this,"scene");$(this,"chain");$(this,"cameraChain");$(this,"state")}init(n){this.scene=n,this.chain=new c1,this.cameraChain=new u1,this.switchState(0),n.context.canvas.addEventListener("mousedown",e=>{console.log(e),this.chain.mousedown(e),n.render(),e.button==2&&e.preventDefault()}),n.context.canvas.addEventListener("mouseup",e=>{console.log(e),this.chain.mouseup(e)}),n.context.canvas.addEventListener("mousemove",e=>{this.chain.mousemove(e),n.render()})}switchState(n){switch(n){case 0:this.transitionTo(new s1);break}}transitionTo(n){this.state=n,this.state.setContext(this),this.state.start()}}class p1 extends Gr{constructor(){super();$(this,"name","uModelMatrix");const e=this.matrix;In.translate(e,e,[0,0,0]),this.matrix=e}tie(e){const s=this.findUniformInfo();this.location=s.location,this.update()}}class g1 extends Gr{constructor(){super();$(this,"name","uProjectionMatrix");const e=Ye.gl,s=45*Math.PI/180,a=e.canvas.width/e.canvas.height,f=.1,l=1e3,p=In.create();In.perspectiveNO(p,s,a,f,l),this.matrix=p}tie(e){this.location=this.findUniformInfo().location,this.update()}}class d1 extends h1{constructor(){super();$(this,"modelMatrix");$(this,"viewMatrix");$(this,"projectMatrix");$(this,"orbitPoint");$(this,"viewportSize");this.projectMatrix=new g1,this.viewMatrix=new ie(this),this.modelMatrix=new p1,this.orbitPoint=on.create(),this.add(this.modelMatrix),this.add(this.viewMatrix),this.add(this.projectMatrix),ie.current=this.viewMatrix}}class _1{constructor(n){$(this,"defaultUniform");$(this,"scene");this.scene=n,this.defaultUniform=new d1}update(){this.scene.render()}}class x1 extends e1{constructor(){super();$(this,"context");$(this,"background",new r1);$(this,"model",new ka);$(this,"camera");$(this,"controller",new o1)}mount(e){console.log(e),this.context=new Va(e),this.init()}init(){this.camera=new _1(this),this.controller.init(this)}get gl(){var e;return(e=this.context)==null?void 0:e.gl}build(){super.build(this.gl)}render(){console.log("render"),super.render(this.gl)}add(e){this.push(e)}}tt.Scene=x1,Object.defineProperty(tt,Symbol.toStringTag,{value:"Module"})});
