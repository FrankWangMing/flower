# Flower 文档设计方案

## 📋 文档结构规划

### 一、文档架构

```
docs/
├── index.md              # 首页（概览、特性介绍）
├── getting-started.md    # 快速开始
├── api/                  # API 文档
│   ├── scene.md          # Scene API
│   ├── cell.md           # Cell API
│   ├── geometry.md       # Geometry API
│   ├── material.md       # Material API
│   ├── camera.md         # Camera API
│   ├── loader.md         # Loader API
│   └── controller.md     # Controller API
├── guides/               # 指南和教程
│   ├── basic-rendering.md    # 基础渲染
│   ├── model-loading.md      # 模型加载
│   ├── camera-control.md     # 相机控制
│   ├── materials.md          # 材质系统
│   ├── animation.md          # 动画
│   └── performance.md        # 性能优化
├── examples/             # 示例代码
│   └── (示例代码片段)
└── faq.md                # 常见问题
```

---

## 🎯 文档内容规划

### 1. **首页 (index.md)**
**目标**：让用户快速了解项目，产生使用兴趣

**内容结构**：
- 项目介绍（1-2 段）
- 核心特性（4-6 个特性点，带图标）
- 快速预览（嵌入基础 demo）
- 适用场景（3-5 个场景）
- 快速链接（快速开始、示例、API）

**设计要点**：
- 简洁明了，避免信息过载
- 突出核心价值（轻量级、易用、TypeScript）
- 提供清晰的行动指引

---

### 2. **快速开始 (getting-started.md)**
**目标**：让用户在 5 分钟内运行第一个 3D 场景

**内容结构**：
1. **安装**
   - npm/pnpm 安装
   - CDN 方式（如果支持）

2. **第一个场景**（完整可运行的代码）
   ```tsx
   // 最小可运行示例
   ```

3. **核心概念**（简要介绍）
   - Scene（场景）
   - Cell（对象）
   - Geometry（几何体）
   - Material（材质）

4. **下一步**
   - 查看示例
   - 阅读 API 文档
   - 学习指南

**设计要点**：
- 代码示例必须可以直接复制运行
- 每个步骤都有清晰的说明
- 提供完整代码和分步说明两种形式

---

### 3. **API 文档 (api/)**
**目标**：提供完整的 API 参考

**每个 API 文档包含**：
1. **概述**：类的用途和主要功能
2. **构造函数**：参数说明
3. **属性**：所有公共属性
4. **方法**：所有公共方法，包含：
   - 方法签名
   - 参数说明
   - 返回值
   - 使用示例
   - 注意事项
5. **示例代码**：实际使用场景

**API 文档列表**：
- `scene.md` - Scene 类（核心场景管理）
- `cell.md` - Cell 类（3D 对象）
- `geometry.md` - Geometry、Buffer 类
- `material.md` - Material 类
- `camera.md` - Camera 类
- `loader.md` - Loader 类（模型加载）
- `controller.md` - Controller 类（交互控制）

**设计要点**：
- 使用表格展示参数
- 代码示例要实用
- 标注版本兼容性
- 提供 TypeScript 类型定义

---

### 4. **指南 (guides/)**
**目标**：通过教程帮助用户掌握核心功能

**指南列表**：

#### 4.1 基础渲染 (basic-rendering.md)
- 创建场景
- 添加对象
- 渲染循环
- 资源清理

#### 4.2 模型加载 (model-loading.md)
- JSON 格式几何数据
- GLB/glTF 模型加载
- 错误处理
- 加载进度

#### 4.3 相机控制 (camera-control.md)
- 轨道控制器
- 鼠标交互
- 相机动画
- 视角切换

#### 4.4 材质系统 (materials.md)
- 创建材质
- 颜色设置
- 纹理贴图（如果支持）
- 材质切换

#### 4.5 动画 (animation.md)
- 基础动画
- 矩阵变换
- 时间控制
- 动画循环

#### 4.6 性能优化 (performance.md)
- 渲染优化
- 资源管理
- 大场景处理
- 最佳实践

**设计要点**：
- 每个指南都是独立的，可以单独阅读
- 从简单到复杂
- 提供完整代码示例
- 包含常见问题和陷阱

---

### 5. **示例演示 (/demos)**
**目标**：通过可交互示例展示功能

**当前已有**：
- ✅ 基础渲染
- ✅ GLB 模型加载
- ✅ 多模型场景
- ✅ 交互式控制
- ✅ 材质系统
- ✅ 动画旋转

**可以扩展**：
- 复杂场景组合
- 性能对比示例
- 不同材质效果
- 相机动画示例

**设计要点**：
- 左右布局（已实现）
- 每个示例都有说明
- 提供源代码链接
- 支持在线编辑（可选）

---

### 6. **常见问题 (faq.md)**
**目标**：解答用户常见疑问

**问题分类**：
1. **安装和配置**
   - 如何安装？
   - 支持哪些浏览器？
   - TypeScript 支持？

2. **使用问题**
   - 如何加载模型？
   - 如何控制相机？
   - 如何实现动画？

3. **性能问题**
   - 渲染卡顿怎么办？
   - 如何优化性能？
   - 支持多少对象？

4. **兼容性**
   - 与 React 版本兼容性
   - WebGL 支持情况
   - 移动端支持

5. **故障排除**
   - 黑屏问题
   - 模型不显示
   - 交互无响应

**设计要点**：
- 问题要实际，来自真实使用场景
- 答案要简洁明了
- 提供代码示例
- 链接到相关文档

---

## 🎨 文档设计原则

### 1. **用户导向**
- 从用户需求出发，而非技术实现
- 提供多种学习路径（快速上手、深入学习、API 查阅）

### 2. **渐进式学习**
- 从简单到复杂
- 每个概念都有示例
- 提供完整代码和分步说明

### 3. **可操作性**
- 所有代码示例都可以直接运行
- 提供完整的上下文
- 标注必要的依赖和配置

### 4. **可发现性**
- 清晰的导航结构
- 相关文档链接
- 搜索功能（如果可能）

### 5. **保持更新**
- 版本标注
- 变更日志
- 废弃 API 标注

---

## 📝 文档编写规范

### 代码示例规范
```tsx
// ✅ 好的示例：完整、可运行、有注释
import React, { useEffect, useRef } from 'react';
import { Scene } from 'flower';
import { Cell, Buffer, Geometry } from 'flower';
import { Material } from 'flower';

export default function MyComponent() {
  const containerRef = useRef<HTMLDivElement>(null);

  useEffect(() => {
    if (!containerRef.current) return;

    // 创建场景
    const scene = new Scene();
    scene.mount(containerRef.current);

    // ... 更多代码

    return () => {
      // 清理资源
      scene.dispose();
    };
  }, []);

  return <div ref={containerRef} style={{ width: '100%', height: 480 }} />;
}
```

### Markdown 格式规范
- 使用清晰的标题层级
- 代码块标注语言类型
- 重要信息使用提示框
- 链接使用描述性文本

### 示例
```markdown
> 💡 **提示**：Scene 必须在 mount 之后才能添加对象。

> ⚠️ **注意**：记得在组件卸载时调用 `scene.dispose()` 清理资源。

> ✅ **最佳实践**：使用 `requestAnimationFrame` 实现渲染循环。
```

---

## 🚀 实施计划

### 阶段 1：核心文档（优先级最高）
1. ✅ 首页优化
2. ⬜ 快速开始指南
3. ⬜ Scene API 文档
4. ⬜ Cell API 文档

### 阶段 2：功能文档
5. ⬜ 基础渲染指南
6. ⬜ 模型加载指南
7. ⬜ 相机控制指南
8. ⬜ 其他 API 文档

### 阶段 3：完善和优化
9. ⬜ 常见问题
10. ⬜ 性能优化指南
11. ⬜ 更多示例
12. ⬜ 文档搜索功能

---

## 📊 文档质量检查清单

- [ ] 所有代码示例都可以运行
- [ ] 所有链接都有效
- [ ] API 文档包含所有公共方法
- [ ] 示例代码有注释说明
- [ ] 重要概念有详细解释
- [ ] 提供多种学习路径
- [ ] 移动端友好
- [ ] 搜索功能可用（如果实现）

---

## 🎯 成功指标

1. **用户反馈**：用户能快速上手
2. **使用率**：示例页面访问量
3. **问题减少**：GitHub Issues 中基础问题减少
4. **社区贡献**：用户贡献示例和教程

---

## 💡 额外建议

### 1. **交互式文档**
- 代码编辑器（CodeSandbox 集成）
- 参数调整器（实时预览效果）
- 性能监控面板

### 2. **视频教程**
- 快速开始视频（5 分钟）
- 核心功能演示
- 最佳实践分享

### 3. **社区内容**
- 用户案例展示
- 社区贡献的示例
- 第三方集成指南

### 4. **版本管理**
- 版本切换器
- 变更日志
- 迁移指南

---

这个文档设计方案可以根据项目发展逐步实施，优先完成核心文档，然后逐步完善。
